function Ur(y){return y&&y.__esModule&&Object.prototype.hasOwnProperty.call(y,"default")?y.default:y}var wo={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */var jr=wo.exports,cr;function qr(){return cr||(cr=1,function(y){(function(w,C){y.exports=w.document?C(w,!0):function(k){if(!k.document)throw new Error("jQuery requires a window with a document");return C(k)}})(typeof window<"u"?window:jr,function(w,C){var k=[],a=Object.getPrototypeOf,o=k.slice,s=k.flat?function(i){return k.flat.call(i)}:function(i){return k.concat.apply([],i)},f=k.push,m=k.indexOf,x={},P=x.toString,M=x.hasOwnProperty,B=M.toString,F=B.call(Object),j={},H=function(r){return typeof r=="function"&&typeof r.nodeType!="number"&&typeof r.item!="function"},ut=function(r){return r!=null&&r===r.window},V=w.document,wt={type:!0,src:!0,nonce:!0,noModule:!0};function bt(i,r,h){h=h||V;var u,p,_=h.createElement("script");if(_.text=i,r)for(u in wt)p=r[u]||r.getAttribute&&r.getAttribute(u),p&&_.setAttribute(u,p);h.head.appendChild(_).parentNode.removeChild(_)}function It(i){return i==null?i+"":typeof i=="object"||typeof i=="function"?x[P.call(i)]||"object":typeof i}var Yt="3.7.1",ue=/HTML$/i,c=function(i,r){return new c.fn.init(i,r)};c.fn=c.prototype={jquery:Yt,constructor:c,length:0,toArray:function(){return o.call(this)},get:function(i){return i==null?o.call(this):i<0?this[i+this.length]:this[i]},pushStack:function(i){var r=c.merge(this.constructor(),i);return r.prevObject=this,r},each:function(i){return c.each(this,i)},map:function(i){return this.pushStack(c.map(this,function(r,h){return i.call(r,h,r)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(c.grep(this,function(i,r){return(r+1)%2}))},odd:function(){return this.pushStack(c.grep(this,function(i,r){return r%2}))},eq:function(i){var r=this.length,h=+i+(i<0?r:0);return this.pushStack(h>=0&&h<r?[this[h]]:[])},end:function(){return this.prevObject||this.constructor()},push:f,sort:k.sort,splice:k.splice},c.extend=c.fn.extend=function(){var i,r,h,u,p,_,g=arguments[0]||{},E=1,T=arguments.length,O=!1;for(typeof g=="boolean"&&(O=g,g=arguments[E]||{},E++),typeof g!="object"&&!H(g)&&(g={}),E===T&&(g=this,E--);E<T;E++)if((i=arguments[E])!=null)for(r in i)u=i[r],!(r==="__proto__"||g===u)&&(O&&u&&(c.isPlainObject(u)||(p=Array.isArray(u)))?(h=g[r],p&&!Array.isArray(h)?_=[]:!p&&!c.isPlainObject(h)?_={}:_=h,p=!1,g[r]=c.extend(O,_,u)):u!==void 0&&(g[r]=u));return g},c.extend({expando:"jQuery"+(Yt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(i){throw new Error(i)},noop:function(){},isPlainObject:function(i){var r,h;return!i||P.call(i)!=="[object Object]"?!1:(r=a(i),r?(h=M.call(r,"constructor")&&r.constructor,typeof h=="function"&&B.call(h)===F):!0)},isEmptyObject:function(i){var r;for(r in i)return!1;return!0},globalEval:function(i,r,h){bt(i,{nonce:r&&r.nonce},h)},each:function(i,r){var h,u=0;if(ci(i))for(h=i.length;u<h&&r.call(i[u],u,i[u])!==!1;u++);else for(u in i)if(r.call(i[u],u,i[u])===!1)break;return i},text:function(i){var r,h="",u=0,p=i.nodeType;if(!p)for(;r=i[u++];)h+=c.text(r);return p===1||p===11?i.textContent:p===9?i.documentElement.textContent:p===3||p===4?i.nodeValue:h},makeArray:function(i,r){var h=r||[];return i!=null&&(ci(Object(i))?c.merge(h,typeof i=="string"?[i]:i):f.call(h,i)),h},inArray:function(i,r,h){return r==null?-1:m.call(r,i,h)},isXMLDoc:function(i){var r=i&&i.namespaceURI,h=i&&(i.ownerDocument||i).documentElement;return!ue.test(r||h&&h.nodeName||"HTML")},merge:function(i,r){for(var h=+r.length,u=0,p=i.length;u<h;u++)i[p++]=r[u];return i.length=p,i},grep:function(i,r,h){for(var u,p=[],_=0,g=i.length,E=!h;_<g;_++)u=!r(i[_],_),u!==E&&p.push(i[_]);return p},map:function(i,r,h){var u,p,_=0,g=[];if(ci(i))for(u=i.length;_<u;_++)p=r(i[_],_,h),p!=null&&g.push(p);else for(_ in i)p=r(i[_],_,h),p!=null&&g.push(p);return s(g)},guid:1,support:j}),typeof Symbol=="function"&&(c.fn[Symbol.iterator]=k[Symbol.iterator]),c.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(i,r){x["[object "+r+"]"]=r.toLowerCase()});function ci(i){var r=!!i&&"length"in i&&i.length,h=It(i);return H(i)||ut(i)?!1:h==="array"||r===0||typeof r=="number"&&r>0&&r-1 in i}function Et(i,r){return i.nodeName&&i.nodeName.toLowerCase()===r.toLowerCase()}var Mi=k.pop,Ut=k.sort,Qt=k.splice,xt="[\\x20\\t\\r\\n\\f]",te=new RegExp("^"+xt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+xt+"+$","g");c.contains=function(i,r){var h=r&&r.parentNode;return i===h||!!(h&&h.nodeType===1&&(i.contains?i.contains(h):i.compareDocumentPosition&&i.compareDocumentPosition(h)&16))};var zt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function Mt(i,r){return r?i==="\0"?"ï¿½":i.slice(0,-1)+"\\"+i.charCodeAt(i.length-1).toString(16)+" ":"\\"+i}c.escapeSelector=function(i){return(i+"").replace(zt,Mt)};var Dt=V,nt=f;(function(){var i,r,h,u,p,_=nt,g,E,T,O,Z,U=c.expando,z=0,W=0,at=tn(),Lt=tn(),ft=tn(),Jt=tn(),Gt=function(b,D){return b===D&&(p=!0),0},Be="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Me="(?:\\\\[\\da-fA-F]{1,6}"+xt+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",mt="\\["+xt+"*("+Me+")(?:"+xt+"*([*^$|!~]?=)"+xt+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Me+"))|)"+xt+"*\\]",Ne=":("+Me+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+mt+")*)|.*)\\)|)",pt=new RegExp(xt+"+","g"),Zt=new RegExp("^"+xt+"*,"+xt+"*"),Ye=new RegExp("^"+xt+"*([>+~]|"+xt+")"+xt+"*"),le=new RegExp(xt+"|>"),Pe=new RegExp(Ne),Li=new RegExp("^"+Me+"$"),Re={ID:new RegExp("^#("+Me+")"),CLASS:new RegExp("^\\.("+Me+")"),TAG:new RegExp("^("+Me+"|[*])"),ATTR:new RegExp("^"+mt),PSEUDO:new RegExp("^"+Ne),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+xt+"*(even|odd|(([+-]|)(\\d*)n|)"+xt+"*(?:([+-]|)"+xt+"*(\\d+)|))"+xt+"*\\)|)","i"),bool:new RegExp("^(?:"+Be+")$","i"),needsContext:new RegExp("^"+xt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+xt+"*((?:-\\d)?\\d*)"+xt+"*\\)|)(?=[^-]|$)","i")},Ze=/^(?:input|select|textarea|button)$/i,He=/^h\d$/i,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,In=/[+~]/,Fe=new RegExp("\\\\[\\da-fA-F]{1,6}"+xt+"?|\\\\([^\\r\\n\\f])","g"),Xe=function(b,D){var A="0x"+b.slice(1)-65536;return D||(A<0?String.fromCharCode(A+65536):String.fromCharCode(A>>10|55296,A&1023|56320))},Ee=function(){Se()},wi=Le(function(b){return b.disabled===!0&&Et(b,"fieldset")},{dir:"parentNode",next:"legend"});function Zo(){try{return g.activeElement}catch{}}try{_.apply(k=o.call(Dt.childNodes),Dt.childNodes),k[Dt.childNodes.length].nodeType}catch{_={apply:function(D,A){nt.apply(D,o.call(A))},call:function(D){nt.apply(D,o.call(arguments,1))}}}function gt(b,D,A,N){var G,Y,X,tt,K,_t,st,ht=D&&D.ownerDocument,vt=D?D.nodeType:9;if(A=A||[],typeof b!="string"||!b||vt!==1&&vt!==9&&vt!==11)return A;if(!N&&(Se(D),D=D||g,T)){if(vt!==11&&(K=ye.exec(b)))if(G=K[1]){if(vt===9)if(X=D.getElementById(G)){if(X.id===G)return _.call(A,X),A}else return A;else if(ht&&(X=ht.getElementById(G))&&gt.contains(D,X)&&X.id===G)return _.call(A,X),A}else{if(K[2])return _.apply(A,D.getElementsByTagName(b)),A;if((G=K[3])&&D.getElementsByClassName)return _.apply(A,D.getElementsByClassName(G)),A}if(!Jt[b+" "]&&(!O||!O.test(b))){if(st=b,ht=D,vt===1&&(le.test(b)||Ye.test(b))){for(ht=In.test(b)&&Ge(D.parentNode)||D,(ht!=D||!j.scope)&&((tt=D.getAttribute("id"))?tt=c.escapeSelector(tt):D.setAttribute("id",tt=U)),_t=hi(b),Y=_t.length;Y--;)_t[Y]=(tt?"#"+tt:":scope")+" "+en(_t[Y]);st=_t.join(",")}try{return _.apply(A,ht.querySelectorAll(st)),A}catch{Jt(b,!0)}finally{tt===U&&D.removeAttribute("id")}}}return Ui(b.replace(te,"$1"),D,A,N)}function tn(){var b=[];function D(A,N){return b.push(A+" ")>r.cacheLength&&delete D[b.shift()],D[A+" "]=N}return D}function oe(b){return b[U]=!0,b}function bi(b){var D=g.createElement("fieldset");try{return!!b(D)}catch{return!1}finally{D.parentNode&&D.parentNode.removeChild(D),D=null}}function Hi(b){return function(D){return Et(D,"input")&&D.type===b}}function mo(b){return function(D){return(Et(D,"input")||Et(D,"button"))&&D.type===b}}function Fi(b){return function(D){return"form"in D?D.parentNode&&D.disabled===!1?"label"in D?"label"in D.parentNode?D.parentNode.disabled===b:D.disabled===b:D.isDisabled===b||D.isDisabled!==!b&&wi(D)===b:D.disabled===b:"label"in D?D.disabled===b:!1}}function li(b){return oe(function(D){return D=+D,oe(function(A,N){for(var G,Y=b([],A.length,D),X=Y.length;X--;)A[G=Y[X]]&&(A[G]=!(N[G]=A[G]))})})}function Ge(b){return b&&typeof b.getElementsByTagName<"u"&&b}function Se(b){var D,A=b?b.ownerDocument||b:Dt;return A==g||A.nodeType!==9||!A.documentElement||(g=A,E=g.documentElement,T=!c.isXMLDoc(g),Z=E.matches||E.webkitMatchesSelector||E.msMatchesSelector,E.msMatchesSelector&&Dt!=g&&(D=g.defaultView)&&D.top!==D&&D.addEventListener("unload",Ee),j.getById=bi(function(N){return E.appendChild(N).id=c.expando,!g.getElementsByName||!g.getElementsByName(c.expando).length}),j.disconnectedMatch=bi(function(N){return Z.call(N,"*")}),j.scope=bi(function(){return g.querySelectorAll(":scope")}),j.cssHas=bi(function(){try{return g.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),j.getById?(r.filter.ID=function(N){var G=N.replace(Fe,Xe);return function(Y){return Y.getAttribute("id")===G}},r.find.ID=function(N,G){if(typeof G.getElementById<"u"&&T){var Y=G.getElementById(N);return Y?[Y]:[]}}):(r.filter.ID=function(N){var G=N.replace(Fe,Xe);return function(Y){var X=typeof Y.getAttributeNode<"u"&&Y.getAttributeNode("id");return X&&X.value===G}},r.find.ID=function(N,G){if(typeof G.getElementById<"u"&&T){var Y,X,tt,K=G.getElementById(N);if(K){if(Y=K.getAttributeNode("id"),Y&&Y.value===N)return[K];for(tt=G.getElementsByName(N),X=0;K=tt[X++];)if(Y=K.getAttributeNode("id"),Y&&Y.value===N)return[K]}return[]}}),r.find.TAG=function(N,G){return typeof G.getElementsByTagName<"u"?G.getElementsByTagName(N):G.querySelectorAll(N)},r.find.CLASS=function(N,G){if(typeof G.getElementsByClassName<"u"&&T)return G.getElementsByClassName(N)},O=[],bi(function(N){var G;E.appendChild(N).innerHTML="<a id='"+U+"' href='' disabled='disabled'></a><select id='"+U+"-\r\\' disabled='disabled'><option selected=''></option></select>",N.querySelectorAll("[selected]").length||O.push("\\["+xt+"*(?:value|"+Be+")"),N.querySelectorAll("[id~="+U+"-]").length||O.push("~="),N.querySelectorAll("a#"+U+"+*").length||O.push(".#.+[+~]"),N.querySelectorAll(":checked").length||O.push(":checked"),G=g.createElement("input"),G.setAttribute("type","hidden"),N.appendChild(G).setAttribute("name","D"),E.appendChild(N).disabled=!0,N.querySelectorAll(":disabled").length!==2&&O.push(":enabled",":disabled"),G=g.createElement("input"),G.setAttribute("name",""),N.appendChild(G),N.querySelectorAll("[name='']").length||O.push("\\["+xt+"*name"+xt+"*="+xt+`*(?:''|"")`)}),j.cssHas||O.push(":has"),O=O.length&&new RegExp(O.join("|")),Gt=function(N,G){if(N===G)return p=!0,0;var Y=!N.compareDocumentPosition-!G.compareDocumentPosition;return Y||(Y=(N.ownerDocument||N)==(G.ownerDocument||G)?N.compareDocumentPosition(G):1,Y&1||!j.sortDetached&&G.compareDocumentPosition(N)===Y?N===g||N.ownerDocument==Dt&&gt.contains(Dt,N)?-1:G===g||G.ownerDocument==Dt&&gt.contains(Dt,G)?1:u?m.call(u,N)-m.call(u,G):0:Y&4?-1:1)}),g}gt.matches=function(b,D){return gt(b,null,null,D)},gt.matchesSelector=function(b,D){if(Se(b),T&&!Jt[D+" "]&&(!O||!O.test(D)))try{var A=Z.call(b,D);if(A||j.disconnectedMatch||b.document&&b.document.nodeType!==11)return A}catch{Jt(D,!0)}return gt(D,g,null,[b]).length>0},gt.contains=function(b,D){return(b.ownerDocument||b)!=g&&Se(b),c.contains(b,D)},gt.attr=function(b,D){(b.ownerDocument||b)!=g&&Se(b);var A=r.attrHandle[D.toLowerCase()],N=A&&M.call(r.attrHandle,D.toLowerCase())?A(b,D,!T):void 0;return N!==void 0?N:b.getAttribute(D)},gt.error=function(b){throw new Error("Syntax error, unrecognized expression: "+b)},c.uniqueSort=function(b){var D,A=[],N=0,G=0;if(p=!j.sortStable,u=!j.sortStable&&o.call(b,0),Ut.call(b,Gt),p){for(;D=b[G++];)D===b[G]&&(N=A.push(G));for(;N--;)Qt.call(b,A[N],1)}return u=null,b},c.fn.uniqueSort=function(){return this.pushStack(c.uniqueSort(o.apply(this)))},r=c.expr={cacheLength:50,createPseudo:oe,match:Re,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(b){return b[1]=b[1].replace(Fe,Xe),b[3]=(b[3]||b[4]||b[5]||"").replace(Fe,Xe),b[2]==="~="&&(b[3]=" "+b[3]+" "),b.slice(0,4)},CHILD:function(b){return b[1]=b[1].toLowerCase(),b[1].slice(0,3)==="nth"?(b[3]||gt.error(b[0]),b[4]=+(b[4]?b[5]+(b[6]||1):2*(b[3]==="even"||b[3]==="odd")),b[5]=+(b[7]+b[8]||b[3]==="odd")):b[3]&&gt.error(b[0]),b},PSEUDO:function(b){var D,A=!b[6]&&b[2];return Re.CHILD.test(b[0])?null:(b[3]?b[2]=b[4]||b[5]||"":A&&Pe.test(A)&&(D=hi(A,!0))&&(D=A.indexOf(")",A.length-D)-A.length)&&(b[0]=b[0].slice(0,D),b[2]=A.slice(0,D)),b.slice(0,3))}},filter:{TAG:function(b){var D=b.replace(Fe,Xe).toLowerCase();return b==="*"?function(){return!0}:function(A){return Et(A,D)}},CLASS:function(b){var D=at[b+" "];return D||(D=new RegExp("(^|"+xt+")"+b+"("+xt+"|$)"))&&at(b,function(A){return D.test(typeof A.className=="string"&&A.className||typeof A.getAttribute<"u"&&A.getAttribute("class")||"")})},ATTR:function(b,D,A){return function(N){var G=gt.attr(N,b);return G==null?D==="!=":D?(G+="",D==="="?G===A:D==="!="?G!==A:D==="^="?A&&G.indexOf(A)===0:D==="*="?A&&G.indexOf(A)>-1:D==="$="?A&&G.slice(-A.length)===A:D==="~="?(" "+G.replace(pt," ")+" ").indexOf(A)>-1:D==="|="?G===A||G.slice(0,A.length+1)===A+"-":!1):!0}},CHILD:function(b,D,A,N,G){var Y=b.slice(0,3)!=="nth",X=b.slice(-4)!=="last",tt=D==="of-type";return N===1&&G===0?function(K){return!!K.parentNode}:function(K,_t,st){var ht,vt,et,St,he,jt=Y!==X?"nextSibling":"previousSibling",we=K.parentNode,Oe=tt&&K.nodeName.toLowerCase(),ki=!st&&!tt,qt=!1;if(we){if(Y){for(;jt;){for(et=K;et=et[jt];)if(tt?Et(et,Oe):et.nodeType===1)return!1;he=jt=b==="only"&&!he&&"nextSibling"}return!0}if(he=[X?we.firstChild:we.lastChild],X&&ki){for(vt=we[U]||(we[U]={}),ht=vt[b]||[],St=ht[0]===z&&ht[1],qt=St&&ht[2],et=St&&we.childNodes[St];et=++St&&et&&et[jt]||(qt=St=0)||he.pop();)if(et.nodeType===1&&++qt&&et===K){vt[b]=[z,St,qt];break}}else if(ki&&(vt=K[U]||(K[U]={}),ht=vt[b]||[],St=ht[0]===z&&ht[1],qt=St),qt===!1)for(;(et=++St&&et&&et[jt]||(qt=St=0)||he.pop())&&!((tt?Et(et,Oe):et.nodeType===1)&&++qt&&(ki&&(vt=et[U]||(et[U]={}),vt[b]=[z,qt]),et===K)););return qt-=G,qt===N||qt%N===0&&qt/N>=0}}},PSEUDO:function(b,D){var A,N=r.pseudos[b]||r.setFilters[b.toLowerCase()]||gt.error("unsupported pseudo: "+b);return N[U]?N(D):N.length>1?(A=[b,b,"",D],r.setFilters.hasOwnProperty(b.toLowerCase())?oe(function(G,Y){for(var X,tt=N(G,D),K=tt.length;K--;)X=m.call(G,tt[K]),G[X]=!(Y[X]=tt[K])}):function(G){return N(G,0,A)}):N}},pseudos:{not:oe(function(b){var D=[],A=[],N=Gi(b.replace(te,"$1"));return N[U]?oe(function(G,Y,X,tt){for(var K,_t=N(G,null,tt,[]),st=G.length;st--;)(K=_t[st])&&(G[st]=!(Y[st]=K))}):function(G,Y,X){return D[0]=G,N(D,null,X,A),D[0]=null,!A.pop()}}),has:oe(function(b){return function(D){return gt(b,D).length>0}}),contains:oe(function(b){return b=b.replace(Fe,Xe),function(D){return(D.textContent||c.text(D)).indexOf(b)>-1}}),lang:oe(function(b){return Li.test(b||"")||gt.error("unsupported lang: "+b),b=b.replace(Fe,Xe).toLowerCase(),function(D){var A;do if(A=T?D.lang:D.getAttribute("xml:lang")||D.getAttribute("lang"))return A=A.toLowerCase(),A===b||A.indexOf(b+"-")===0;while((D=D.parentNode)&&D.nodeType===1);return!1}}),target:function(b){var D=w.location&&w.location.hash;return D&&D.slice(1)===b.id},root:function(b){return b===E},focus:function(b){return b===Zo()&&g.hasFocus()&&!!(b.type||b.href||~b.tabIndex)},enabled:Fi(!1),disabled:Fi(!0),checked:function(b){return Et(b,"input")&&!!b.checked||Et(b,"option")&&!!b.selected},selected:function(b){return b.parentNode&&b.parentNode.selectedIndex,b.selected===!0},empty:function(b){for(b=b.firstChild;b;b=b.nextSibling)if(b.nodeType<6)return!1;return!0},parent:function(b){return!r.pseudos.empty(b)},header:function(b){return He.test(b.nodeName)},input:function(b){return Ze.test(b.nodeName)},button:function(b){return Et(b,"input")&&b.type==="button"||Et(b,"button")},text:function(b){var D;return Et(b,"input")&&b.type==="text"&&((D=b.getAttribute("type"))==null||D.toLowerCase()==="text")},first:li(function(){return[0]}),last:li(function(b,D){return[D-1]}),eq:li(function(b,D,A){return[A<0?A+D:A]}),even:li(function(b,D){for(var A=0;A<D;A+=2)b.push(A);return b}),odd:li(function(b,D){for(var A=1;A<D;A+=2)b.push(A);return b}),lt:li(function(b,D,A){var N;for(A<0?N=A+D:A>D?N=D:N=A;--N>=0;)b.push(N);return b}),gt:li(function(b,D,A){for(var N=A<0?A+D:A;++N<D;)b.push(N);return b})}},r.pseudos.nth=r.pseudos.eq;for(i in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[i]=Hi(i);for(i in{submit:!0,reset:!0})r.pseudos[i]=mo(i);function go(){}go.prototype=r.filters=r.pseudos,r.setFilters=new go;function hi(b,D){var A,N,G,Y,X,tt,K,_t=Lt[b+" "];if(_t)return D?0:_t.slice(0);for(X=b,tt=[],K=r.preFilter;X;){(!A||(N=Zt.exec(X)))&&(N&&(X=X.slice(N[0].length)||X),tt.push(G=[])),A=!1,(N=Ye.exec(X))&&(A=N.shift(),G.push({value:A,type:N[0].replace(te," ")}),X=X.slice(A.length));for(Y in r.filter)(N=Re[Y].exec(X))&&(!K[Y]||(N=K[Y](N)))&&(A=N.shift(),G.push({value:A,type:Y,matches:N}),X=X.slice(A.length));if(!A)break}return D?X.length:X?gt.error(b):Lt(b,tt).slice(0)}function en(b){for(var D=0,A=b.length,N="";D<A;D++)N+=b[D].value;return N}function Le(b,D,A){var N=D.dir,G=D.next,Y=G||N,X=A&&Y==="parentNode",tt=W++;return D.first?function(K,_t,st){for(;K=K[N];)if(K.nodeType===1||X)return b(K,_t,st);return!1}:function(K,_t,st){var ht,vt,et=[z,tt];if(st){for(;K=K[N];)if((K.nodeType===1||X)&&b(K,_t,st))return!0}else for(;K=K[N];)if(K.nodeType===1||X)if(vt=K[U]||(K[U]={}),G&&Et(K,G))K=K[N]||K;else{if((ht=vt[Y])&&ht[0]===z&&ht[1]===tt)return et[2]=ht[2];if(vt[Y]=et,et[2]=b(K,_t,st))return!0}return!1}}function zn(b){return b.length>1?function(D,A,N){for(var G=b.length;G--;)if(!b[G](D,A,N))return!1;return!0}:b[0]}function xi(b,D,A){for(var N=0,G=D.length;N<G;N++)gt(b,D[N],A);return A}function nn(b,D,A,N,G){for(var Y,X=[],tt=0,K=b.length,_t=D!=null;tt<K;tt++)(Y=b[tt])&&(!A||A(Y,N,G))&&(X.push(Y),_t&&D.push(tt));return X}function De(b,D,A,N,G,Y){return N&&!N[U]&&(N=De(N)),G&&!G[U]&&(G=De(G,Y)),oe(function(X,tt,K,_t){var st,ht,vt,et,St=[],he=[],jt=tt.length,we=X||xi(D||"*",K.nodeType?[K]:K,[]),Oe=b&&(X||!D)?nn(we,St,b,K,_t):we;if(A?(et=G||(X?b:jt||N)?[]:tt,A(Oe,et,K,_t)):et=Oe,N)for(st=nn(et,he),N(st,[],K,_t),ht=st.length;ht--;)(vt=st[ht])&&(et[he[ht]]=!(Oe[he[ht]]=vt));if(X){if(G||b){if(G){for(st=[],ht=et.length;ht--;)(vt=et[ht])&&st.push(Oe[ht]=vt);G(null,et=[],st,_t)}for(ht=et.length;ht--;)(vt=et[ht])&&(st=G?m.call(X,vt):St[ht])>-1&&(X[st]=!(tt[st]=vt))}}else et=nn(et===tt?et.splice(jt,et.length):et),G?G(null,tt,et,_t):_.apply(tt,et)})}function Ci(b){for(var D,A,N,G=b.length,Y=r.relative[b[0].type],X=Y||r.relative[" "],tt=Y?1:0,K=Le(function(ht){return ht===D},X,!0),_t=Le(function(ht){return m.call(D,ht)>-1},X,!0),st=[function(ht,vt,et){var St=!Y&&(et||vt!=h)||((D=vt).nodeType?K(ht,vt,et):_t(ht,vt,et));return D=null,St}];tt<G;tt++)if(A=r.relative[b[tt].type])st=[Le(zn(st),A)];else{if(A=r.filter[b[tt].type].apply(null,b[tt].matches),A[U]){for(N=++tt;N<G&&!r.relative[b[N].type];N++);return De(tt>1&&zn(st),tt>1&&en(b.slice(0,tt-1).concat({value:b[tt-2].type===" "?"*":""})).replace(te,"$1"),A,tt<N&&Ci(b.slice(tt,N)),N<G&&Ci(b=b.slice(N)),N<G&&en(b))}st.push(A)}return zn(st)}function vo(b,D){var A=D.length>0,N=b.length>0,G=function(Y,X,tt,K,_t){var st,ht,vt,et=0,St="0",he=Y&&[],jt=[],we=h,Oe=Y||N&&r.find.TAG("*",_t),ki=z+=we==null?1:Math.random()||.1,qt=Oe.length;for(_t&&(h=X==g||X||_t);St!==qt&&(st=Oe[St])!=null;St++){if(N&&st){for(ht=0,!X&&st.ownerDocument!=g&&(Se(st),tt=!T);vt=b[ht++];)if(vt(st,X||g,tt)){_.call(K,st);break}_t&&(z=ki)}A&&((st=!vt&&st)&&et--,Y&&he.push(st))}if(et+=St,A&&St!==et){for(ht=0;vt=D[ht++];)vt(he,jt,X,tt);if(Y){if(et>0)for(;St--;)he[St]||jt[St]||(jt[St]=Mi.call(K));jt=nn(jt)}_.apply(K,jt),_t&&!Y&&jt.length>0&&et+D.length>1&&c.uniqueSort(K)}return _t&&(z=ki,h=we),he};return A?oe(G):G}function Gi(b,D){var A,N=[],G=[],Y=ft[b+" "];if(!Y){for(D||(D=hi(b)),A=D.length;A--;)Y=Ci(D[A]),Y[U]?N.push(Y):G.push(Y);Y=ft(b,vo(G,N)),Y.selector=b}return Y}function Ui(b,D,A,N){var G,Y,X,tt,K,_t=typeof b=="function"&&b,st=!N&&hi(b=_t.selector||b);if(A=A||[],st.length===1){if(Y=st[0]=st[0].slice(0),Y.length>2&&(X=Y[0]).type==="ID"&&D.nodeType===9&&T&&r.relative[Y[1].type]){if(D=(r.find.ID(X.matches[0].replace(Fe,Xe),D)||[])[0],D)_t&&(D=D.parentNode);else return A;b=b.slice(Y.shift().value.length)}for(G=Re.needsContext.test(b)?0:Y.length;G--&&(X=Y[G],!r.relative[tt=X.type]);)if((K=r.find[tt])&&(N=K(X.matches[0].replace(Fe,Xe),In.test(Y[0].type)&&Ge(D.parentNode)||D))){if(Y.splice(G,1),b=N.length&&en(Y),!b)return _.apply(A,N),A;break}}return(_t||Gi(b,st))(N,D,!T,A,!D||In.test(b)&&Ge(D.parentNode)||D),A}j.sortStable=U.split("").sort(Gt).join("")===U,Se(),j.sortDetached=bi(function(b){return b.compareDocumentPosition(g.createElement("fieldset"))&1}),c.find=gt,c.expr[":"]=c.expr.pseudos,c.unique=c.uniqueSort,gt.compile=Gi,gt.select=Ui,gt.setDocument=Se,gt.tokenize=hi,gt.escape=c.escapeSelector,gt.getText=c.text,gt.isXML=c.isXMLDoc,gt.selectors=c.expr,gt.support=c.support,gt.uniqueSort=c.uniqueSort})();var ee=function(i,r,h){for(var u=[],p=h!==void 0;(i=i[r])&&i.nodeType!==9;)if(i.nodeType===1){if(p&&c(i).is(h))break;u.push(i)}return u},rt=function(i,r){for(var h=[];i;i=i.nextSibling)i.nodeType===1&&i!==r&&h.push(i);return h},Bt=c.expr.match.needsContext,se=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function ie(i,r,h){return H(r)?c.grep(i,function(u,p){return!!r.call(u,p,u)!==h}):r.nodeType?c.grep(i,function(u){return u===r!==h}):typeof r!="string"?c.grep(i,function(u){return m.call(r,u)>-1!==h}):c.filter(r,i,h)}c.filter=function(i,r,h){var u=r[0];return h&&(i=":not("+i+")"),r.length===1&&u.nodeType===1?c.find.matchesSelector(u,i)?[u]:[]:c.find.matches(i,c.grep(r,function(p){return p.nodeType===1}))},c.fn.extend({find:function(i){var r,h,u=this.length,p=this;if(typeof i!="string")return this.pushStack(c(i).filter(function(){for(r=0;r<u;r++)if(c.contains(p[r],this))return!0}));for(h=this.pushStack([]),r=0;r<u;r++)c.find(i,p[r],h);return u>1?c.uniqueSort(h):h},filter:function(i){return this.pushStack(ie(this,i||[],!1))},not:function(i){return this.pushStack(ie(this,i||[],!0))},is:function(i){return!!ie(this,typeof i=="string"&&Bt.test(i)?c(i):i||[],!1).length}});var Ht,Ot=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Ct=c.fn.init=function(i,r,h){var u,p;if(!i)return this;if(h=h||Ht,typeof i=="string")if(i[0]==="<"&&i[i.length-1]===">"&&i.length>=3?u=[null,i,null]:u=Ot.exec(i),u&&(u[1]||!r))if(u[1]){if(r=r instanceof c?r[0]:r,c.merge(this,c.parseHTML(u[1],r&&r.nodeType?r.ownerDocument||r:V,!0)),se.test(u[1])&&c.isPlainObject(r))for(u in r)H(this[u])?this[u](r[u]):this.attr(u,r[u]);return this}else return p=V.getElementById(u[2]),p&&(this[0]=p,this.length=1),this;else return!r||r.jquery?(r||h).find(i):this.constructor(r).find(i);else{if(i.nodeType)return this[0]=i,this.length=1,this;if(H(i))return h.ready!==void 0?h.ready(i):i(c)}return c.makeArray(i,this)};Ct.prototype=c.fn,Ht=c(V);var je=/^(?:parents|prev(?:Until|All))/,Je={children:!0,contents:!0,next:!0,prev:!0};c.fn.extend({has:function(i){var r=c(i,this),h=r.length;return this.filter(function(){for(var u=0;u<h;u++)if(c.contains(this,r[u]))return!0})},closest:function(i,r){var h,u=0,p=this.length,_=[],g=typeof i!="string"&&c(i);if(!Bt.test(i)){for(;u<p;u++)for(h=this[u];h&&h!==r;h=h.parentNode)if(h.nodeType<11&&(g?g.index(h)>-1:h.nodeType===1&&c.find.matchesSelector(h,i))){_.push(h);break}}return this.pushStack(_.length>1?c.uniqueSort(_):_)},index:function(i){return i?typeof i=="string"?m.call(c(i),this[0]):m.call(this,i.jquery?i[0]:i):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(i,r){return this.pushStack(c.uniqueSort(c.merge(this.get(),c(i,r))))},addBack:function(i){return this.add(i==null?this.prevObject:this.prevObject.filter(i))}});function hn(i,r){for(;(i=i[r])&&i.nodeType!==1;);return i}c.each({parent:function(i){var r=i.parentNode;return r&&r.nodeType!==11?r:null},parents:function(i){return ee(i,"parentNode")},parentsUntil:function(i,r,h){return ee(i,"parentNode",h)},next:function(i){return hn(i,"nextSibling")},prev:function(i){return hn(i,"previousSibling")},nextAll:function(i){return ee(i,"nextSibling")},prevAll:function(i){return ee(i,"previousSibling")},nextUntil:function(i,r,h){return ee(i,"nextSibling",h)},prevUntil:function(i,r,h){return ee(i,"previousSibling",h)},siblings:function(i){return rt((i.parentNode||{}).firstChild,i)},children:function(i){return rt(i.firstChild)},contents:function(i){return i.contentDocument!=null&&a(i.contentDocument)?i.contentDocument:(Et(i,"template")&&(i=i.content||i),c.merge([],i.childNodes))}},function(i,r){c.fn[i]=function(h,u){var p=c.map(this,r,h);return i.slice(-5)!=="Until"&&(u=h),u&&typeof u=="string"&&(p=c.filter(u,p)),this.length>1&&(Je[i]||c.uniqueSort(p),je.test(i)&&p.reverse()),this.pushStack(p)}});var _e=/[^\x20\t\r\n\f]+/g;function un(i){var r={};return c.each(i.match(_e)||[],function(h,u){r[u]=!0}),r}c.Callbacks=function(i){i=typeof i=="string"?un(i):c.extend({},i);var r,h,u,p,_=[],g=[],E=-1,T=function(){for(p=p||i.once,u=r=!0;g.length;E=-1)for(h=g.shift();++E<_.length;)_[E].apply(h[0],h[1])===!1&&i.stopOnFalse&&(E=_.length,h=!1);i.memory||(h=!1),r=!1,p&&(h?_=[]:_="")},O={add:function(){return _&&(h&&!r&&(E=_.length-1,g.push(h)),function Z(U){c.each(U,function(z,W){H(W)?(!i.unique||!O.has(W))&&_.push(W):W&&W.length&&It(W)!=="string"&&Z(W)})}(arguments),h&&!r&&T()),this},remove:function(){return c.each(arguments,function(Z,U){for(var z;(z=c.inArray(U,_,z))>-1;)_.splice(z,1),z<=E&&E--}),this},has:function(Z){return Z?c.inArray(Z,_)>-1:_.length>0},empty:function(){return _&&(_=[]),this},disable:function(){return p=g=[],_=h="",this},disabled:function(){return!_},lock:function(){return p=g=[],!h&&!r&&(_=h=""),this},locked:function(){return!!p},fireWith:function(Z,U){return p||(U=U||[],U=[Z,U.slice?U.slice():U],g.push(U),r||T()),this},fire:function(){return O.fireWith(this,arguments),this},fired:function(){return!!u}};return O};function Ae(i){return i}function di(i){throw i}function jn(i,r,h,u){var p;try{i&&H(p=i.promise)?p.call(i).done(r).fail(h):i&&H(p=i.then)?p.call(i,r,h):r.apply(void 0,[i].slice(u))}catch(_){h.apply(void 0,[_])}}c.extend({Deferred:function(i){var r=[["notify","progress",c.Callbacks("memory"),c.Callbacks("memory"),2],["resolve","done",c.Callbacks("once memory"),c.Callbacks("once memory"),0,"resolved"],["reject","fail",c.Callbacks("once memory"),c.Callbacks("once memory"),1,"rejected"]],h="pending",u={state:function(){return h},always:function(){return p.done(arguments).fail(arguments),this},catch:function(_){return u.then(null,_)},pipe:function(){var _=arguments;return c.Deferred(function(g){c.each(r,function(E,T){var O=H(_[T[4]])&&_[T[4]];p[T[1]](function(){var Z=O&&O.apply(this,arguments);Z&&H(Z.promise)?Z.promise().progress(g.notify).done(g.resolve).fail(g.reject):g[T[0]+"With"](this,O?[Z]:arguments)})}),_=null}).promise()},then:function(_,g,E){var T=0;function O(Z,U,z,W){return function(){var at=this,Lt=arguments,ft=function(){var Gt,Be;if(!(Z<T)){if(Gt=z.apply(at,Lt),Gt===U.promise())throw new TypeError("Thenable self-resolution");Be=Gt&&(typeof Gt=="object"||typeof Gt=="function")&&Gt.then,H(Be)?W?Be.call(Gt,O(T,U,Ae,W),O(T,U,di,W)):(T++,Be.call(Gt,O(T,U,Ae,W),O(T,U,di,W),O(T,U,Ae,U.notifyWith))):(z!==Ae&&(at=void 0,Lt=[Gt]),(W||U.resolveWith)(at,Lt))}},Jt=W?ft:function(){try{ft()}catch(Gt){c.Deferred.exceptionHook&&c.Deferred.exceptionHook(Gt,Jt.error),Z+1>=T&&(z!==di&&(at=void 0,Lt=[Gt]),U.rejectWith(at,Lt))}};Z?Jt():(c.Deferred.getErrorHook?Jt.error=c.Deferred.getErrorHook():c.Deferred.getStackHook&&(Jt.error=c.Deferred.getStackHook()),w.setTimeout(Jt))}}return c.Deferred(function(Z){r[0][3].add(O(0,Z,H(E)?E:Ae,Z.notifyWith)),r[1][3].add(O(0,Z,H(_)?_:Ae)),r[2][3].add(O(0,Z,H(g)?g:di))}).promise()},promise:function(_){return _!=null?c.extend(_,u):u}},p={};return c.each(r,function(_,g){var E=g[2],T=g[5];u[g[1]]=E.add,T&&E.add(function(){h=T},r[3-_][2].disable,r[3-_][3].disable,r[0][2].lock,r[0][3].lock),E.add(g[3].fire),p[g[0]]=function(){return p[g[0]+"With"](this===p?void 0:this,arguments),this},p[g[0]+"With"]=E.fireWith}),u.promise(p),i&&i.call(p,p),p},when:function(i){var r=arguments.length,h=r,u=Array(h),p=o.call(arguments),_=c.Deferred(),g=function(E){return function(T){u[E]=this,p[E]=arguments.length>1?o.call(arguments):T,--r||_.resolveWith(u,p)}};if(r<=1&&(jn(i,_.done(g(h)).resolve,_.reject,!r),_.state()==="pending"||H(p[h]&&p[h].then)))return _.then();for(;h--;)jn(p[h],g(h),_.reject);return _.promise()}});var qn=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;c.Deferred.exceptionHook=function(i,r){w.console&&w.console.warn&&i&&qn.test(i.name)&&w.console.warn("jQuery.Deferred exception: "+i.message,i.stack,r)},c.readyException=function(i){w.setTimeout(function(){throw i})};var Wi=c.Deferred();c.fn.ready=function(i){return Wi.then(i).catch(function(r){c.readyException(r)}),this},c.extend({isReady:!1,readyWait:1,ready:function(i){(i===!0?--c.readyWait:c.isReady)||(c.isReady=!0,!(i!==!0&&--c.readyWait>0)&&Wi.resolveWith(V,[c]))}}),c.ready.then=Wi.then;function fi(){V.removeEventListener("DOMContentLoaded",fi),w.removeEventListener("load",fi),c.ready()}V.readyState==="complete"||V.readyState!=="loading"&&!V.documentElement.doScroll?w.setTimeout(c.ready):(V.addEventListener("DOMContentLoaded",fi),w.addEventListener("load",fi));var me=function(i,r,h,u,p,_,g){var E=0,T=i.length,O=h==null;if(It(h)==="object"){p=!0;for(E in h)me(i,r,E,h[E],!0,_,g)}else if(u!==void 0&&(p=!0,H(u)||(g=!0),O&&(g?(r.call(i,u),r=null):(O=r,r=function(Z,U,z){return O.call(c(Z),z)})),r))for(;E<T;E++)r(i[E],h,g?u:u.call(i[E],E,r(i[E],h)));return p?i:O?r.call(i):T?r(i[0],h):_},So=/^-ms-/,Vn=/-([a-z])/g;function cn(i,r){return r.toUpperCase()}function xe(i){return i.replace(So,"ms-").replace(Vn,cn)}var pi=function(i){return i.nodeType===1||i.nodeType===9||!+i.nodeType};function Pi(){this.expando=c.expando+Pi.uid++}Pi.uid=1,Pi.prototype={cache:function(i){var r=i[this.expando];return r||(r={},pi(i)&&(i.nodeType?i[this.expando]=r:Object.defineProperty(i,this.expando,{value:r,configurable:!0}))),r},set:function(i,r,h){var u,p=this.cache(i);if(typeof r=="string")p[xe(r)]=h;else for(u in r)p[xe(u)]=r[u];return p},get:function(i,r){return r===void 0?this.cache(i):i[this.expando]&&i[this.expando][xe(r)]},access:function(i,r,h){return r===void 0||r&&typeof r=="string"&&h===void 0?this.get(i,r):(this.set(i,r,h),h!==void 0?h:r)},remove:function(i,r){var h,u=i[this.expando];if(u!==void 0){if(r!==void 0)for(Array.isArray(r)?r=r.map(xe):(r=xe(r),r=r in u?[r]:r.match(_e)||[]),h=r.length;h--;)delete u[r[h]];(r===void 0||c.isEmptyObject(u))&&(i.nodeType?i[this.expando]=void 0:delete i[this.expando])}},hasData:function(i){var r=i[this.expando];return r!==void 0&&!c.isEmptyObject(r)}};var it=new Pi,ne=new Pi,Wn=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,$n=/[A-Z]/g;function Do(i){return i==="true"?!0:i==="false"?!1:i==="null"?null:i===+i+""?+i:Wn.test(i)?JSON.parse(i):i}function dn(i,r,h){var u;if(h===void 0&&i.nodeType===1)if(u="data-"+r.replace($n,"-$&").toLowerCase(),h=i.getAttribute(u),typeof h=="string"){try{h=Do(h)}catch{}ne.set(i,r,h)}else h=void 0;return h}c.extend({hasData:function(i){return ne.hasData(i)||it.hasData(i)},data:function(i,r,h){return ne.access(i,r,h)},removeData:function(i,r){ne.remove(i,r)},_data:function(i,r,h){return it.access(i,r,h)},_removeData:function(i,r){it.remove(i,r)}}),c.fn.extend({data:function(i,r){var h,u,p,_=this[0],g=_&&_.attributes;if(i===void 0){if(this.length&&(p=ne.get(_),_.nodeType===1&&!it.get(_,"hasDataAttrs"))){for(h=g.length;h--;)g[h]&&(u=g[h].name,u.indexOf("data-")===0&&(u=xe(u.slice(5)),dn(_,u,p[u])));it.set(_,"hasDataAttrs",!0)}return p}return typeof i=="object"?this.each(function(){ne.set(this,i)}):me(this,function(E){var T;if(_&&E===void 0)return T=ne.get(_,i),T!==void 0||(T=dn(_,i),T!==void 0)?T:void 0;this.each(function(){ne.set(this,i,E)})},null,r,arguments.length>1,null,!0)},removeData:function(i){return this.each(function(){ne.remove(this,i)})}}),c.extend({queue:function(i,r,h){var u;if(i)return r=(r||"fx")+"queue",u=it.get(i,r),h&&(!u||Array.isArray(h)?u=it.access(i,r,c.makeArray(h)):u.push(h)),u||[]},dequeue:function(i,r){r=r||"fx";var h=c.queue(i,r),u=h.length,p=h.shift(),_=c._queueHooks(i,r),g=function(){c.dequeue(i,r)};p==="inprogress"&&(p=h.shift(),u--),p&&(r==="fx"&&h.unshift("inprogress"),delete _.stop,p.call(i,g,_)),!u&&_&&_.empty.fire()},_queueHooks:function(i,r){var h=r+"queueHooks";return it.get(i,h)||it.access(i,h,{empty:c.Callbacks("once memory").add(function(){it.remove(i,[r+"queue",h])})})}}),c.fn.extend({queue:function(i,r){var h=2;return typeof i!="string"&&(r=i,i="fx",h--),arguments.length<h?c.queue(this[0],i):r===void 0?this:this.each(function(){var u=c.queue(this,i,r);c._queueHooks(this,i),i==="fx"&&u[0]!=="inprogress"&&c.dequeue(this,i)})},dequeue:function(i){return this.each(function(){c.dequeue(this,i)})},clearQueue:function(i){return this.queue(i||"fx",[])},promise:function(i,r){var h,u=1,p=c.Deferred(),_=this,g=this.length,E=function(){--u||p.resolveWith(_,[_])};for(typeof i!="string"&&(r=i,i=void 0),i=i||"fx";g--;)h=it.get(_[g],i+"queueHooks"),h&&h.empty&&(u++,h.empty.add(E));return E(),p.promise(r)}});var fn=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ei=new RegExp("^(?:([+-])=|)("+fn+")([a-z%]*)$","i"),Ie=["Top","Right","Bottom","Left"],qe=V.documentElement,ii=function(i){return c.contains(i.ownerDocument,i)},Oo={composed:!0};qe.getRootNode&&(ii=function(i){return c.contains(i.ownerDocument,i)||i.getRootNode(Oo)===i.ownerDocument});var Qe=function(i,r){return i=r||i,i.style.display==="none"||i.style.display===""&&ii(i)&&c.css(i,"display")==="none"};function Yn(i,r,h,u){var p,_,g=20,E=u?function(){return u.cur()}:function(){return c.css(i,r,"")},T=E(),O=h&&h[3]||(c.cssNumber[r]?"":"px"),Z=i.nodeType&&(c.cssNumber[r]||O!=="px"&&+T)&&Ei.exec(c.css(i,r));if(Z&&Z[3]!==O){for(T=T/2,O=O||Z[3],Z=+T||1;g--;)c.style(i,r,Z+O),(1-_)*(1-(_=E()/T||.5))<=0&&(g=0),Z=Z/_;Z=Z*2,c.style(i,r,Z+O),h=h||[]}return h&&(Z=+Z||+T||0,p=h[1]?Z+(h[1]+1)*h[2]:+h[2],u&&(u.unit=O,u.start=Z,u.end=p)),p}var Xn={};function Kn(i){var r,h=i.ownerDocument,u=i.nodeName,p=Xn[u];return p||(r=h.body.appendChild(h.createElement(u)),p=c.css(r,"display"),r.parentNode.removeChild(r),p==="none"&&(p="block"),Xn[u]=p,p)}function ni(i,r){for(var h,u,p=[],_=0,g=i.length;_<g;_++)u=i[_],u.style&&(h=u.style.display,r?(h==="none"&&(p[_]=it.get(u,"display")||null,p[_]||(u.style.display="")),u.style.display===""&&Qe(u)&&(p[_]=Kn(u))):h!=="none"&&(p[_]="none",it.set(u,"display",h)));for(_=0;_<g;_++)p[_]!=null&&(i[_].style.display=p[_]);return i}c.fn.extend({show:function(){return ni(this,!0)},hide:function(){return ni(this)},toggle:function(i){return typeof i=="boolean"?i?this.show():this.hide():this.each(function(){Qe(this)?c(this).show():c(this).hide()})}});var _i=/^(?:checkbox|radio)$/i,Jn=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Qn=/^$|^module$|\/(?:java|ecma)script/i;(function(){var i=V.createDocumentFragment(),r=i.appendChild(V.createElement("div")),h=V.createElement("input");h.setAttribute("type","radio"),h.setAttribute("checked","checked"),h.setAttribute("name","t"),r.appendChild(h),j.checkClone=r.cloneNode(!0).cloneNode(!0).lastChild.checked,r.innerHTML="<textarea>x</textarea>",j.noCloneChecked=!!r.cloneNode(!0).lastChild.defaultValue,r.innerHTML="<option></option>",j.option=!!r.lastChild})();var ge={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,j.option||(ge.optgroup=ge.option=[1,"<select multiple='multiple'>","</select>"]);function ae(i,r){var h;return typeof i.getElementsByTagName<"u"?h=i.getElementsByTagName(r||"*"):typeof i.querySelectorAll<"u"?h=i.querySelectorAll(r||"*"):h=[],r===void 0||r&&Et(i,r)?c.merge([i],h):h}function pn(i,r){for(var h=0,u=i.length;h<u;h++)it.set(i[h],"globalEval",!r||it.get(r[h],"globalEval"))}var Ao=/<|&#?\w+;/;function $i(i,r,h,u,p){for(var _,g,E,T,O,Z,U=r.createDocumentFragment(),z=[],W=0,at=i.length;W<at;W++)if(_=i[W],_||_===0)if(It(_)==="object")c.merge(z,_.nodeType?[_]:_);else if(!Ao.test(_))z.push(r.createTextNode(_));else{for(g=g||U.appendChild(r.createElement("div")),E=(Jn.exec(_)||["",""])[1].toLowerCase(),T=ge[E]||ge._default,g.innerHTML=T[1]+c.htmlPrefilter(_)+T[2],Z=T[0];Z--;)g=g.lastChild;c.merge(z,g.childNodes),g=U.firstChild,g.textContent=""}for(U.textContent="",W=0;_=z[W++];){if(u&&c.inArray(_,u)>-1){p&&p.push(_);continue}if(O=ii(_),g=ae(U.appendChild(_),"script"),O&&pn(g),h)for(Z=0;_=g[Z++];)Qn.test(_.type||"")&&h.push(_)}return U}var to=/^([^.]*)(?:\.(.+)|)/;function mi(){return!0}function gi(){return!1}function _n(i,r,h,u,p,_){var g,E;if(typeof r=="object"){typeof h!="string"&&(u=u||h,h=void 0);for(E in r)_n(i,E,h,u,r[E],_);return i}if(u==null&&p==null?(p=h,u=h=void 0):p==null&&(typeof h=="string"?(p=u,u=void 0):(p=u,u=h,h=void 0)),p===!1)p=gi;else if(!p)return i;return _===1&&(g=p,p=function(T){return c().off(T),g.apply(this,arguments)},p.guid=g.guid||(g.guid=c.guid++)),i.each(function(){c.event.add(this,r,p,u,h)})}c.event={global:{},add:function(i,r,h,u,p){var _,g,E,T,O,Z,U,z,W,at,Lt,ft=it.get(i);if(pi(i))for(h.handler&&(_=h,h=_.handler,p=_.selector),p&&c.find.matchesSelector(qe,p),h.guid||(h.guid=c.guid++),(T=ft.events)||(T=ft.events=Object.create(null)),(g=ft.handle)||(g=ft.handle=function(Jt){return typeof c<"u"&&c.event.triggered!==Jt.type?c.event.dispatch.apply(i,arguments):void 0}),r=(r||"").match(_e)||[""],O=r.length;O--;)E=to.exec(r[O])||[],W=Lt=E[1],at=(E[2]||"").split(".").sort(),W&&(U=c.event.special[W]||{},W=(p?U.delegateType:U.bindType)||W,U=c.event.special[W]||{},Z=c.extend({type:W,origType:Lt,data:u,handler:h,guid:h.guid,selector:p,needsContext:p&&c.expr.match.needsContext.test(p),namespace:at.join(".")},_),(z=T[W])||(z=T[W]=[],z.delegateCount=0,(!U.setup||U.setup.call(i,u,at,g)===!1)&&i.addEventListener&&i.addEventListener(W,g)),U.add&&(U.add.call(i,Z),Z.handler.guid||(Z.handler.guid=h.guid)),p?z.splice(z.delegateCount++,0,Z):z.push(Z),c.event.global[W]=!0)},remove:function(i,r,h,u,p){var _,g,E,T,O,Z,U,z,W,at,Lt,ft=it.hasData(i)&&it.get(i);if(!(!ft||!(T=ft.events))){for(r=(r||"").match(_e)||[""],O=r.length;O--;){if(E=to.exec(r[O])||[],W=Lt=E[1],at=(E[2]||"").split(".").sort(),!W){for(W in T)c.event.remove(i,W+r[O],h,u,!0);continue}for(U=c.event.special[W]||{},W=(u?U.delegateType:U.bindType)||W,z=T[W]||[],E=E[2]&&new RegExp("(^|\\.)"+at.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=_=z.length;_--;)Z=z[_],(p||Lt===Z.origType)&&(!h||h.guid===Z.guid)&&(!E||E.test(Z.namespace))&&(!u||u===Z.selector||u==="**"&&Z.selector)&&(z.splice(_,1),Z.selector&&z.delegateCount--,U.remove&&U.remove.call(i,Z));g&&!z.length&&((!U.teardown||U.teardown.call(i,at,ft.handle)===!1)&&c.removeEvent(i,W,ft.handle),delete T[W])}c.isEmptyObject(T)&&it.remove(i,"handle events")}},dispatch:function(i){var r,h,u,p,_,g,E=new Array(arguments.length),T=c.event.fix(i),O=(it.get(this,"events")||Object.create(null))[T.type]||[],Z=c.event.special[T.type]||{};for(E[0]=T,r=1;r<arguments.length;r++)E[r]=arguments[r];if(T.delegateTarget=this,!(Z.preDispatch&&Z.preDispatch.call(this,T)===!1)){for(g=c.event.handlers.call(this,T,O),r=0;(p=g[r++])&&!T.isPropagationStopped();)for(T.currentTarget=p.elem,h=0;(_=p.handlers[h++])&&!T.isImmediatePropagationStopped();)(!T.rnamespace||_.namespace===!1||T.rnamespace.test(_.namespace))&&(T.handleObj=_,T.data=_.data,u=((c.event.special[_.origType]||{}).handle||_.handler).apply(p.elem,E),u!==void 0&&(T.result=u)===!1&&(T.preventDefault(),T.stopPropagation()));return Z.postDispatch&&Z.postDispatch.call(this,T),T.result}},handlers:function(i,r){var h,u,p,_,g,E=[],T=r.delegateCount,O=i.target;if(T&&O.nodeType&&!(i.type==="click"&&i.button>=1)){for(;O!==this;O=O.parentNode||this)if(O.nodeType===1&&!(i.type==="click"&&O.disabled===!0)){for(_=[],g={},h=0;h<T;h++)u=r[h],p=u.selector+" ",g[p]===void 0&&(g[p]=u.needsContext?c(p,this).index(O)>-1:c.find(p,this,null,[O]).length),g[p]&&_.push(u);_.length&&E.push({elem:O,handlers:_})}}return O=this,T<r.length&&E.push({elem:O,handlers:r.slice(T)}),E},addProp:function(i,r){Object.defineProperty(c.Event.prototype,i,{enumerable:!0,configurable:!0,get:H(r)?function(){if(this.originalEvent)return r(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[i]},set:function(h){Object.defineProperty(this,i,{enumerable:!0,configurable:!0,writable:!0,value:h})}})},fix:function(i){return i[c.expando]?i:new c.Event(i)},special:{load:{noBubble:!0},click:{setup:function(i){var r=this||i;return _i.test(r.type)&&r.click&&Et(r,"input")&&ce(r,"click",!0),!1},trigger:function(i){var r=this||i;return _i.test(r.type)&&r.click&&Et(r,"input")&&ce(r,"click"),!0},_default:function(i){var r=i.target;return _i.test(r.type)&&r.click&&Et(r,"input")&&it.get(r,"click")||Et(r,"a")}},beforeunload:{postDispatch:function(i){i.result!==void 0&&i.originalEvent&&(i.originalEvent.returnValue=i.result)}}}};function ce(i,r,h){if(!h){it.get(i,r)===void 0&&c.event.add(i,r,mi);return}it.set(i,r,!1),c.event.add(i,r,{namespace:!1,handler:function(u){var p,_=it.get(this,r);if(u.isTrigger&1&&this[r]){if(_)(c.event.special[r]||{}).delegateType&&u.stopPropagation();else if(_=o.call(arguments),it.set(this,r,_),this[r](),p=it.get(this,r),it.set(this,r,!1),_!==p)return u.stopImmediatePropagation(),u.preventDefault(),p}else _&&(it.set(this,r,c.event.trigger(_[0],_.slice(1),this)),u.stopPropagation(),u.isImmediatePropagationStopped=mi)}})}c.removeEvent=function(i,r,h){i.removeEventListener&&i.removeEventListener(r,h)},c.Event=function(i,r){if(!(this instanceof c.Event))return new c.Event(i,r);i&&i.type?(this.originalEvent=i,this.type=i.type,this.isDefaultPrevented=i.defaultPrevented||i.defaultPrevented===void 0&&i.returnValue===!1?mi:gi,this.target=i.target&&i.target.nodeType===3?i.target.parentNode:i.target,this.currentTarget=i.currentTarget,this.relatedTarget=i.relatedTarget):this.type=i,r&&c.extend(this,r),this.timeStamp=i&&i.timeStamp||Date.now(),this[c.expando]=!0},c.Event.prototype={constructor:c.Event,isDefaultPrevented:gi,isPropagationStopped:gi,isImmediatePropagationStopped:gi,isSimulated:!1,preventDefault:function(){var i=this.originalEvent;this.isDefaultPrevented=mi,i&&!this.isSimulated&&i.preventDefault()},stopPropagation:function(){var i=this.originalEvent;this.isPropagationStopped=mi,i&&!this.isSimulated&&i.stopPropagation()},stopImmediatePropagation:function(){var i=this.originalEvent;this.isImmediatePropagationStopped=mi,i&&!this.isSimulated&&i.stopImmediatePropagation(),this.stopPropagation()}},c.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},c.event.addProp),c.each({focus:"focusin",blur:"focusout"},function(i,r){function h(u){if(V.documentMode){var p=it.get(this,"handle"),_=c.event.fix(u);_.type=u.type==="focusin"?"focus":"blur",_.isSimulated=!0,p(u),_.target===_.currentTarget&&p(_)}else c.event.simulate(r,u.target,c.event.fix(u))}c.event.special[i]={setup:function(){var u;if(ce(this,i,!0),V.documentMode)u=it.get(this,r),u||this.addEventListener(r,h),it.set(this,r,(u||0)+1);else return!1},trigger:function(){return ce(this,i),!0},teardown:function(){var u;if(V.documentMode)u=it.get(this,r)-1,u?it.set(this,r,u):(this.removeEventListener(r,h),it.remove(this,r));else return!1},_default:function(u){return it.get(u.target,i)},delegateType:r},c.event.special[r]={setup:function(){var u=this.ownerDocument||this.document||this,p=V.documentMode?this:u,_=it.get(p,r);_||(V.documentMode?this.addEventListener(r,h):u.addEventListener(i,h,!0)),it.set(p,r,(_||0)+1)},teardown:function(){var u=this.ownerDocument||this.document||this,p=V.documentMode?this:u,_=it.get(p,r)-1;_?it.set(p,r,_):(V.documentMode?this.removeEventListener(r,h):u.removeEventListener(i,h,!0),it.remove(p,r))}}}),c.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(i,r){c.event.special[i]={delegateType:r,bindType:r,handle:function(h){var u,p=this,_=h.relatedTarget,g=h.handleObj;return(!_||_!==p&&!c.contains(p,_))&&(h.type=g.origType,u=g.handler.apply(this,arguments),h.type=r),u}}}),c.fn.extend({on:function(i,r,h,u){return _n(this,i,r,h,u)},one:function(i,r,h,u){return _n(this,i,r,h,u,1)},off:function(i,r,h){var u,p;if(i&&i.preventDefault&&i.handleObj)return u=i.handleObj,c(i.delegateTarget).off(u.namespace?u.origType+"."+u.namespace:u.origType,u.selector,u.handler),this;if(typeof i=="object"){for(p in i)this.off(p,r,i[p]);return this}return(r===!1||typeof r=="function")&&(h=r,r=void 0),h===!1&&(h=gi),this.each(function(){c.event.remove(this,i,h,r)})}});var ot=/<script|<style|<link/i,eo=/checked\s*(?:[^=]|=\s*.checked.)/i,io=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function mn(i,r){return Et(i,"table")&&Et(r.nodeType!==11?r:r.firstChild,"tr")&&c(i).children("tbody")[0]||i}function no(i){return i.type=(i.getAttribute("type")!==null)+"/"+i.type,i}function gn(i){return(i.type||"").slice(0,5)==="true/"?i.type=i.type.slice(5):i.removeAttribute("type"),i}function vn(i,r){var h,u,p,_,g,E,T;if(r.nodeType===1){if(it.hasData(i)&&(_=it.get(i),T=_.events,T)){it.remove(r,"handle events");for(p in T)for(h=0,u=T[p].length;h<u;h++)c.event.add(r,p,T[p][h])}ne.hasData(i)&&(g=ne.access(i),E=c.extend({},g),ne.set(r,E))}}function vi(i,r){var h=r.nodeName.toLowerCase();h==="input"&&_i.test(i.type)?r.checked=i.checked:(h==="input"||h==="textarea")&&(r.defaultValue=i.defaultValue)}function oi(i,r,h,u){r=s(r);var p,_,g,E,T,O,Z=0,U=i.length,z=U-1,W=r[0],at=H(W);if(at||U>1&&typeof W=="string"&&!j.checkClone&&eo.test(W))return i.each(function(Lt){var ft=i.eq(Lt);at&&(r[0]=W.call(this,Lt,ft.html())),oi(ft,r,h,u)});if(U&&(p=$i(r,i[0].ownerDocument,!1,i,u),_=p.firstChild,p.childNodes.length===1&&(p=_),_||u)){for(g=c.map(ae(p,"script"),no),E=g.length;Z<U;Z++)T=p,Z!==z&&(T=c.clone(T,!0,!0),E&&c.merge(g,ae(T,"script"))),h.call(i[Z],T,Z);if(E)for(O=g[g.length-1].ownerDocument,c.map(g,gn),Z=0;Z<E;Z++)T=g[Z],Qn.test(T.type||"")&&!it.access(T,"globalEval")&&c.contains(O,T)&&(T.src&&(T.type||"").toLowerCase()!=="module"?c._evalUrl&&!T.noModule&&c._evalUrl(T.src,{nonce:T.nonce||T.getAttribute("nonce")},O):bt(T.textContent.replace(io,""),T,O))}return i}function oo(i,r,h){for(var u,p=r?c.filter(r,i):i,_=0;(u=p[_])!=null;_++)!h&&u.nodeType===1&&c.cleanData(ae(u)),u.parentNode&&(h&&ii(u)&&pn(ae(u,"script")),u.parentNode.removeChild(u));return i}c.extend({htmlPrefilter:function(i){return i},clone:function(i,r,h){var u,p,_,g,E=i.cloneNode(!0),T=ii(i);if(!j.noCloneChecked&&(i.nodeType===1||i.nodeType===11)&&!c.isXMLDoc(i))for(g=ae(E),_=ae(i),u=0,p=_.length;u<p;u++)vi(_[u],g[u]);if(r)if(h)for(_=_||ae(i),g=g||ae(E),u=0,p=_.length;u<p;u++)vn(_[u],g[u]);else vn(i,E);return g=ae(E,"script"),g.length>0&&pn(g,!T&&ae(i,"script")),E},cleanData:function(i){for(var r,h,u,p=c.event.special,_=0;(h=i[_])!==void 0;_++)if(pi(h)){if(r=h[it.expando]){if(r.events)for(u in r.events)p[u]?c.event.remove(h,u):c.removeEvent(h,u,r.handle);h[it.expando]=void 0}h[ne.expando]&&(h[ne.expando]=void 0)}}}),c.fn.extend({detach:function(i){return oo(this,i,!0)},remove:function(i){return oo(this,i)},text:function(i){return me(this,function(r){return r===void 0?c.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=r)})},null,i,arguments.length)},append:function(){return oi(this,arguments,function(i){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var r=mn(this,i);r.appendChild(i)}})},prepend:function(){return oi(this,arguments,function(i){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var r=mn(this,i);r.insertBefore(i,r.firstChild)}})},before:function(){return oi(this,arguments,function(i){this.parentNode&&this.parentNode.insertBefore(i,this)})},after:function(){return oi(this,arguments,function(i){this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling)})},empty:function(){for(var i,r=0;(i=this[r])!=null;r++)i.nodeType===1&&(c.cleanData(ae(i,!1)),i.textContent="");return this},clone:function(i,r){return i=i??!1,r=r??i,this.map(function(){return c.clone(this,i,r)})},html:function(i){return me(this,function(r){var h=this[0]||{},u=0,p=this.length;if(r===void 0&&h.nodeType===1)return h.innerHTML;if(typeof r=="string"&&!ot.test(r)&&!ge[(Jn.exec(r)||["",""])[1].toLowerCase()]){r=c.htmlPrefilter(r);try{for(;u<p;u++)h=this[u]||{},h.nodeType===1&&(c.cleanData(ae(h,!1)),h.innerHTML=r);h=0}catch{}}h&&this.empty().append(r)},null,i,arguments.length)},replaceWith:function(){var i=[];return oi(this,arguments,function(r){var h=this.parentNode;c.inArray(this,i)<0&&(c.cleanData(ae(this)),h&&h.replaceChild(r,this))},i)}}),c.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(i,r){c.fn[i]=function(h){for(var u,p=[],_=c(h),g=_.length-1,E=0;E<=g;E++)u=E===g?this:this.clone(!0),c(_[E])[r](u),f.apply(p,u.get());return this.pushStack(p)}});var yn=new RegExp("^("+fn+")(?!px)[a-z%]+$","i"),Ln=/^--/,Yi=function(i){var r=i.ownerDocument.defaultView;return(!r||!r.opener)&&(r=w),r.getComputedStyle(i)},wn=function(i,r,h){var u,p,_={};for(p in r)_[p]=i.style[p],i.style[p]=r[p];u=h.call(i);for(p in r)i.style[p]=_[p];return u},Io=new RegExp(Ie.join("|"),"i");(function(){function i(){if(O){T.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",O.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",qe.appendChild(T).appendChild(O);var Z=w.getComputedStyle(O);h=Z.top!=="1%",E=r(Z.marginLeft)===12,O.style.right="60%",_=r(Z.right)===36,u=r(Z.width)===36,O.style.position="absolute",p=r(O.offsetWidth/3)===12,qe.removeChild(T),O=null}}function r(Z){return Math.round(parseFloat(Z))}var h,u,p,_,g,E,T=V.createElement("div"),O=V.createElement("div");O.style&&(O.style.backgroundClip="content-box",O.cloneNode(!0).style.backgroundClip="",j.clearCloneStyle=O.style.backgroundClip==="content-box",c.extend(j,{boxSizingReliable:function(){return i(),u},pixelBoxStyles:function(){return i(),_},pixelPosition:function(){return i(),h},reliableMarginLeft:function(){return i(),E},scrollboxSize:function(){return i(),p},reliableTrDimensions:function(){var Z,U,z,W;return g==null&&(Z=V.createElement("table"),U=V.createElement("tr"),z=V.createElement("div"),Z.style.cssText="position:absolute;left:-11111px;border-collapse:separate",U.style.cssText="box-sizing:content-box;border:1px solid",U.style.height="1px",z.style.height="9px",z.style.display="block",qe.appendChild(Z).appendChild(U).appendChild(z),W=w.getComputedStyle(U),g=parseInt(W.height,10)+parseInt(W.borderTopWidth,10)+parseInt(W.borderBottomWidth,10)===U.offsetHeight,qe.removeChild(Z)),g}}))})();function ti(i,r,h){var u,p,_,g,E=Ln.test(r),T=i.style;return h=h||Yi(i),h&&(g=h.getPropertyValue(r)||h[r],E&&g&&(g=g.replace(te,"$1")||void 0),g===""&&!ii(i)&&(g=c.style(i,r)),!j.pixelBoxStyles()&&yn.test(g)&&Io.test(r)&&(u=T.width,p=T.minWidth,_=T.maxWidth,T.minWidth=T.maxWidth=T.width=g,g=h.width,T.width=u,T.minWidth=p,T.maxWidth=_)),g!==void 0?g+"":g}function ro(i,r){return{get:function(){if(i()){delete this.get;return}return(this.get=r).apply(this,arguments)}}}var so=["Webkit","Moz","ms"],ao=V.createElement("div").style,lo={};function zo(i){for(var r=i[0].toUpperCase()+i.slice(1),h=so.length;h--;)if(i=so[h]+r,i in ao)return i}function Si(i){var r=c.cssProps[i]||lo[i];return r||(i in ao?i:lo[i]=zo(i)||i)}var Di=/^(none|table(?!-c[ea]).+)/,ho={position:"absolute",visibility:"hidden",display:"block"},bn={letterSpacing:"0",fontWeight:"400"};function yi(i,r,h){var u=Ei.exec(r);return u?Math.max(0,u[2]-(h||0))+(u[3]||"px"):r}function kt(i,r,h,u,p,_){var g=r==="width"?1:0,E=0,T=0,O=0;if(h===(u?"border":"content"))return 0;for(;g<4;g+=2)h==="margin"&&(O+=c.css(i,h+Ie[g],!0,p)),u?(h==="content"&&(T-=c.css(i,"padding"+Ie[g],!0,p)),h!=="margin"&&(T-=c.css(i,"border"+Ie[g]+"Width",!0,p))):(T+=c.css(i,"padding"+Ie[g],!0,p),h!=="padding"?T+=c.css(i,"border"+Ie[g]+"Width",!0,p):E+=c.css(i,"border"+Ie[g]+"Width",!0,p));return!u&&_>=0&&(T+=Math.max(0,Math.ceil(i["offset"+r[0].toUpperCase()+r.slice(1)]-_-T-E-.5))||0),T+O}function Nt(i,r,h){var u=Yi(i),p=!j.boxSizingReliable()||h,_=p&&c.css(i,"boxSizing",!1,u)==="border-box",g=_,E=ti(i,r,u),T="offset"+r[0].toUpperCase()+r.slice(1);if(yn.test(E)){if(!h)return E;E="auto"}return(!j.boxSizingReliable()&&_||!j.reliableTrDimensions()&&Et(i,"tr")||E==="auto"||!parseFloat(E)&&c.css(i,"display",!1,u)==="inline")&&i.getClientRects().length&&(_=c.css(i,"boxSizing",!1,u)==="border-box",g=T in i,g&&(E=i[T])),E=parseFloat(E)||0,E+kt(i,r,h||(_?"border":"content"),g,u,E)+"px"}c.extend({cssHooks:{opacity:{get:function(i,r){if(r){var h=ti(i,"opacity");return h===""?"1":h}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(i,r,h,u){if(!(!i||i.nodeType===3||i.nodeType===8||!i.style)){var p,_,g,E=xe(r),T=Ln.test(r),O=i.style;if(T||(r=Si(E)),g=c.cssHooks[r]||c.cssHooks[E],h!==void 0){if(_=typeof h,_==="string"&&(p=Ei.exec(h))&&p[1]&&(h=Yn(i,r,p),_="number"),h==null||h!==h)return;_==="number"&&!T&&(h+=p&&p[3]||(c.cssNumber[E]?"":"px")),!j.clearCloneStyle&&h===""&&r.indexOf("background")===0&&(O[r]="inherit"),(!g||!("set"in g)||(h=g.set(i,h,u))!==void 0)&&(T?O.setProperty(r,h):O[r]=h)}else return g&&"get"in g&&(p=g.get(i,!1,u))!==void 0?p:O[r]}},css:function(i,r,h,u){var p,_,g,E=xe(r),T=Ln.test(r);return T||(r=Si(E)),g=c.cssHooks[r]||c.cssHooks[E],g&&"get"in g&&(p=g.get(i,!0,h)),p===void 0&&(p=ti(i,r,u)),p==="normal"&&r in bn&&(p=bn[r]),h===""||h?(_=parseFloat(p),h===!0||isFinite(_)?_||0:p):p}}),c.each(["height","width"],function(i,r){c.cssHooks[r]={get:function(h,u,p){if(u)return Di.test(c.css(h,"display"))&&(!h.getClientRects().length||!h.getBoundingClientRect().width)?wn(h,ho,function(){return Nt(h,r,p)}):Nt(h,r,p)},set:function(h,u,p){var _,g=Yi(h),E=!j.scrollboxSize()&&g.position==="absolute",T=E||p,O=T&&c.css(h,"boxSizing",!1,g)==="border-box",Z=p?kt(h,r,p,O,g):0;return O&&E&&(Z-=Math.ceil(h["offset"+r[0].toUpperCase()+r.slice(1)]-parseFloat(g[r])-kt(h,r,"border",!1,g)-.5)),Z&&(_=Ei.exec(u))&&(_[3]||"px")!=="px"&&(h.style[r]=u,u=c.css(h,r)),yi(h,u,Z)}}}),c.cssHooks.marginLeft=ro(j.reliableMarginLeft,function(i,r){if(r)return(parseFloat(ti(i,"marginLeft"))||i.getBoundingClientRect().left-wn(i,{marginLeft:0},function(){return i.getBoundingClientRect().left}))+"px"}),c.each({margin:"",padding:"",border:"Width"},function(i,r){c.cssHooks[i+r]={expand:function(h){for(var u=0,p={},_=typeof h=="string"?h.split(" "):[h];u<4;u++)p[i+Ie[u]+r]=_[u]||_[u-2]||_[0];return p}},i!=="margin"&&(c.cssHooks[i+r].set=yi)}),c.fn.extend({css:function(i,r){return me(this,function(h,u,p){var _,g,E={},T=0;if(Array.isArray(u)){for(_=Yi(h),g=u.length;T<g;T++)E[u[T]]=c.css(h,u[T],!1,_);return E}return p!==void 0?c.style(h,u,p):c.css(h,u)},i,r,arguments.length>1)}});function Xt(i,r,h,u,p){return new Xt.prototype.init(i,r,h,u,p)}c.Tween=Xt,Xt.prototype={constructor:Xt,init:function(i,r,h,u,p,_){this.elem=i,this.prop=h,this.easing=p||c.easing._default,this.options=r,this.start=this.now=this.cur(),this.end=u,this.unit=_||(c.cssNumber[h]?"":"px")},cur:function(){var i=Xt.propHooks[this.prop];return i&&i.get?i.get(this):Xt.propHooks._default.get(this)},run:function(i){var r,h=Xt.propHooks[this.prop];return this.options.duration?this.pos=r=c.easing[this.easing](i,this.options.duration*i,0,1,this.options.duration):this.pos=r=i,this.now=(this.end-this.start)*r+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),h&&h.set?h.set(this):Xt.propHooks._default.set(this),this}},Xt.prototype.init.prototype=Xt.prototype,Xt.propHooks={_default:{get:function(i){var r;return i.elem.nodeType!==1||i.elem[i.prop]!=null&&i.elem.style[i.prop]==null?i.elem[i.prop]:(r=c.css(i.elem,i.prop,""),!r||r==="auto"?0:r)},set:function(i){c.fx.step[i.prop]?c.fx.step[i.prop](i):i.elem.nodeType===1&&(c.cssHooks[i.prop]||i.elem.style[Si(i.prop)]!=null)?c.style(i.elem,i.prop,i.now+i.unit):i.elem[i.prop]=i.now}}},Xt.propHooks.scrollTop=Xt.propHooks.scrollLeft={set:function(i){i.elem.nodeType&&i.elem.parentNode&&(i.elem[i.prop]=i.now)}},c.easing={linear:function(i){return i},swing:function(i){return .5-Math.cos(i*Math.PI)/2},_default:"swing"},c.fx=Xt.prototype.init,c.fx.step={};var Ce,Ve,xn=/^(?:toggle|show|hide)$/,dt=/queueHooks$/;function Rt(){Ve&&(V.hidden===!1&&w.requestAnimationFrame?w.requestAnimationFrame(Rt):w.setTimeout(Rt,c.fx.interval),c.fx.tick())}function Xi(){return w.setTimeout(function(){Ce=void 0}),Ce=Date.now()}function ri(i,r){var h,u=0,p={height:i};for(r=r?1:0;u<4;u+=2-r)h=Ie[u],p["margin"+h]=p["padding"+h]=i;return r&&(p.opacity=p.width=i),p}function de(i,r,h){for(var u,p=(Kt.tweeners[r]||[]).concat(Kt.tweeners["*"]),_=0,g=p.length;_<g;_++)if(u=p[_].call(h,r,i))return u}function Bo(i,r,h){var u,p,_,g,E,T,O,Z,U="width"in r||"height"in r,z=this,W={},at=i.style,Lt=i.nodeType&&Qe(i),ft=it.get(i,"fxshow");h.queue||(g=c._queueHooks(i,"fx"),g.unqueued==null&&(g.unqueued=0,E=g.empty.fire,g.empty.fire=function(){g.unqueued||E()}),g.unqueued++,z.always(function(){z.always(function(){g.unqueued--,c.queue(i,"fx").length||g.empty.fire()})}));for(u in r)if(p=r[u],xn.test(p)){if(delete r[u],_=_||p==="toggle",p===(Lt?"hide":"show"))if(p==="show"&&ft&&ft[u]!==void 0)Lt=!0;else continue;W[u]=ft&&ft[u]||c.style(i,u)}if(T=!c.isEmptyObject(r),!(!T&&c.isEmptyObject(W))){U&&i.nodeType===1&&(h.overflow=[at.overflow,at.overflowX,at.overflowY],O=ft&&ft.display,O==null&&(O=it.get(i,"display")),Z=c.css(i,"display"),Z==="none"&&(O?Z=O:(ni([i],!0),O=i.style.display||O,Z=c.css(i,"display"),ni([i]))),(Z==="inline"||Z==="inline-block"&&O!=null)&&c.css(i,"float")==="none"&&(T||(z.done(function(){at.display=O}),O==null&&(Z=at.display,O=Z==="none"?"":Z)),at.display="inline-block")),h.overflow&&(at.overflow="hidden",z.always(function(){at.overflow=h.overflow[0],at.overflowX=h.overflow[1],at.overflowY=h.overflow[2]})),T=!1;for(u in W)T||(ft?"hidden"in ft&&(Lt=ft.hidden):ft=it.access(i,"fxshow",{display:O}),_&&(ft.hidden=!Lt),Lt&&ni([i],!0),z.done(function(){Lt||ni([i]),it.remove(i,"fxshow");for(u in W)c.style(i,u,W[u])})),T=de(Lt?ft[u]:0,u,z),u in ft||(ft[u]=T.start,Lt&&(T.end=T.start,T.start=0))}}function Ki(i,r){var h,u,p,_,g;for(h in i)if(u=xe(h),p=r[u],_=i[h],Array.isArray(_)&&(p=_[1],_=i[h]=_[0]),h!==u&&(i[u]=_,delete i[h]),g=c.cssHooks[u],g&&"expand"in g){_=g.expand(_),delete i[u];for(h in _)h in i||(i[h]=_[h],r[h]=p)}else r[u]=p}function Kt(i,r,h){var u,p,_=0,g=Kt.prefilters.length,E=c.Deferred().always(function(){delete T.elem}),T=function(){if(p)return!1;for(var U=Ce||Xi(),z=Math.max(0,O.startTime+O.duration-U),W=z/O.duration||0,at=1-W,Lt=0,ft=O.tweens.length;Lt<ft;Lt++)O.tweens[Lt].run(at);return E.notifyWith(i,[O,at,z]),at<1&&ft?z:(ft||E.notifyWith(i,[O,1,0]),E.resolveWith(i,[O]),!1)},O=E.promise({elem:i,props:c.extend({},r),opts:c.extend(!0,{specialEasing:{},easing:c.easing._default},h),originalProperties:r,originalOptions:h,startTime:Ce||Xi(),duration:h.duration,tweens:[],createTween:function(U,z){var W=c.Tween(i,O.opts,U,z,O.opts.specialEasing[U]||O.opts.easing);return O.tweens.push(W),W},stop:function(U){var z=0,W=U?O.tweens.length:0;if(p)return this;for(p=!0;z<W;z++)O.tweens[z].run(1);return U?(E.notifyWith(i,[O,1,0]),E.resolveWith(i,[O,U])):E.rejectWith(i,[O,U]),this}}),Z=O.props;for(Ki(Z,O.opts.specialEasing);_<g;_++)if(u=Kt.prefilters[_].call(O,i,Z,O.opts),u)return H(u.stop)&&(c._queueHooks(O.elem,O.opts.queue).stop=u.stop.bind(u)),u;return c.map(Z,de,O),H(O.opts.start)&&O.opts.start.call(i,O),O.progress(O.opts.progress).done(O.opts.done,O.opts.complete).fail(O.opts.fail).always(O.opts.always),c.fx.timer(c.extend(T,{elem:i,anim:O,queue:O.opts.queue})),O}c.Animation=c.extend(Kt,{tweeners:{"*":[function(i,r){var h=this.createTween(i,r);return Yn(h.elem,i,Ei.exec(r),h),h}]},tweener:function(i,r){H(i)?(r=i,i=["*"]):i=i.match(_e);for(var h,u=0,p=i.length;u<p;u++)h=i[u],Kt.tweeners[h]=Kt.tweeners[h]||[],Kt.tweeners[h].unshift(r)},prefilters:[Bo],prefilter:function(i,r){r?Kt.prefilters.unshift(i):Kt.prefilters.push(i)}}),c.speed=function(i,r,h){var u=i&&typeof i=="object"?c.extend({},i):{complete:h||!h&&r||H(i)&&i,duration:i,easing:h&&r||r&&!H(r)&&r};return c.fx.off?u.duration=0:typeof u.duration!="number"&&(u.duration in c.fx.speeds?u.duration=c.fx.speeds[u.duration]:u.duration=c.fx.speeds._default),(u.queue==null||u.queue===!0)&&(u.queue="fx"),u.old=u.complete,u.complete=function(){H(u.old)&&u.old.call(this),u.queue&&c.dequeue(this,u.queue)},u},c.fn.extend({fadeTo:function(i,r,h,u){return this.filter(Qe).css("opacity",0).show().end().animate({opacity:r},i,h,u)},animate:function(i,r,h,u){var p=c.isEmptyObject(i),_=c.speed(r,h,u),g=function(){var E=Kt(this,c.extend({},i),_);(p||it.get(this,"finish"))&&E.stop(!0)};return g.finish=g,p||_.queue===!1?this.each(g):this.queue(_.queue,g)},stop:function(i,r,h){var u=function(p){var _=p.stop;delete p.stop,_(h)};return typeof i!="string"&&(h=r,r=i,i=void 0),r&&this.queue(i||"fx",[]),this.each(function(){var p=!0,_=i!=null&&i+"queueHooks",g=c.timers,E=it.get(this);if(_)E[_]&&E[_].stop&&u(E[_]);else for(_ in E)E[_]&&E[_].stop&&dt.test(_)&&u(E[_]);for(_=g.length;_--;)g[_].elem===this&&(i==null||g[_].queue===i)&&(g[_].anim.stop(h),p=!1,g.splice(_,1));(p||!h)&&c.dequeue(this,i)})},finish:function(i){return i!==!1&&(i=i||"fx"),this.each(function(){var r,h=it.get(this),u=h[i+"queue"],p=h[i+"queueHooks"],_=c.timers,g=u?u.length:0;for(h.finish=!0,c.queue(this,i,[]),p&&p.stop&&p.stop.call(this,!0),r=_.length;r--;)_[r].elem===this&&_[r].queue===i&&(_[r].anim.stop(!0),_.splice(r,1));for(r=0;r<g;r++)u[r]&&u[r].finish&&u[r].finish.call(this);delete h.finish})}}),c.each(["toggle","show","hide"],function(i,r){var h=c.fn[r];c.fn[r]=function(u,p,_){return u==null||typeof u=="boolean"?h.apply(this,arguments):this.animate(ri(r,!0),u,p,_)}}),c.each({slideDown:ri("show"),slideUp:ri("hide"),slideToggle:ri("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(i,r){c.fn[i]=function(h,u,p){return this.animate(r,h,u,p)}}),c.timers=[],c.fx.tick=function(){var i,r=0,h=c.timers;for(Ce=Date.now();r<h.length;r++)i=h[r],!i()&&h[r]===i&&h.splice(r--,1);h.length||c.fx.stop(),Ce=void 0},c.fx.timer=function(i){c.timers.push(i),c.fx.start()},c.fx.interval=13,c.fx.start=function(){Ve||(Ve=!0,Rt())},c.fx.stop=function(){Ve=null},c.fx.speeds={slow:600,fast:200,_default:400},c.fn.delay=function(i,r){return i=c.fx&&c.fx.speeds[i]||i,r=r||"fx",this.queue(r,function(h,u){var p=w.setTimeout(h,i);u.stop=function(){w.clearTimeout(p)}})},function(){var i=V.createElement("input"),r=V.createElement("select"),h=r.appendChild(V.createElement("option"));i.type="checkbox",j.checkOn=i.value!=="",j.optSelected=h.selected,i=V.createElement("input"),i.value="t",i.type="radio",j.radioValue=i.value==="t"}();var Ft,ke=c.expr.attrHandle;c.fn.extend({attr:function(i,r){return me(this,c.attr,i,r,arguments.length>1)},removeAttr:function(i){return this.each(function(){c.removeAttr(this,i)})}}),c.extend({attr:function(i,r,h){var u,p,_=i.nodeType;if(!(_===3||_===8||_===2)){if(typeof i.getAttribute>"u")return c.prop(i,r,h);if((_!==1||!c.isXMLDoc(i))&&(p=c.attrHooks[r.toLowerCase()]||(c.expr.match.bool.test(r)?Ft:void 0)),h!==void 0){if(h===null){c.removeAttr(i,r);return}return p&&"set"in p&&(u=p.set(i,h,r))!==void 0?u:(i.setAttribute(r,h+""),h)}return p&&"get"in p&&(u=p.get(i,r))!==null?u:(u=c.find.attr(i,r),u??void 0)}},attrHooks:{type:{set:function(i,r){if(!j.radioValue&&r==="radio"&&Et(i,"input")){var h=i.value;return i.setAttribute("type",r),h&&(i.value=h),r}}}},removeAttr:function(i,r){var h,u=0,p=r&&r.match(_e);if(p&&i.nodeType===1)for(;h=p[u++];)i.removeAttribute(h)}}),Ft={set:function(i,r,h){return r===!1?c.removeAttr(i,h):i.setAttribute(h,h),h}},c.each(c.expr.match.bool.source.match(/\w+/g),function(i,r){var h=ke[r]||c.find.attr;ke[r]=function(u,p,_){var g,E,T=p.toLowerCase();return _||(E=ke[T],ke[T]=g,g=h(u,p,_)!=null?T:null,ke[T]=E),g}});var Oi=/^(?:input|select|textarea|button)$/i,Ai=/^(?:a|area)$/i;c.fn.extend({prop:function(i,r){return me(this,c.prop,i,r,arguments.length>1)},removeProp:function(i){return this.each(function(){delete this[c.propFix[i]||i]})}}),c.extend({prop:function(i,r,h){var u,p,_=i.nodeType;if(!(_===3||_===8||_===2))return(_!==1||!c.isXMLDoc(i))&&(r=c.propFix[r]||r,p=c.propHooks[r]),h!==void 0?p&&"set"in p&&(u=p.set(i,h,r))!==void 0?u:i[r]=h:p&&"get"in p&&(u=p.get(i,r))!==null?u:i[r]},propHooks:{tabIndex:{get:function(i){var r=c.find.attr(i,"tabindex");return r?parseInt(r,10):Oi.test(i.nodeName)||Ai.test(i.nodeName)&&i.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),j.optSelected||(c.propHooks.selected={get:function(i){var r=i.parentNode;return r&&r.parentNode&&r.parentNode.selectedIndex,null},set:function(i){var r=i.parentNode;r&&(r.selectedIndex,r.parentNode&&r.parentNode.selectedIndex)}}),c.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){c.propFix[this.toLowerCase()]=this});function We(i){var r=i.match(_e)||[];return r.join(" ")}function Te(i){return i.getAttribute&&i.getAttribute("class")||""}function Ii(i){return Array.isArray(i)?i:typeof i=="string"?i.match(_e)||[]:[]}c.fn.extend({addClass:function(i){var r,h,u,p,_,g;return H(i)?this.each(function(E){c(this).addClass(i.call(this,E,Te(this)))}):(r=Ii(i),r.length?this.each(function(){if(u=Te(this),h=this.nodeType===1&&" "+We(u)+" ",h){for(_=0;_<r.length;_++)p=r[_],h.indexOf(" "+p+" ")<0&&(h+=p+" ");g=We(h),u!==g&&this.setAttribute("class",g)}}):this)},removeClass:function(i){var r,h,u,p,_,g;return H(i)?this.each(function(E){c(this).removeClass(i.call(this,E,Te(this)))}):arguments.length?(r=Ii(i),r.length?this.each(function(){if(u=Te(this),h=this.nodeType===1&&" "+We(u)+" ",h){for(_=0;_<r.length;_++)for(p=r[_];h.indexOf(" "+p+" ")>-1;)h=h.replace(" "+p+" "," ");g=We(h),u!==g&&this.setAttribute("class",g)}}):this):this.attr("class","")},toggleClass:function(i,r){var h,u,p,_,g=typeof i,E=g==="string"||Array.isArray(i);return H(i)?this.each(function(T){c(this).toggleClass(i.call(this,T,Te(this),r),r)}):typeof r=="boolean"&&E?r?this.addClass(i):this.removeClass(i):(h=Ii(i),this.each(function(){if(E)for(_=c(this),p=0;p<h.length;p++)u=h[p],_.hasClass(u)?_.removeClass(u):_.addClass(u);else(i===void 0||g==="boolean")&&(u=Te(this),u&&it.set(this,"__className__",u),this.setAttribute&&this.setAttribute("class",u||i===!1?"":it.get(this,"__className__")||""))}))},hasClass:function(i){var r,h,u=0;for(r=" "+i+" ";h=this[u++];)if(h.nodeType===1&&(" "+We(Te(h))+" ").indexOf(r)>-1)return!0;return!1}});var Cn=/\r/g;c.fn.extend({val:function(i){var r,h,u,p=this[0];return arguments.length?(u=H(i),this.each(function(_){var g;this.nodeType===1&&(u?g=i.call(this,_,c(this).val()):g=i,g==null?g="":typeof g=="number"?g+="":Array.isArray(g)&&(g=c.map(g,function(E){return E==null?"":E+""})),r=c.valHooks[this.type]||c.valHooks[this.nodeName.toLowerCase()],(!r||!("set"in r)||r.set(this,g,"value")===void 0)&&(this.value=g))})):p?(r=c.valHooks[p.type]||c.valHooks[p.nodeName.toLowerCase()],r&&"get"in r&&(h=r.get(p,"value"))!==void 0?h:(h=p.value,typeof h=="string"?h.replace(Cn,""):h??"")):void 0}}),c.extend({valHooks:{option:{get:function(i){var r=c.find.attr(i,"value");return r??We(c.text(i))}},select:{get:function(i){var r,h,u,p=i.options,_=i.selectedIndex,g=i.type==="select-one",E=g?null:[],T=g?_+1:p.length;for(_<0?u=T:u=g?_:0;u<T;u++)if(h=p[u],(h.selected||u===_)&&!h.disabled&&(!h.parentNode.disabled||!Et(h.parentNode,"optgroup"))){if(r=c(h).val(),g)return r;E.push(r)}return E},set:function(i,r){for(var h,u,p=i.options,_=c.makeArray(r),g=p.length;g--;)u=p[g],(u.selected=c.inArray(c.valHooks.option.get(u),_)>-1)&&(h=!0);return h||(i.selectedIndex=-1),_}}}}),c.each(["radio","checkbox"],function(){c.valHooks[this]={set:function(i,r){if(Array.isArray(r))return i.checked=c.inArray(c(i).val(),r)>-1}},j.checkOn||(c.valHooks[this].get=function(i){return i.getAttribute("value")===null?"on":i.value})});var ei=w.location,Ji={guid:Date.now()},zi=/\?/;c.parseXML=function(i){var r,h;if(!i||typeof i!="string")return null;try{r=new w.DOMParser().parseFromString(i,"text/xml")}catch{}return h=r&&r.getElementsByTagName("parsererror")[0],(!r||h)&&c.error("Invalid XML: "+(h?c.map(h.childNodes,function(u){return u.textContent}).join(`
`):i)),r};var Bi=/^(?:focusinfocus|focusoutblur)$/,kn=function(i){i.stopPropagation()};c.extend(c.event,{trigger:function(i,r,h,u){var p,_,g,E,T,O,Z,U,z=[h||V],W=M.call(i,"type")?i.type:i,at=M.call(i,"namespace")?i.namespace.split("."):[];if(_=U=g=h=h||V,!(h.nodeType===3||h.nodeType===8)&&!Bi.test(W+c.event.triggered)&&(W.indexOf(".")>-1&&(at=W.split("."),W=at.shift(),at.sort()),T=W.indexOf(":")<0&&"on"+W,i=i[c.expando]?i:new c.Event(W,typeof i=="object"&&i),i.isTrigger=u?2:3,i.namespace=at.join("."),i.rnamespace=i.namespace?new RegExp("(^|\\.)"+at.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,i.result=void 0,i.target||(i.target=h),r=r==null?[i]:c.makeArray(r,[i]),Z=c.event.special[W]||{},!(!u&&Z.trigger&&Z.trigger.apply(h,r)===!1))){if(!u&&!Z.noBubble&&!ut(h)){for(E=Z.delegateType||W,Bi.test(E+W)||(_=_.parentNode);_;_=_.parentNode)z.push(_),g=_;g===(h.ownerDocument||V)&&z.push(g.defaultView||g.parentWindow||w)}for(p=0;(_=z[p++])&&!i.isPropagationStopped();)U=_,i.type=p>1?E:Z.bindType||W,O=(it.get(_,"events")||Object.create(null))[i.type]&&it.get(_,"handle"),O&&O.apply(_,r),O=T&&_[T],O&&O.apply&&pi(_)&&(i.result=O.apply(_,r),i.result===!1&&i.preventDefault());return i.type=W,!u&&!i.isDefaultPrevented()&&(!Z._default||Z._default.apply(z.pop(),r)===!1)&&pi(h)&&T&&H(h[W])&&!ut(h)&&(g=h[T],g&&(h[T]=null),c.event.triggered=W,i.isPropagationStopped()&&U.addEventListener(W,kn),h[W](),i.isPropagationStopped()&&U.removeEventListener(W,kn),c.event.triggered=void 0,g&&(h[T]=g)),i.result}},simulate:function(i,r,h){var u=c.extend(new c.Event,h,{type:i,isSimulated:!0});c.event.trigger(u,null,r)}}),c.fn.extend({trigger:function(i,r){return this.each(function(){c.event.trigger(i,r,this)})},triggerHandler:function(i,r){var h=this[0];if(h)return c.event.trigger(i,r,h,!0)}});var Tn=/\[\]$/,uo=/\r?\n/g,ct=/^(?:submit|button|image|reset|file)$/i,ze=/^(?:input|select|textarea|keygen)/i;function At(i,r,h,u){var p;if(Array.isArray(r))c.each(r,function(_,g){h||Tn.test(i)?u(i,g):At(i+"["+(typeof g=="object"&&g!=null?_:"")+"]",g,h,u)});else if(!h&&It(r)==="object")for(p in r)At(i+"["+p+"]",r[p],h,u);else u(i,r)}c.param=function(i,r){var h,u=[],p=function(_,g){var E=H(g)?g():g;u[u.length]=encodeURIComponent(_)+"="+encodeURIComponent(E??"")};if(i==null)return"";if(Array.isArray(i)||i.jquery&&!c.isPlainObject(i))c.each(i,function(){p(this.name,this.value)});else for(h in i)At(h,i[h],r,p);return u.join("&")},c.fn.extend({serialize:function(){return c.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var i=c.prop(this,"elements");return i?c.makeArray(i):this}).filter(function(){var i=this.type;return this.name&&!c(this).is(":disabled")&&ze.test(this.nodeName)&&!ct.test(i)&&(this.checked||!_i.test(i))}).map(function(i,r){var h=c(this).val();return h==null?null:Array.isArray(h)?c.map(h,function(u){return{name:r.name,value:u.replace(uo,`\r
`)}}):{name:r.name,value:h.replace(uo,`\r
`)}}).get()}});var co=/%20/g,Mn=/#.*$/,Pn=/([?&])_=[^&]*/,En=/^(.*?):[ \t]*([^\r\n]*)$/mg,si=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Sn=/^(?:GET|HEAD)$/,Ni=/^\/\//,Wt={},$e={},Dn="*/".concat("*"),Qi=V.createElement("a");Qi.href=ei.href;function fo(i){return function(r,h){typeof r!="string"&&(h=r,r="*");var u,p=0,_=r.toLowerCase().match(_e)||[];if(H(h))for(;u=_[p++];)u[0]==="+"?(u=u.slice(1)||"*",(i[u]=i[u]||[]).unshift(h)):(i[u]=i[u]||[]).push(h)}}function On(i,r,h,u){var p={},_=i===$e;function g(E){var T;return p[E]=!0,c.each(i[E]||[],function(O,Z){var U=Z(r,h,u);if(typeof U=="string"&&!_&&!p[U])return r.dataTypes.unshift(U),g(U),!1;if(_)return!(T=U)}),T}return g(r.dataTypes[0])||!p["*"]&&g("*")}function Ri(i,r){var h,u,p=c.ajaxSettings.flatOptions||{};for(h in r)r[h]!==void 0&&((p[h]?i:u||(u={}))[h]=r[h]);return u&&c.extend(!0,i,u),i}function No(i,r,h){for(var u,p,_,g,E=i.contents,T=i.dataTypes;T[0]==="*";)T.shift(),u===void 0&&(u=i.mimeType||r.getResponseHeader("Content-Type"));if(u){for(p in E)if(E[p]&&E[p].test(u)){T.unshift(p);break}}if(T[0]in h)_=T[0];else{for(p in h){if(!T[0]||i.converters[p+" "+T[0]]){_=p;break}g||(g=p)}_=_||g}if(_)return _!==T[0]&&T.unshift(_),h[_]}function po(i,r,h,u){var p,_,g,E,T,O={},Z=i.dataTypes.slice();if(Z[1])for(g in i.converters)O[g.toLowerCase()]=i.converters[g];for(_=Z.shift();_;)if(i.responseFields[_]&&(h[i.responseFields[_]]=r),!T&&u&&i.dataFilter&&(r=i.dataFilter(r,i.dataType)),T=_,_=Z.shift(),_){if(_==="*")_=T;else if(T!=="*"&&T!==_){if(g=O[T+" "+_]||O["* "+_],!g){for(p in O)if(E=p.split(" "),E[1]===_&&(g=O[T+" "+E[0]]||O["* "+E[0]],g)){g===!0?g=O[p]:O[p]!==!0&&(_=E[0],Z.unshift(E[1]));break}}if(g!==!0)if(g&&i.throws)r=g(r);else try{r=g(r)}catch(U){return{state:"parsererror",error:g?U:"No conversion from "+T+" to "+_}}}}return{state:"success",data:r}}c.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ei.href,type:"GET",isLocal:si.test(ei.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Dn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":c.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(i,r){return r?Ri(Ri(i,c.ajaxSettings),r):Ri(c.ajaxSettings,i)},ajaxPrefilter:fo(Wt),ajaxTransport:fo($e),ajax:function(i,r){typeof i=="object"&&(r=i,i=void 0),r=r||{};var h,u,p,_,g,E,T,O,Z,U,z=c.ajaxSetup({},r),W=z.context||z,at=z.context&&(W.nodeType||W.jquery)?c(W):c.event,Lt=c.Deferred(),ft=c.Callbacks("once memory"),Jt=z.statusCode||{},Gt={},Be={},Me="canceled",mt={readyState:0,getResponseHeader:function(pt){var Zt;if(T){if(!_)for(_={};Zt=En.exec(p);)_[Zt[1].toLowerCase()+" "]=(_[Zt[1].toLowerCase()+" "]||[]).concat(Zt[2]);Zt=_[pt.toLowerCase()+" "]}return Zt==null?null:Zt.join(", ")},getAllResponseHeaders:function(){return T?p:null},setRequestHeader:function(pt,Zt){return T==null&&(pt=Be[pt.toLowerCase()]=Be[pt.toLowerCase()]||pt,Gt[pt]=Zt),this},overrideMimeType:function(pt){return T==null&&(z.mimeType=pt),this},statusCode:function(pt){var Zt;if(pt)if(T)mt.always(pt[mt.status]);else for(Zt in pt)Jt[Zt]=[Jt[Zt],pt[Zt]];return this},abort:function(pt){var Zt=pt||Me;return h&&h.abort(Zt),Ne(0,Zt),this}};if(Lt.promise(mt),z.url=((i||z.url||ei.href)+"").replace(Ni,ei.protocol+"//"),z.type=r.method||r.type||z.method||z.type,z.dataTypes=(z.dataType||"*").toLowerCase().match(_e)||[""],z.crossDomain==null){E=V.createElement("a");try{E.href=z.url,E.href=E.href,z.crossDomain=Qi.protocol+"//"+Qi.host!=E.protocol+"//"+E.host}catch{z.crossDomain=!0}}if(z.data&&z.processData&&typeof z.data!="string"&&(z.data=c.param(z.data,z.traditional)),On(Wt,z,r,mt),T)return mt;O=c.event&&z.global,O&&c.active++===0&&c.event.trigger("ajaxStart"),z.type=z.type.toUpperCase(),z.hasContent=!Sn.test(z.type),u=z.url.replace(Mn,""),z.hasContent?z.data&&z.processData&&(z.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(z.data=z.data.replace(co,"+")):(U=z.url.slice(u.length),z.data&&(z.processData||typeof z.data=="string")&&(u+=(zi.test(u)?"&":"?")+z.data,delete z.data),z.cache===!1&&(u=u.replace(Pn,"$1"),U=(zi.test(u)?"&":"?")+"_="+Ji.guid+++U),z.url=u+U),z.ifModified&&(c.lastModified[u]&&mt.setRequestHeader("If-Modified-Since",c.lastModified[u]),c.etag[u]&&mt.setRequestHeader("If-None-Match",c.etag[u])),(z.data&&z.hasContent&&z.contentType!==!1||r.contentType)&&mt.setRequestHeader("Content-Type",z.contentType),mt.setRequestHeader("Accept",z.dataTypes[0]&&z.accepts[z.dataTypes[0]]?z.accepts[z.dataTypes[0]]+(z.dataTypes[0]!=="*"?", "+Dn+"; q=0.01":""):z.accepts["*"]);for(Z in z.headers)mt.setRequestHeader(Z,z.headers[Z]);if(z.beforeSend&&(z.beforeSend.call(W,mt,z)===!1||T))return mt.abort();if(Me="abort",ft.add(z.complete),mt.done(z.success),mt.fail(z.error),h=On($e,z,r,mt),!h)Ne(-1,"No Transport");else{if(mt.readyState=1,O&&at.trigger("ajaxSend",[mt,z]),T)return mt;z.async&&z.timeout>0&&(g=w.setTimeout(function(){mt.abort("timeout")},z.timeout));try{T=!1,h.send(Gt,Ne)}catch(pt){if(T)throw pt;Ne(-1,pt)}}function Ne(pt,Zt,Ye,le){var Pe,Li,Re,Ze,He,ye=Zt;T||(T=!0,g&&w.clearTimeout(g),h=void 0,p=le||"",mt.readyState=pt>0?4:0,Pe=pt>=200&&pt<300||pt===304,Ye&&(Ze=No(z,mt,Ye)),!Pe&&c.inArray("script",z.dataTypes)>-1&&c.inArray("json",z.dataTypes)<0&&(z.converters["text script"]=function(){}),Ze=po(z,Ze,mt,Pe),Pe?(z.ifModified&&(He=mt.getResponseHeader("Last-Modified"),He&&(c.lastModified[u]=He),He=mt.getResponseHeader("etag"),He&&(c.etag[u]=He)),pt===204||z.type==="HEAD"?ye="nocontent":pt===304?ye="notmodified":(ye=Ze.state,Li=Ze.data,Re=Ze.error,Pe=!Re)):(Re=ye,(pt||!ye)&&(ye="error",pt<0&&(pt=0))),mt.status=pt,mt.statusText=(Zt||ye)+"",Pe?Lt.resolveWith(W,[Li,ye,mt]):Lt.rejectWith(W,[mt,ye,Re]),mt.statusCode(Jt),Jt=void 0,O&&at.trigger(Pe?"ajaxSuccess":"ajaxError",[mt,z,Pe?Li:Re]),ft.fireWith(W,[mt,ye]),O&&(at.trigger("ajaxComplete",[mt,z]),--c.active||c.event.trigger("ajaxStop")))}return mt},getJSON:function(i,r,h){return c.get(i,r,h,"json")},getScript:function(i,r){return c.get(i,void 0,r,"script")}}),c.each(["get","post"],function(i,r){c[r]=function(h,u,p,_){return H(u)&&(_=_||p,p=u,u=void 0),c.ajax(c.extend({url:h,type:r,dataType:_,data:u,success:p},c.isPlainObject(h)&&h))}}),c.ajaxPrefilter(function(i){var r;for(r in i.headers)r.toLowerCase()==="content-type"&&(i.contentType=i.headers[r]||"")}),c._evalUrl=function(i,r,h){return c.ajax({url:i,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(u){c.globalEval(u,r,h)}})},c.fn.extend({wrapAll:function(i){var r;return this[0]&&(H(i)&&(i=i.call(this[0])),r=c(i,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&r.insertBefore(this[0]),r.map(function(){for(var h=this;h.firstElementChild;)h=h.firstElementChild;return h}).append(this)),this},wrapInner:function(i){return H(i)?this.each(function(r){c(this).wrapInner(i.call(this,r))}):this.each(function(){var r=c(this),h=r.contents();h.length?h.wrapAll(i):r.append(i)})},wrap:function(i){var r=H(i);return this.each(function(h){c(this).wrapAll(r?i.call(this,h):i)})},unwrap:function(i){return this.parent(i).not("body").each(function(){c(this).replaceWith(this.childNodes)}),this}}),c.expr.pseudos.hidden=function(i){return!c.expr.pseudos.visible(i)},c.expr.pseudos.visible=function(i){return!!(i.offsetWidth||i.offsetHeight||i.getClientRects().length)},c.ajaxSettings.xhr=function(){try{return new w.XMLHttpRequest}catch{}};var Tt={0:200,1223:204},Zi=c.ajaxSettings.xhr();j.cors=!!Zi&&"withCredentials"in Zi,j.ajax=Zi=!!Zi,c.ajaxTransport(function(i){var r,h;if(j.cors||Zi&&!i.crossDomain)return{send:function(u,p){var _,g=i.xhr();if(g.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(_ in i.xhrFields)g[_]=i.xhrFields[_];i.mimeType&&g.overrideMimeType&&g.overrideMimeType(i.mimeType),!i.crossDomain&&!u["X-Requested-With"]&&(u["X-Requested-With"]="XMLHttpRequest");for(_ in u)g.setRequestHeader(_,u[_]);r=function(E){return function(){r&&(r=h=g.onload=g.onerror=g.onabort=g.ontimeout=g.onreadystatechange=null,E==="abort"?g.abort():E==="error"?typeof g.status!="number"?p(0,"error"):p(g.status,g.statusText):p(Tt[g.status]||g.status,g.statusText,(g.responseType||"text")!=="text"||typeof g.responseText!="string"?{binary:g.response}:{text:g.responseText},g.getAllResponseHeaders()))}},g.onload=r(),h=g.onerror=g.ontimeout=r("error"),g.onabort!==void 0?g.onabort=h:g.onreadystatechange=function(){g.readyState===4&&w.setTimeout(function(){r&&h()})},r=r("abort");try{g.send(i.hasContent&&i.data||null)}catch(E){if(r)throw E}},abort:function(){r&&r()}}}),c.ajaxPrefilter(function(i){i.crossDomain&&(i.contents.script=!1)}),c.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(i){return c.globalEval(i),i}}}),c.ajaxPrefilter("script",function(i){i.cache===void 0&&(i.cache=!1),i.crossDomain&&(i.type="GET")}),c.ajaxTransport("script",function(i){if(i.crossDomain||i.scriptAttrs){var r,h;return{send:function(u,p){r=c("<script>").attr(i.scriptAttrs||{}).prop({charset:i.scriptCharset,src:i.url}).on("load error",h=function(_){r.remove(),h=null,_&&p(_.type==="error"?404:200,_.type)}),V.head.appendChild(r[0])},abort:function(){h&&h()}}}});var ve=[],ai=/(=)\?(?=&|$)|\?\?/;c.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var i=ve.pop()||c.expando+"_"+Ji.guid++;return this[i]=!0,i}}),c.ajaxPrefilter("json jsonp",function(i,r,h){var u,p,_,g=i.jsonp!==!1&&(ai.test(i.url)?"url":typeof i.data=="string"&&(i.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&ai.test(i.data)&&"data");if(g||i.dataTypes[0]==="jsonp")return u=i.jsonpCallback=H(i.jsonpCallback)?i.jsonpCallback():i.jsonpCallback,g?i[g]=i[g].replace(ai,"$1"+u):i.jsonp!==!1&&(i.url+=(zi.test(i.url)?"&":"?")+i.jsonp+"="+u),i.converters["script json"]=function(){return _||c.error(u+" was not called"),_[0]},i.dataTypes[0]="json",p=w[u],w[u]=function(){_=arguments},h.always(function(){p===void 0?c(w).removeProp(u):w[u]=p,i[u]&&(i.jsonpCallback=r.jsonpCallback,ve.push(u)),_&&H(p)&&p(_[0]),_=p=void 0}),"script"}),j.createHTMLDocument=function(){var i=V.implementation.createHTMLDocument("").body;return i.innerHTML="<form></form><form></form>",i.childNodes.length===2}(),c.parseHTML=function(i,r,h){if(typeof i!="string")return[];typeof r=="boolean"&&(h=r,r=!1);var u,p,_;return r||(j.createHTMLDocument?(r=V.implementation.createHTMLDocument(""),u=r.createElement("base"),u.href=V.location.href,r.head.appendChild(u)):r=V),p=se.exec(i),_=!h&&[],p?[r.createElement(p[1])]:(p=$i([i],r,_),_&&_.length&&c(_).remove(),c.merge([],p.childNodes))},c.fn.load=function(i,r,h){var u,p,_,g=this,E=i.indexOf(" ");return E>-1&&(u=We(i.slice(E)),i=i.slice(0,E)),H(r)?(h=r,r=void 0):r&&typeof r=="object"&&(p="POST"),g.length>0&&c.ajax({url:i,type:p||"GET",dataType:"html",data:r}).done(function(T){_=arguments,g.html(u?c("<div>").append(c.parseHTML(T)).find(u):T)}).always(h&&function(T,O){g.each(function(){h.apply(this,_||[T.responseText,O,T])})}),this},c.expr.pseudos.animated=function(i){return c.grep(c.timers,function(r){return i===r.elem}).length},c.offset={setOffset:function(i,r,h){var u,p,_,g,E,T,O,Z=c.css(i,"position"),U=c(i),z={};Z==="static"&&(i.style.position="relative"),E=U.offset(),_=c.css(i,"top"),T=c.css(i,"left"),O=(Z==="absolute"||Z==="fixed")&&(_+T).indexOf("auto")>-1,O?(u=U.position(),g=u.top,p=u.left):(g=parseFloat(_)||0,p=parseFloat(T)||0),H(r)&&(r=r.call(i,h,c.extend({},E))),r.top!=null&&(z.top=r.top-E.top+g),r.left!=null&&(z.left=r.left-E.left+p),"using"in r?r.using.call(i,z):U.css(z)}},c.fn.extend({offset:function(i){if(arguments.length)return i===void 0?this:this.each(function(p){c.offset.setOffset(this,i,p)});var r,h,u=this[0];if(u)return u.getClientRects().length?(r=u.getBoundingClientRect(),h=u.ownerDocument.defaultView,{top:r.top+h.pageYOffset,left:r.left+h.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var i,r,h,u=this[0],p={top:0,left:0};if(c.css(u,"position")==="fixed")r=u.getBoundingClientRect();else{for(r=this.offset(),h=u.ownerDocument,i=u.offsetParent||h.documentElement;i&&(i===h.body||i===h.documentElement)&&c.css(i,"position")==="static";)i=i.parentNode;i&&i!==u&&i.nodeType===1&&(p=c(i).offset(),p.top+=c.css(i,"borderTopWidth",!0),p.left+=c.css(i,"borderLeftWidth",!0))}return{top:r.top-p.top-c.css(u,"marginTop",!0),left:r.left-p.left-c.css(u,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var i=this.offsetParent;i&&c.css(i,"position")==="static";)i=i.offsetParent;return i||qe})}}),c.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(i,r){var h=r==="pageYOffset";c.fn[i]=function(u){return me(this,function(p,_,g){var E;if(ut(p)?E=p:p.nodeType===9&&(E=p.defaultView),g===void 0)return E?E[r]:p[_];E?E.scrollTo(h?E.pageXOffset:g,h?g:E.pageYOffset):p[_]=g},i,u,arguments.length)}}),c.each(["top","left"],function(i,r){c.cssHooks[r]=ro(j.pixelPosition,function(h,u){if(u)return u=ti(h,r),yn.test(u)?c(h).position()[r]+"px":u})}),c.each({Height:"height",Width:"width"},function(i,r){c.each({padding:"inner"+i,content:r,"":"outer"+i},function(h,u){c.fn[u]=function(p,_){var g=arguments.length&&(h||typeof p!="boolean"),E=h||(p===!0||_===!0?"margin":"border");return me(this,function(T,O,Z){var U;return ut(T)?u.indexOf("outer")===0?T["inner"+i]:T.document.documentElement["client"+i]:T.nodeType===9?(U=T.documentElement,Math.max(T.body["scroll"+i],U["scroll"+i],T.body["offset"+i],U["offset"+i],U["client"+i])):Z===void 0?c.css(T,O,E):c.style(T,O,Z,E)},r,g?p:void 0,g)}})}),c.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(i,r){c.fn[r]=function(h){return this.on(r,h)}}),c.fn.extend({bind:function(i,r,h){return this.on(i,null,r,h)},unbind:function(i,r){return this.off(i,null,r)},delegate:function(i,r,h,u){return this.on(r,i,h,u)},undelegate:function(i,r,h){return arguments.length===1?this.off(i,"**"):this.off(r,i||"**",h)},hover:function(i,r){return this.on("mouseenter",i).on("mouseleave",r||i)}}),c.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(i,r){c.fn[r]=function(h,u){return arguments.length>0?this.on(r,null,h,u):this.trigger(r)}});var _o=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;c.proxy=function(i,r){var h,u,p;if(typeof r=="string"&&(h=i[r],r=i,i=h),!!H(i))return u=o.call(arguments,2),p=function(){return i.apply(r||this,u.concat(o.call(arguments)))},p.guid=i.guid=i.guid||c.guid++,p},c.holdReady=function(i){i?c.readyWait++:c.ready(!0)},c.isArray=Array.isArray,c.parseJSON=JSON.parse,c.nodeName=Et,c.isFunction=H,c.isWindow=ut,c.camelCase=xe,c.type=It,c.now=Date.now,c.isNumeric=function(i){var r=c.type(i);return(r==="number"||r==="string")&&!isNaN(i-parseFloat(i))},c.trim=function(i){return i==null?"":(i+"").replace(_o,"$1")};var Ro=w.jQuery,An=w.$;return c.noConflict=function(i){return w.$===c&&(w.$=An),i&&w.jQuery===c&&(w.jQuery=Ro),c},typeof C>"u"&&(w.jQuery=w.$=c),c})}(wo)),wo.exports}var Vr=qr();const Lr=Ur(Vr);var Rn={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Wr=Rn.exports,dr;function wr(){return dr||(dr=1,function(y,w){(function(C,k){k(w)})(Wr,function(C){var k="1.9.4";function a(t){var e,n,l,d;for(n=1,l=arguments.length;n<l;n++){d=arguments[n];for(e in d)t[e]=d[e]}return t}var o=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function s(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var l=n.call(arguments,2);return function(){return t.apply(e,l.length?l.concat(n.call(arguments)):arguments)}}var f=0;function m(t){return"_leaflet_id"in t||(t._leaflet_id=++f),t._leaflet_id}function x(t,e,n){var l,d,v,S;return S=function(){l=!1,d&&(v.apply(n,d),d=!1)},v=function(){l?d=arguments:(t.apply(n,arguments),setTimeout(S,e),l=!0)},v}function P(t,e,n){var l=e[1],d=e[0],v=l-d;return t===l&&n?t:((t-d)%v+v)%v+d}function M(){return!1}function B(t,e){if(e===!1)return t;var n=Math.pow(10,e===void 0?6:e);return Math.round(t*n)/n}function F(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function j(t){return F(t).split(/\s+/)}function H(t,e){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?o(t.options):{});for(var n in e)t.options[n]=e[n];return t.options}function ut(t,e,n){var l=[];for(var d in t)l.push(encodeURIComponent(n?d.toUpperCase():d)+"="+encodeURIComponent(t[d]));return(!e||e.indexOf("?")===-1?"?":"&")+l.join("&")}var V=/\{ *([\w_ -]+) *\}/g;function wt(t,e){return t.replace(V,function(n,l){var d=e[l];if(d===void 0)throw new Error("No value provided for variable "+n);return typeof d=="function"&&(d=d(e)),d})}var bt=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function It(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var Yt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ue(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var c=0;function ci(t){var e=+new Date,n=Math.max(0,16-(e-c));return c=e+n,window.setTimeout(t,n)}var Et=window.requestAnimationFrame||ue("RequestAnimationFrame")||ci,Mi=window.cancelAnimationFrame||ue("CancelAnimationFrame")||ue("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function Ut(t,e,n){if(n&&Et===ci)t.call(e);else return Et.call(window,s(t,e))}function Qt(t){t&&Mi.call(window,t)}var xt={__proto__:null,extend:a,create:o,bind:s,get lastId(){return f},stamp:m,throttle:x,wrapNum:P,falseFn:M,formatNum:B,trim:F,splitWords:j,setOptions:H,getParamString:ut,template:wt,isArray:bt,indexOf:It,emptyImageUrl:Yt,requestFn:Et,cancelFn:Mi,requestAnimFrame:Ut,cancelAnimFrame:Qt};function te(){}te.extend=function(t){var e=function(){H(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},n=e.__super__=this.prototype,l=o(n);l.constructor=e,e.prototype=l;for(var d in this)Object.prototype.hasOwnProperty.call(this,d)&&d!=="prototype"&&d!=="__super__"&&(e[d]=this[d]);return t.statics&&a(e,t.statics),t.includes&&(zt(t.includes),a.apply(null,[l].concat(t.includes))),a(l,t),delete l.statics,delete l.includes,l.options&&(l.options=n.options?o(n.options):{},a(l.options,t.options)),l._initHooks=[],l.callInitHooks=function(){if(!this._initHooksCalled){n.callInitHooks&&n.callInitHooks.call(this),this._initHooksCalled=!0;for(var v=0,S=l._initHooks.length;v<S;v++)l._initHooks[v].call(this)}},e},te.include=function(t){var e=this.prototype.options;return a(this.prototype,t),t.options&&(this.prototype.options=e,this.mergeOptions(t.options)),this},te.mergeOptions=function(t){return a(this.prototype.options,t),this},te.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n=typeof t=="function"?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};function zt(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=bt(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Mt={on:function(t,e,n){if(typeof t=="object")for(var l in t)this._on(l,t[l],e);else{t=j(t);for(var d=0,v=t.length;d<v;d++)this._on(t[d],e,n)}return this},off:function(t,e,n){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var l in t)this._off(l,t[l],e);else{t=j(t);for(var d=arguments.length===1,v=0,S=t.length;v<S;v++)d?this._off(t[v]):this._off(t[v],e,n)}return this},_on:function(t,e,n,l){if(typeof e!="function"){console.warn("wrong listener type: "+typeof e);return}if(this._listens(t,e,n)===!1){n===this&&(n=void 0);var d={fn:e,ctx:n};l&&(d.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(d)}},_off:function(t,e,n){var l,d,v;if(this._events&&(l=this._events[t],!!l)){if(arguments.length===1){if(this._firingCount)for(d=0,v=l.length;d<v;d++)l[d].fn=M;delete this._events[t];return}if(typeof e!="function"){console.warn("wrong listener type: "+typeof e);return}var S=this._listens(t,e,n);if(S!==!1){var I=l[S];this._firingCount&&(I.fn=M,this._events[t]=l=l.slice()),l.splice(S,1)}}},fire:function(t,e,n){if(!this.listens(t,n))return this;var l=a({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var d=this._events[t];if(d){this._firingCount=this._firingCount+1||1;for(var v=0,S=d.length;v<S;v++){var I=d[v],R=I.fn;I.once&&this.off(t,R,I.ctx),R.call(I.ctx||this,l)}this._firingCount--}}return n&&this._propagateEvent(l),this},listens:function(t,e,n,l){typeof t!="string"&&console.warn('"string" type argument expected');var d=e;typeof e!="function"&&(l=!!e,d=void 0,n=void 0);var v=this._events&&this._events[t];if(v&&v.length&&this._listens(t,d,n)!==!1)return!0;if(l){for(var S in this._eventParents)if(this._eventParents[S].listens(t,e,n,l))return!0}return!1},_listens:function(t,e,n){if(!this._events)return!1;var l=this._events[t]||[];if(!e)return!!l.length;n===this&&(n=void 0);for(var d=0,v=l.length;d<v;d++)if(l[d].fn===e&&l[d].ctx===n)return d;return!1},once:function(t,e,n){if(typeof t=="object")for(var l in t)this._on(l,t[l],e,!0);else{t=j(t);for(var d=0,v=t.length;d<v;d++)this._on(t[d],e,n,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[m(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[m(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,a({layer:t.target,propagatedFrom:t.target},t),!0)}};Mt.addEventListener=Mt.on,Mt.removeEventListener=Mt.clearAllEventListeners=Mt.off,Mt.addOneTimeEventListener=Mt.once,Mt.fireEvent=Mt.fire,Mt.hasEventListeners=Mt.listens;var Dt=te.extend(Mt);function nt(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var ee=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};nt.prototype={clone:function(){return new nt(this.x,this.y)},add:function(t){return this.clone()._add(rt(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(rt(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new nt(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new nt(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ee(this.x),this.y=ee(this.y),this},distanceTo:function(t){t=rt(t);var e=t.x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return t=rt(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=rt(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+B(this.x)+", "+B(this.y)+")"}};function rt(t,e,n){return t instanceof nt?t:bt(t)?new nt(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new nt(t.x,t.y):new nt(t,e,n)}function Bt(t,e){if(t)for(var n=e?[t,e]:t,l=0,d=n.length;l<d;l++)this.extend(n[l])}Bt.prototype={extend:function(t){var e,n;if(!t)return this;if(t instanceof nt||typeof t[0]=="number"||"x"in t)e=n=rt(t);else if(t=se(t),e=t.min,n=t.max,!e||!n)return this;return!this.min&&!this.max?(this.min=e.clone(),this.max=n.clone()):(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)),this},getCenter:function(t){return rt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return rt(this.min.x,this.max.y)},getTopRight:function(){return rt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return typeof t[0]=="number"||t instanceof nt?t=rt(t):t=se(t),t instanceof Bt?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=se(t);var e=this.min,n=this.max,l=t.min,d=t.max,v=d.x>=e.x&&l.x<=n.x,S=d.y>=e.y&&l.y<=n.y;return v&&S},overlaps:function(t){t=se(t);var e=this.min,n=this.max,l=t.min,d=t.max,v=d.x>e.x&&l.x<n.x,S=d.y>e.y&&l.y<n.y;return v&&S},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var e=this.min,n=this.max,l=Math.abs(e.x-n.x)*t,d=Math.abs(e.y-n.y)*t;return se(rt(e.x-l,e.y-d),rt(n.x+l,n.y+d))},equals:function(t){return t?(t=se(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function se(t,e){return!t||t instanceof Bt?t:new Bt(t,e)}function ie(t,e){if(t)for(var n=e?[t,e]:t,l=0,d=n.length;l<d;l++)this.extend(n[l])}ie.prototype={extend:function(t){var e=this._southWest,n=this._northEast,l,d;if(t instanceof Ot)l=t,d=t;else if(t instanceof ie){if(l=t._southWest,d=t._northEast,!l||!d)return this}else return t?this.extend(Ct(t)||Ht(t)):this;return!e&&!n?(this._southWest=new Ot(l.lat,l.lng),this._northEast=new Ot(d.lat,d.lng)):(e.lat=Math.min(l.lat,e.lat),e.lng=Math.min(l.lng,e.lng),n.lat=Math.max(d.lat,n.lat),n.lng=Math.max(d.lng,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,l=Math.abs(e.lat-n.lat)*t,d=Math.abs(e.lng-n.lng)*t;return new ie(new Ot(e.lat-l,e.lng-d),new Ot(n.lat+l,n.lng+d))},getCenter:function(){return new Ot((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ot(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ot(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof Ot||"lat"in t?t=Ct(t):t=Ht(t);var e=this._southWest,n=this._northEast,l,d;return t instanceof ie?(l=t.getSouthWest(),d=t.getNorthEast()):l=d=t,l.lat>=e.lat&&d.lat<=n.lat&&l.lng>=e.lng&&d.lng<=n.lng},intersects:function(t){t=Ht(t);var e=this._southWest,n=this._northEast,l=t.getSouthWest(),d=t.getNorthEast(),v=d.lat>=e.lat&&l.lat<=n.lat,S=d.lng>=e.lng&&l.lng<=n.lng;return v&&S},overlaps:function(t){t=Ht(t);var e=this._southWest,n=this._northEast,l=t.getSouthWest(),d=t.getNorthEast(),v=d.lat>e.lat&&l.lat<n.lat,S=d.lng>e.lng&&l.lng<n.lng;return v&&S},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return t?(t=Ht(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ht(t,e){return t instanceof ie?t:new ie(t,e)}function Ot(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,n!==void 0&&(this.alt=+n)}Ot.prototype={equals:function(t,e){if(!t)return!1;t=Ct(t);var n=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return n<=(e===void 0?1e-9:e)},toString:function(t){return"LatLng("+B(this.lat,t)+", "+B(this.lng,t)+")"},distanceTo:function(t){return Je.distance(this,Ct(t))},wrap:function(){return Je.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return Ht([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new Ot(this.lat,this.lng,this.alt)}};function Ct(t,e,n){return t instanceof Ot?t:bt(t)&&typeof t[0]!="object"?t.length===3?new Ot(t[0],t[1],t[2]):t.length===2?new Ot(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new Ot(t.lat,"lng"in t?t.lng:t.lon,t.alt):e===void 0?null:new Ot(t,e,n)}var je={latLngToPoint:function(t,e){var n=this.projection.project(t),l=this.scale(e);return this.transformation._transform(n,l)},pointToLatLng:function(t,e){var n=this.scale(e),l=this.transformation.untransform(t,n);return this.projection.unproject(l)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t),l=this.transformation.transform(e.min,n),d=this.transformation.transform(e.max,n);return new Bt(l,d)},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?P(t.lng,this.wrapLng,!0):t.lng,n=this.wrapLat?P(t.lat,this.wrapLat,!0):t.lat,l=t.alt;return new Ot(n,e,l)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),l=e.lat-n.lat,d=e.lng-n.lng;if(l===0&&d===0)return t;var v=t.getSouthWest(),S=t.getNorthEast(),I=new Ot(v.lat-l,v.lng-d),R=new Ot(S.lat-l,S.lng-d);return new ie(I,R)}},Je=a({},je,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,l=t.lat*n,d=e.lat*n,v=Math.sin((e.lat-t.lat)*n/2),S=Math.sin((e.lng-t.lng)*n/2),I=v*v+Math.cos(l)*Math.cos(d)*S*S,R=2*Math.atan2(Math.sqrt(I),Math.sqrt(1-I));return this.R*R}}),hn=6378137,_e={R:hn,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,l=Math.max(Math.min(n,t.lat),-n),d=Math.sin(l*e);return new nt(this.R*t.lng*e,this.R*Math.log((1+d)/(1-d))/2)},unproject:function(t){var e=180/Math.PI;return new Ot((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=hn*Math.PI;return new Bt([-t,-t],[t,t])}()};function un(t,e,n,l){if(bt(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=e,this._c=n,this._d=l}un.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new nt((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};function Ae(t,e,n,l){return new un(t,e,n,l)}var di=a({},Je,{code:"EPSG:3857",projection:_e,transformation:function(){var t=.5/(Math.PI*_e.R);return Ae(t,.5,-t,.5)}()}),jn=a({},di,{code:"EPSG:900913"});function qn(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Wi(t,e){var n="",l,d,v,S,I,R;for(l=0,v=t.length;l<v;l++){for(I=t[l],d=0,S=I.length;d<S;d++)R=I[d],n+=(d?"L":"M")+R.x+" "+R.y;n+=e?ot.svg?"z":"x":""}return n||"M0 0"}var fi=document.documentElement.style,me="ActiveXObject"in window,So=me&&!document.addEventListener,Vn="msLaunchUri"in navigator&&!("documentMode"in document),cn=ce("webkit"),xe=ce("android"),pi=ce("android 2")||ce("android 3"),Pi=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),it=xe&&ce("Google")&&Pi<537&&!("AudioNode"in window),ne=!!window.opera,Wn=!Vn&&ce("chrome"),$n=ce("gecko")&&!cn&&!ne&&!me,Do=!Wn&&ce("safari"),dn=ce("phantom"),fn="OTransition"in fi,Ei=navigator.platform.indexOf("Win")===0,Ie=me&&"transition"in fi,qe="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!pi,ii="MozPerspective"in fi,Oo=!window.L_DISABLE_3D&&(Ie||qe||ii)&&!fn&&!dn,Qe=typeof orientation<"u"||ce("mobile"),Yn=Qe&&cn,Xn=Qe&&qe,Kn=!window.PointerEvent&&window.MSPointerEvent,ni=!!(window.PointerEvent||Kn),_i="ontouchstart"in window||!!window.TouchEvent,Jn=!window.L_NO_TOUCH&&(_i||ni),Qn=Qe&&ne,ge=Qe&&$n,ae=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,pn=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",M,e),window.removeEventListener("testPassiveEventSupport",M,e)}catch{}return t}(),Ao=function(){return!!document.createElement("canvas").getContext}(),$i=!!(document.createElementNS&&qn("svg").createSVGRect),to=!!$i&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),mi=!$i&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&typeof e.adj=="object"}catch{return!1}}(),gi=navigator.platform.indexOf("Mac")===0,_n=navigator.platform.indexOf("Linux")===0;function ce(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var ot={ie:me,ielt9:So,edge:Vn,webkit:cn,android:xe,android23:pi,androidStock:it,opera:ne,chrome:Wn,gecko:$n,safari:Do,phantom:dn,opera12:fn,win:Ei,ie3d:Ie,webkit3d:qe,gecko3d:ii,any3d:Oo,mobile:Qe,mobileWebkit:Yn,mobileWebkit3d:Xn,msPointer:Kn,pointer:ni,touch:Jn,touchNative:_i,mobileOpera:Qn,mobileGecko:ge,retina:ae,passiveEvents:pn,canvas:Ao,svg:$i,vml:mi,inlineSvg:to,mac:gi,linux:_n},eo=ot.msPointer?"MSPointerDown":"pointerdown",io=ot.msPointer?"MSPointerMove":"pointermove",mn=ot.msPointer?"MSPointerUp":"pointerup",no=ot.msPointer?"MSPointerCancel":"pointercancel",gn={touchstart:eo,touchmove:io,touchend:mn,touchcancel:no},vn={touchstart:ro,touchmove:ti,touchend:ti,touchcancel:ti},vi={},oi=!1;function oo(t,e,n){return e==="touchstart"&&Io(),vn[e]?(n=vn[e].bind(this,n),t.addEventListener(gn[e],n,!1),n):(console.warn("wrong event specified:",e),M)}function yn(t,e,n){if(!gn[e]){console.warn("wrong event specified:",e);return}t.removeEventListener(gn[e],n,!1)}function Ln(t){vi[t.pointerId]=t}function Yi(t){vi[t.pointerId]&&(vi[t.pointerId]=t)}function wn(t){delete vi[t.pointerId]}function Io(){oi||(document.addEventListener(eo,Ln,!0),document.addEventListener(io,Yi,!0),document.addEventListener(mn,wn,!0),document.addEventListener(no,wn,!0),oi=!0)}function ti(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){e.touches=[];for(var n in vi)e.touches.push(vi[n]);e.changedTouches=[e],t(e)}}function ro(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&Wt(e),ti(t,e)}function so(t){var e={},n,l;for(l in t)n=t[l],e[l]=n&&n.bind?n.bind(t):n;return t=e,e.type="dblclick",e.detail=2,e.isTrusted=!1,e._simulated=!0,e}var ao=200;function lo(t,e){t.addEventListener("dblclick",e);var n=0,l;function d(v){if(v.detail!==1){l=v.detail;return}if(!(v.pointerType==="mouse"||v.sourceCapabilities&&!v.sourceCapabilities.firesTouchEvents)){var S=Dn(v);if(!(S.some(function(R){return R instanceof HTMLLabelElement&&R.attributes.for})&&!S.some(function(R){return R instanceof HTMLInputElement||R instanceof HTMLSelectElement}))){var I=Date.now();I-n<=ao?(l++,l===2&&e(so(v))):l=1,n=I}}}return t.addEventListener("click",d),{dblclick:e,simDblclick:d}}function zo(t,e){t.removeEventListener("dblclick",e.dblclick),t.removeEventListener("click",e.simDblclick)}var Si=Ki(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Di=Ki(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ho=Di==="webkitTransition"||Di==="OTransition"?Di+"End":"transitionend";function bn(t){return typeof t=="string"?document.getElementById(t):t}function yi(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||n==="auto")&&document.defaultView){var l=document.defaultView.getComputedStyle(t,null);n=l?l[e]:null}return n==="auto"?null:n}function kt(t,e,n){var l=document.createElement(t);return l.className=e||"",n&&n.appendChild(l),l}function Nt(t){var e=t.parentNode;e&&e.removeChild(t)}function Xt(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Ce(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function Ve(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function xn(t,e){if(t.classList!==void 0)return t.classList.contains(e);var n=ri(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function dt(t,e){if(t.classList!==void 0)for(var n=j(e),l=0,d=n.length;l<d;l++)t.classList.add(n[l]);else if(!xn(t,e)){var v=ri(t);Xi(t,(v?v+" ":"")+e)}}function Rt(t,e){t.classList!==void 0?t.classList.remove(e):Xi(t,F((" "+ri(t)+" ").replace(" "+e+" "," ")))}function Xi(t,e){t.className.baseVal===void 0?t.className=e:t.className.baseVal=e}function ri(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function de(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&Bo(t,e)}function Bo(t,e){var n=!1,l="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(l)}catch{if(e===1)return}e=Math.round(e*100),n?(n.Enabled=e!==100,n.Opacity=e):t.style.filter+=" progid:"+l+"(opacity="+e+")"}function Ki(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function Kt(t,e,n){var l=e||new nt(0,0);t.style[Si]=(ot.ie3d?"translate("+l.x+"px,"+l.y+"px)":"translate3d("+l.x+"px,"+l.y+"px,0)")+(n?" scale("+n+")":"")}function Ft(t,e){t._leaflet_pos=e,ot.any3d?Kt(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function ke(t){return t._leaflet_pos||new nt(0,0)}var Oi,Ai,We;if("onselectstart"in document)Oi=function(){ct(window,"selectstart",Wt)},Ai=function(){At(window,"selectstart",Wt)};else{var Te=Ki(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Oi=function(){if(Te){var t=document.documentElement.style;We=t[Te],t[Te]="none"}},Ai=function(){Te&&(document.documentElement.style[Te]=We,We=void 0)}}function Ii(){ct(window,"dragstart",Wt)}function Cn(){At(window,"dragstart",Wt)}var ei,Ji;function zi(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(Bi(),ei=t,Ji=t.style.outlineStyle,t.style.outlineStyle="none",ct(window,"keydown",Bi))}function Bi(){ei&&(ei.style.outlineStyle=Ji,ei=void 0,Ji=void 0,At(window,"keydown",Bi))}function kn(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function Tn(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var uo={__proto__:null,TRANSFORM:Si,TRANSITION:Di,TRANSITION_END:ho,get:bn,getStyle:yi,create:kt,remove:Nt,empty:Xt,toFront:Ce,toBack:Ve,hasClass:xn,addClass:dt,removeClass:Rt,setClass:Xi,getClass:ri,setOpacity:de,testProp:Ki,setTransform:Kt,setPosition:Ft,getPosition:ke,get disableTextSelection(){return Oi},get enableTextSelection(){return Ai},disableImageDrag:Ii,enableImageDrag:Cn,preventOutline:zi,restoreOutline:Bi,getSizedParentNode:kn,getScale:Tn};function ct(t,e,n,l){if(e&&typeof e=="object")for(var d in e)Pn(t,d,e[d],n);else{e=j(e);for(var v=0,S=e.length;v<S;v++)Pn(t,e[v],n,l)}return this}var ze="_leaflet_events";function At(t,e,n,l){if(arguments.length===1)co(t),delete t[ze];else if(e&&typeof e=="object")for(var d in e)En(t,d,e[d],n);else if(e=j(e),arguments.length===2)co(t,function(I){return It(e,I)!==-1});else for(var v=0,S=e.length;v<S;v++)En(t,e[v],n,l);return this}function co(t,e){for(var n in t[ze]){var l=n.split(/\d/)[0];(!e||e(l))&&En(t,l,null,null,n)}}var Mn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Pn(t,e,n,l){var d=e+m(n)+(l?"_"+m(l):"");if(t[ze]&&t[ze][d])return this;var v=function(I){return n.call(l||t,I||window.event)},S=v;!ot.touchNative&&ot.pointer&&e.indexOf("touch")===0?v=oo(t,e,v):ot.touch&&e==="dblclick"?v=lo(t,v):"addEventListener"in t?e==="touchstart"||e==="touchmove"||e==="wheel"||e==="mousewheel"?t.addEventListener(Mn[e]||e,v,ot.passiveEvents?{passive:!1}:!1):e==="mouseenter"||e==="mouseleave"?(v=function(I){I=I||window.event,Ri(t,I)&&S(I)},t.addEventListener(Mn[e],v,!1)):t.addEventListener(e,S,!1):t.attachEvent("on"+e,v),t[ze]=t[ze]||{},t[ze][d]=v}function En(t,e,n,l,d){d=d||e+m(n)+(l?"_"+m(l):"");var v=t[ze]&&t[ze][d];if(!v)return this;!ot.touchNative&&ot.pointer&&e.indexOf("touch")===0?yn(t,e,v):ot.touch&&e==="dblclick"?zo(t,v):"removeEventListener"in t?t.removeEventListener(Mn[e]||e,v,!1):t.detachEvent("on"+e,v),t[ze][d]=null}function si(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Sn(t){return Pn(t,"wheel",si),this}function Ni(t){return ct(t,"mousedown touchstart dblclick contextmenu",si),t._leaflet_disable_click=!0,this}function Wt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function $e(t){return Wt(t),si(t),this}function Dn(t){if(t.composedPath)return t.composedPath();for(var e=[],n=t.target;n;)e.push(n),n=n.parentNode;return e}function Qi(t,e){if(!e)return new nt(t.clientX,t.clientY);var n=Tn(e),l=n.boundingClientRect;return new nt((t.clientX-l.left)/n.x-e.clientLeft,(t.clientY-l.top)/n.y-e.clientTop)}var fo=ot.linux&&ot.chrome?window.devicePixelRatio:ot.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function On(t){return ot.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/fo:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function Ri(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch{return!1}return n!==t}var No={__proto__:null,on:ct,off:At,stopPropagation:si,disableScrollPropagation:Sn,disableClickPropagation:Ni,preventDefault:Wt,stop:$e,getPropagationPath:Dn,getMousePosition:Qi,getWheelDelta:On,isExternalTarget:Ri,addListener:ct,removeListener:At},po=Dt.extend({run:function(t,e,n,l){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(l||.5,.2),this._startPos=ke(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Ut(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=this._duration*1e3;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),Ft(this._el,n),this.fire("step")},_complete:function(){Qt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Tt=Dt.extend({options:{crs:di,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=H(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.zoom!==void 0&&(this._zoom=this._limitZoom(e.zoom)),e.center&&e.zoom!==void 0&&this.setView(Ct(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Di&&ot.any3d&&!ot.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ct(this._proxy,ho,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,n){if(e=e===void 0?this._zoom:this._limitZoom(e),t=this._limitCenter(Ct(t),e,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&n!==!0){n.animate!==void 0&&(n.zoom=a({animate:n.animate},n.zoom),n.pan=a({animate:n.animate,duration:n.duration},n.pan));var l=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan);if(l)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e,n.pan&&n.pan.noMoveStart),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(ot.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(ot.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var l=this.getZoomScale(e),d=this.getSize().divideBy(2),v=t instanceof nt?t:this.latLngToContainerPoint(t),S=v.subtract(d).multiplyBy(1-1/l),I=this.containerPointToLatLng(d.add(S));return this.setView(I,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():Ht(t);var n=rt(e.paddingTopLeft||e.padding||[0,0]),l=rt(e.paddingBottomRight||e.padding||[0,0]),d=this.getBoundsZoom(t,!1,n.add(l));if(d=typeof e.maxZoom=="number"?Math.min(e.maxZoom,d):d,d===1/0)return{center:t.getCenter(),zoom:d};var v=l.subtract(n).divideBy(2),S=this.project(t.getSouthWest(),d),I=this.project(t.getNorthEast(),d),R=this.unproject(S.add(I).divideBy(2).add(v),d);return{center:R,zoom:d}},fitBounds:function(t,e){if(t=Ht(t),!t.isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=rt(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(e.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new po,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){dt(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){if(n=n||{},n.animate===!1||!ot.any3d)return this.setView(t,e,n);this._stop();var l=this.project(this.getCenter()),d=this.project(t),v=this.getSize(),S=this._zoom;t=Ct(t),e=e===void 0?S:e;var I=Math.max(v.x,v.y),R=I*this.getZoomScale(S,e),q=d.distanceTo(l)||1,J=1.42,lt=J*J;function yt($t){var Lo=$t?-1:1,Zr=$t?R:I,Hr=R*R-I*I+Lo*lt*lt*q*q,Fr=2*Zr*lt*q,Ho=Hr/Fr,ur=Math.sqrt(Ho*Ho+1)-Ho,Gr=ur<1e-9?-18:Math.log(ur);return Gr}function fe($t){return(Math.exp($t)-Math.exp(-$t))/2}function re($t){return(Math.exp($t)+Math.exp(-$t))/2}function Ue($t){return fe($t)/re($t)}var be=yt(0);function rn($t){return I*(re(be)/re(be+J*$t))}function zr($t){return I*(re(be)*Ue(be+J*$t)-fe(be))/lt}function Br($t){return 1-Math.pow(1-$t,1.5)}var Nr=Date.now(),lr=(yt(1)-be)/J,Rr=n.duration?1e3*n.duration:1e3*lr*.8;function hr(){var $t=(Date.now()-Nr)/Rr,Lo=Br($t)*lr;$t<=1?(this._flyToFrame=Ut(hr,this),this._move(this.unproject(l.add(d.subtract(l).multiplyBy(zr(Lo)/q)),S),this.getScaleZoom(I/rn(Lo),S),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),hr.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return t=Ht(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),l=this._limitCenter(n,this._zoom,Ht(t));return n.equals(l)||this.panTo(l,e),this._enforcingBounds=!1,this},panInside:function(t,e){e=e||{};var n=rt(e.paddingTopLeft||e.padding||[0,0]),l=rt(e.paddingBottomRight||e.padding||[0,0]),d=this.project(this.getCenter()),v=this.project(t),S=this.getPixelBounds(),I=se([S.min.add(n),S.max.subtract(l)]),R=I.getSize();if(!I.contains(v)){this._enforcingBounds=!0;var q=v.subtract(I.getCenter()),J=I.extend(v).getSize().subtract(R);d.x+=q.x<0?-J.x:J.x,d.y+=q.y<0?-J.y:J.y,this.panTo(this.unproject(d),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=a({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var n=this.getSize(),l=e.divideBy(2).round(),d=n.divideBy(2).round(),v=l.subtract(d);return!v.x&&!v.y?this:(t.animate&&t.pan?this.panBy(v):(t.pan&&this._rawPanBy(v),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:n}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=a({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=s(this._handleGeolocationResponse,this),n=s(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,n,t):navigator.geolocation.getCurrentPosition(e,n,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var e=t.code,n=t.message||(e===1?"permission denied":e===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var e=t.coords.latitude,n=t.coords.longitude,l=new Ot(e,n),d=l.toBounds(t.coords.accuracy*2),v=this._locateOptions;if(v.setView){var S=this.getBoundsZoom(d);this.setView(l,v.maxZoom?Math.min(S,v.maxZoom):S)}var I={latlng:l,bounds:d,timestamp:t.timestamp};for(var R in t.coords)typeof t.coords[R]=="number"&&(I[R]=t.coords[R]);this.fire("locationfound",I)}},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Nt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Qt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)Nt(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),l=kt("div",n,e||this._mapPane);return t&&(this._panes[t]=l),l},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),n=this.unproject(t.getTopRight());return new ie(e,n)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=Ht(t),n=rt(n||[0,0]);var l=this.getZoom()||0,d=this.getMinZoom(),v=this.getMaxZoom(),S=t.getNorthWest(),I=t.getSouthEast(),R=this.getSize().subtract(n),q=se(this.project(I,l),this.project(S,l)).getSize(),J=ot.any3d?this.options.zoomSnap:1,lt=R.x/q.x,yt=R.y/q.y,fe=e?Math.max(lt,yt):Math.min(lt,yt);return l=this.getScaleZoom(fe,l),J&&(l=Math.round(l/(J/100))*(J/100),l=e?Math.ceil(l/J)*J:Math.floor(l/J)*J),Math.max(d,Math.min(v,l))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new nt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new Bt(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=e===void 0?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=e===void 0?this._zoom:e;var l=n.zoom(t*n.scale(e));return isNaN(l)?1/0:l},project:function(t,e){return e=e===void 0?this._zoom:e,this.options.crs.latLngToPoint(Ct(t),e)},unproject:function(t,e){return e=e===void 0?this._zoom:e,this.options.crs.pointToLatLng(rt(t),e)},layerPointToLatLng:function(t){var e=rt(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(Ct(t))._round();return e._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(Ct(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(Ht(t))},distance:function(t,e){return this.options.crs.distance(Ct(t),Ct(e))},containerPointToLayerPoint:function(t){return rt(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return rt(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(rt(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ct(t)))},mouseEventToContainerPoint:function(t){return Qi(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=bn(t);if(e){if(e._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ct(e,"scroll",this._onScroll,this),this._containerId=m(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&ot.any3d,dt(t,"leaflet-container"+(ot.touch?" leaflet-touch":"")+(ot.retina?" leaflet-retina":"")+(ot.ielt9?" leaflet-oldie":"")+(ot.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=yi(t,"position");e!=="absolute"&&e!=="relative"&&e!=="fixed"&&e!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ft(this._mapPane,new nt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(dt(t.markerPane,"leaflet-zoom-hide"),dt(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e,n){Ft(this._mapPane,new nt(0,0));var l=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var d=this._zoom!==e;this._moveStart(d,n)._move(t,e)._moveEnd(d),this.fire("viewreset"),l&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n,l){e===void 0&&(e=this._zoom);var d=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),l?n&&n.pinch&&this.fire("zoom",n):((d||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Qt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Ft(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[m(this._container)]=this;var e=t?At:ct;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),ot.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Qt(this._resizeRequest),this._resizeRequest=Ut(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n=[],l,d=e==="mouseout"||e==="mouseover",v=t.target||t.srcElement,S=!1;v;){if(l=this._targets[m(v)],l&&(e==="click"||e==="preclick")&&this._draggableMoved(l)){S=!0;break}if(l&&l.listens(e,!0)&&(d&&!Ri(v,t)||(n.push(l),d))||v===this._container)break;v=v.parentNode}return!n.length&&!S&&!d&&this.listens(e,!0)&&(n=[this]),n},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e=t.target||t.srcElement;if(!(!this._loaded||e._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(e))){var n=t.type;n==="mousedown"&&zi(e),this._fireDOMEvent(t,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,n){if(t.type==="click"){var l=a({},t);l.type="preclick",this._fireDOMEvent(l,l.type,n)}var d=this._findEventTargets(t,e);if(n){for(var v=[],S=0;S<n.length;S++)n[S].listens(e,!0)&&v.push(n[S]);d=v.concat(d)}if(d.length){e==="contextmenu"&&Wt(t);var I=d[0],R={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var q=I.getLatLng&&(!I._radius||I._radius<=10);R.containerPoint=q?this.latLngToContainerPoint(I.getLatLng()):this.mouseEventToContainerPoint(t),R.layerPoint=this.containerPointToLayerPoint(R.containerPoint),R.latlng=q?I.getLatLng():this.layerPointToLatLng(R.layerPoint)}for(S=0;S<d.length;S++)if(d[S].fire(e,R,!0),R.originalEvent._stopped||d[S].options.bubblingMouseEvents===!1&&It(this._mouseEvents,e)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return ke(this._mapPane)||new nt(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){var n=t&&e!==void 0?this._getNewPixelOrigin(t,e):this.getPixelOrigin();return n.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var l=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(l)},_latLngBoundsToNewLayerBounds:function(t,e,n){var l=this._getNewPixelOrigin(n,e);return se([this.project(t.getSouthWest(),e)._subtract(l),this.project(t.getNorthWest(),e)._subtract(l),this.project(t.getSouthEast(),e)._subtract(l),this.project(t.getNorthEast(),e)._subtract(l)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var l=this.project(t,e),d=this.getSize().divideBy(2),v=new Bt(l.subtract(d),l.add(d)),S=this._getBoundsOffset(v,n,e);return Math.abs(S.x)<=1&&Math.abs(S.y)<=1?t:this.unproject(l.add(S),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),l=new Bt(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(l,e))},_getBoundsOffset:function(t,e,n){var l=se(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),d=l.min.subtract(t.min),v=l.max.subtract(t.max),S=this._rebound(d.x,-v.x),I=this._rebound(d.y,-v.y);return new nt(S,I)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),l=ot.any3d?this.options.zoomSnap:1;return l&&(t=Math.round(t/l)*l),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Rt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return(e&&e.animate)!==!0&&!this.getSize().contains(n)?!1:(this.panBy(n,e),!0)},_createAnimProxy:function(){var t=this._proxy=kt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(e){var n=Si,l=this._proxy.style[n];Kt(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),l===this._proxy.style[n]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Nt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();Kt(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||n.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var l=this.getZoomScale(e),d=this._getCenterOffset(t)._divideBy(1-1/l);return n.animate!==!0&&!this.getSize().contains(d)?!1:(Ut(function(){this._moveStart(!0,n.noMoveStart||!1)._animateZoom(t,e,!0)},this),!0)},_animateZoom:function(t,e,n,l){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,dt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:l}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Rt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Zi(t,e){return new Tt(t,e)}var ve=te.extend({options:{position:"topright"},initialize:function(t){H(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),l=t._controlCorners[n];return dt(e,"leaflet-control"),n.indexOf("bottom")!==-1?l.insertBefore(e,l.firstChild):l.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Nt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),ai=function(t){return new ve(t)};Tt.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=kt("div",e+"control-container",this._container);function l(d,v){var S=e+d+" "+e+v;t[d+v]=kt("div",S,n)}l("top","left"),l("top","right"),l("bottom","left"),l("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)Nt(this._controlCorners[t]);Nt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var _o=ve.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,l){return n<l?-1:l<n?1:0}},initialize:function(t,e,n){H(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var l in t)this._addLayer(t[l],l);for(l in e)this._addLayer(e[l],l,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return ve.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(m(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){dt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(dt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):Rt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Rt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=kt("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Ni(e),Sn(e);var l=this._section=kt("section",t+"-list");n&&(this._map.on("click",this.collapse,this),ct(e,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var d=this._layersLink=kt("a",t+"-toggle",e);d.href="#",d.title="Layers",d.setAttribute("role","button"),ct(d,{keydown:function(v){v.keyCode===13&&this._expandSafely()},click:function(v){Wt(v),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=kt("div",t+"-base",l),this._separator=kt("div",t+"-separator",l),this._overlaysList=kt("div",t+"-overlays",l),e.appendChild(l)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&m(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(s(function(l,d){return this.options.sortFunction(l.layer,d.layer,l.name,d.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Xt(this._baseLayersList),Xt(this._overlaysList),this._layerControlInputs=[];var t,e,n,l,d=0;for(n=0;n<this._layers.length;n++)l=this._layers[n],this._addItem(l),e=e||l.overlay,t=t||!l.overlay,d+=l.overlay?0:1;return this.options.hideSingleBase&&(t=t&&d>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(m(t.target)),n=e.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",l=document.createElement("div");return l.innerHTML=n,l.firstChild},_addItem:function(t){var e=document.createElement("label"),n=this._map.hasLayer(t.layer),l;t.overlay?(l=document.createElement("input"),l.type="checkbox",l.className="leaflet-control-layers-selector",l.defaultChecked=n):l=this._createRadioElement("leaflet-base-layers_"+m(this),n),this._layerControlInputs.push(l),l.layerId=m(t.layer),ct(l,"click",this._onInputClick,this);var d=document.createElement("span");d.innerHTML=" "+t.name;var v=document.createElement("span");e.appendChild(v),v.appendChild(l),v.appendChild(d);var S=t.overlay?this._overlaysList:this._baseLayersList;return S.appendChild(e),this._checkDisabledLayers(),e},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,e,n,l=[],d=[];this._handlingClick=!0;for(var v=t.length-1;v>=0;v--)e=t[v],n=this._getLayer(e.layerId).layer,e.checked?l.push(n):e.checked||d.push(n);for(v=0;v<d.length;v++)this._map.hasLayer(d[v])&&this._map.removeLayer(d[v]);for(v=0;v<l.length;v++)this._map.hasLayer(l[v])||this._map.addLayer(l[v]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,e,n,l=this._map.getZoom(),d=t.length-1;d>=0;d--)e=t[d],n=this._getLayer(e.layerId).layer,e.disabled=n.options.minZoom!==void 0&&l<n.options.minZoom||n.options.maxZoom!==void 0&&l>n.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,ct(t,"click",Wt),this.expand();var e=this;setTimeout(function(){At(t,"click",Wt),e._preventClick=!1})}}),Ro=function(t,e,n){return new _o(t,e,n)},An=ve.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=kt("div",e+" leaflet-bar"),l=this.options;return this._zoomInButton=this._createButton(l.zoomInText,l.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(l.zoomOutText,l.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,l,d){var v=kt("a",n,l);return v.innerHTML=t,v.href="#",v.title=e,v.setAttribute("role","button"),v.setAttribute("aria-label",e),Ni(v),ct(v,"click",$e),ct(v,"click",d,this),ct(v,"click",this._refocusOnMap,this),v},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";Rt(this._zoomInButton,e),Rt(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(dt(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(dt(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}});Tt.mergeOptions({zoomControl:!0}),Tt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new An,this.addControl(this.zoomControl))});var i=function(t){return new An(t)},r=ve.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",n=kt("div",e),l=this.options;return this._addScales(l,e+"-line",n),t.on(l.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=kt("div",e,n)),t.imperial&&(this._iScale=kt("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e=t*3.2808399,n,l,d;e>5280?(n=e/5280,l=this._getRoundNum(n),this._updateScale(this._iScale,l+" mi",l/n)):(d=this._getRoundNum(e),this._updateScale(this._iScale,d+" ft",d/e))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,e*n}}),h=function(t){return new r(t)},u='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',p=ve.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ot.inlineSvg?u+" ":"")+"Leaflet</a>"},initialize:function(t){H(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=kt("div","leaflet-control-attribution"),Ni(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});Tt.mergeOptions({attributionControl:!0}),Tt.addInitHook(function(){this.options.attributionControl&&new p().addTo(this)});var _=function(t){return new p(t)};ve.Layers=_o,ve.Zoom=An,ve.Scale=r,ve.Attribution=p,ai.layers=Ro,ai.zoom=i,ai.scale=h,ai.attribution=_;var g=te.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});g.addTo=function(t,e){return t.addHandler(e,this),this};var E={Events:Mt},T=ot.touch?"touchstart mousedown":"mousedown",O=Dt.extend({options:{clickTolerance:3},initialize:function(t,e,n,l){H(this,l),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(ct(this._dragStartTarget,T,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(O._dragging===this&&this.finishDrag(!0),At(this._dragStartTarget,T,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!xn(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){O._dragging===this&&this.finishDrag();return}if(!(O._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(O._dragging=this,this._preventOutline&&zi(this._element),Ii(),Oi(),!this._moving)){this.fire("down");var e=t.touches?t.touches[0]:t,n=kn(this._element);this._startPoint=new nt(e.clientX,e.clientY),this._startPos=ke(this._element),this._parentScale=Tn(n);var l=t.type==="mousedown";ct(document,l?"mousemove":"touchmove",this._onMove,this),ct(document,l?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var e=t.touches&&t.touches.length===1?t.touches[0]:t,n=new nt(e.clientX,e.clientY)._subtract(this._startPoint);!n.x&&!n.y||Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Wt(t),this._moved||(this.fire("dragstart"),this._moved=!0,dt(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),dt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Ft(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){Rt(document.body,"leaflet-dragging"),this._lastTarget&&(Rt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),At(document,"mousemove touchmove",this._onMove,this),At(document,"mouseup touchend touchcancel",this._onUp,this),Cn(),Ai();var e=this._moved&&this._moving;this._moving=!1,O._dragging=!1,e&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function Z(t,e,n){var l,d=[1,4,2,8],v,S,I,R,q,J,lt,yt;for(v=0,J=t.length;v<J;v++)t[v]._code=pt(t[v],e);for(I=0;I<4;I++){for(lt=d[I],l=[],v=0,J=t.length,S=J-1;v<J;S=v++)R=t[v],q=t[S],R._code&lt?q._code&lt||(yt=Ne(q,R,lt,e,n),yt._code=pt(yt,e),l.push(yt)):(q._code&lt&&(yt=Ne(q,R,lt,e,n),yt._code=pt(yt,e),l.push(yt)),l.push(R));t=l}return t}function U(t,e){var n,l,d,v,S,I,R,q,J;if(!t||t.length===0)throw new Error("latlngs not passed");le(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var lt=Ct([0,0]),yt=Ht(t),fe=yt.getNorthWest().distanceTo(yt.getSouthWest())*yt.getNorthEast().distanceTo(yt.getNorthWest());fe<1700&&(lt=z(t));var re=t.length,Ue=[];for(n=0;n<re;n++){var be=Ct(t[n]);Ue.push(e.project(Ct([be.lat-lt.lat,be.lng-lt.lng])))}for(I=R=q=0,n=0,l=re-1;n<re;l=n++)d=Ue[n],v=Ue[l],S=d.y*v.x-v.y*d.x,R+=(d.x+v.x)*S,q+=(d.y+v.y)*S,I+=S*3;I===0?J=Ue[0]:J=[R/I,q/I];var rn=e.unproject(rt(J));return Ct([rn.lat+lt.lat,rn.lng+lt.lng])}function z(t){for(var e=0,n=0,l=0,d=0;d<t.length;d++){var v=Ct(t[d]);e+=v.lat,n+=v.lng,l++}return Ct([e/l,n/l])}var W={__proto__:null,clipPolygon:Z,polygonCenter:U,centroid:z};function at(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=Be(t,n),t=Jt(t,n),t}function Lt(t,e,n){return Math.sqrt(Ye(t,e,n,!0))}function ft(t,e,n){return Ye(t,e,n)}function Jt(t,e){var n=t.length,l=typeof Uint8Array<"u"?Uint8Array:Array,d=new l(n);d[0]=d[n-1]=1,Gt(t,d,e,0,n-1);var v,S=[];for(v=0;v<n;v++)d[v]&&S.push(t[v]);return S}function Gt(t,e,n,l,d){var v=0,S,I,R;for(I=l+1;I<=d-1;I++)R=Ye(t[I],t[l],t[d],!0),R>v&&(S=I,v=R);v>n&&(e[S]=1,Gt(t,e,n,l,S),Gt(t,e,n,S,d))}function Be(t,e){for(var n=[t[0]],l=1,d=0,v=t.length;l<v;l++)Zt(t[l],t[d])>e&&(n.push(t[l]),d=l);return d<v-1&&n.push(t[v-1]),n}var Me;function mt(t,e,n,l,d){var v=l?Me:pt(t,n),S=pt(e,n),I,R,q;for(Me=S;;){if(!(v|S))return[t,e];if(v&S)return!1;I=v||S,R=Ne(t,e,I,n,d),q=pt(R,n),I===v?(t=R,v=q):(e=R,S=q)}}function Ne(t,e,n,l,d){var v=e.x-t.x,S=e.y-t.y,I=l.min,R=l.max,q,J;return n&8?(q=t.x+v*(R.y-t.y)/S,J=R.y):n&4?(q=t.x+v*(I.y-t.y)/S,J=I.y):n&2?(q=R.x,J=t.y+S*(R.x-t.x)/v):n&1&&(q=I.x,J=t.y+S*(I.x-t.x)/v),new nt(q,J,d)}function pt(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function Zt(t,e){var n=e.x-t.x,l=e.y-t.y;return n*n+l*l}function Ye(t,e,n,l){var d=e.x,v=e.y,S=n.x-d,I=n.y-v,R=S*S+I*I,q;return R>0&&(q=((t.x-d)*S+(t.y-v)*I)/R,q>1?(d=n.x,v=n.y):q>0&&(d+=S*q,v+=I*q)),S=t.x-d,I=t.y-v,l?S*S+I*I:new nt(d,v)}function le(t){return!bt(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function Pe(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),le(t)}function Li(t,e){var n,l,d,v,S,I,R,q;if(!t||t.length===0)throw new Error("latlngs not passed");le(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var J=Ct([0,0]),lt=Ht(t),yt=lt.getNorthWest().distanceTo(lt.getSouthWest())*lt.getNorthEast().distanceTo(lt.getNorthWest());yt<1700&&(J=z(t));var fe=t.length,re=[];for(n=0;n<fe;n++){var Ue=Ct(t[n]);re.push(e.project(Ct([Ue.lat-J.lat,Ue.lng-J.lng])))}for(n=0,l=0;n<fe-1;n++)l+=re[n].distanceTo(re[n+1])/2;if(l===0)q=re[0];else for(n=0,v=0;n<fe-1;n++)if(S=re[n],I=re[n+1],d=S.distanceTo(I),v+=d,v>l){R=(v-l)/d,q=[I.x-R*(I.x-S.x),I.y-R*(I.y-S.y)];break}var be=e.unproject(rt(q));return Ct([be.lat+J.lat,be.lng+J.lng])}var Re={__proto__:null,simplify:at,pointToSegmentDistance:Lt,closestPointOnSegment:ft,clipSegment:mt,_getEdgeIntersection:Ne,_getBitCode:pt,_sqClosestPointOnSegment:Ye,isFlat:le,_flat:Pe,polylineCenter:Li},Ze={project:function(t){return new nt(t.lng,t.lat)},unproject:function(t){return new Ot(t.y,t.x)},bounds:new Bt([-180,-90],[180,90])},He={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Bt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var e=Math.PI/180,n=this.R,l=t.lat*e,d=this.R_MINOR/n,v=Math.sqrt(1-d*d),S=v*Math.sin(l),I=Math.tan(Math.PI/4-l/2)/Math.pow((1-S)/(1+S),v/2);return l=-n*Math.log(Math.max(I,1e-10)),new nt(t.lng*e*n,l)},unproject:function(t){for(var e=180/Math.PI,n=this.R,l=this.R_MINOR/n,d=Math.sqrt(1-l*l),v=Math.exp(-t.y/n),S=Math.PI/2-2*Math.atan(v),I=0,R=.1,q;I<15&&Math.abs(R)>1e-7;I++)q=d*Math.sin(S),q=Math.pow((1-q)/(1+q),d/2),R=Math.PI/2-2*Math.atan(v*q)-S,S+=R;return new Ot(S*e,t.x*e/n)}},ye={__proto__:null,LonLat:Ze,Mercator:He,SphericalMercator:_e},In=a({},Je,{code:"EPSG:3395",projection:He,transformation:function(){var t=.5/(Math.PI*He.R);return Ae(t,.5,-t,.5)}()}),Fe=a({},Je,{code:"EPSG:4326",projection:Ze,transformation:Ae(1/180,1,-1/180,.5)}),Xe=a({},je,{projection:Ze,transformation:Ae(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,l=e.lat-t.lat;return Math.sqrt(n*n+l*l)},infinite:!0});je.Earth=Je,je.EPSG3395=In,je.EPSG3857=di,je.EPSG900913=jn,je.EPSG4326=Fe,je.Simple=Xe;var Ee=Dt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[m(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[m(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",function(){e.off(n,this)},this)}this.onAdd(e),this.fire("add"),e.fire("layeradd",{layer:this})}}});Tt.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=m(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=m(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return m(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){t=t?bt(t)?t:[t]:[];for(var e=0,n=t.length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[m(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=m(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var l in this._zoomBoundLayers){var d=this._zoomBoundLayers[l].options;t=d.minZoom===void 0?t:Math.min(t,d.minZoom),e=d.maxZoom===void 0?e:Math.max(e,d.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var wi=Ee.extend({initialize:function(t,e){H(this,e),this._layers={};var n,l;if(t)for(n=0,l=t.length;n<l;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){var e=typeof t=="number"?t:this.getLayerId(t);return e in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e=Array.prototype.slice.call(arguments,1),n,l;for(n in this._layers)l=this._layers[n],l[t]&&l[t].apply(l,e);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return m(t)}}),Zo=function(t,e){return new wi(t,e)},gt=wi.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),wi.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),wi.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new ie;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),tn=function(t,e){return new gt(t,e)},oe=te.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){H(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var l=this._createImg(n,e&&e.tagName==="IMG"?e:null);return this._setIconStyles(l,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),l},_setIconStyles:function(t,e){var n=this.options,l=n[e+"Size"];typeof l=="number"&&(l=[l,l]);var d=rt(l),v=rt(e==="shadow"&&n.shadowAnchor||n.iconAnchor||d&&d.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),v&&(t.style.marginLeft=-v.x+"px",t.style.marginTop=-v.y+"px"),d&&(t.style.width=d.x+"px",t.style.height=d.y+"px")},_createImg:function(t,e){return e=e||document.createElement("img"),e.src=t,e},_getIconUrl:function(t){return ot.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function bi(t){return new oe(t)}var Hi=oe.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof Hi.imagePath!="string"&&(Hi.imagePath=this._detectIconPath()),(this.options.imagePath||Hi.imagePath)+oe.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var e=function(n,l,d){var v=l.exec(n);return v&&v[d]};return t=e(t,/^url\((['"])?(.+)\1\)$/,2),t&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=kt("div","leaflet-default-icon-path",document.body),e=yi(t,"background-image")||yi(t,"backgroundImage");if(document.body.removeChild(t),e=this._stripUrl(e),e)return e;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-11-1):""}}),mo=g.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new O(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),dt(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Rt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,l=this._marker.options.autoPanSpeed,d=this._marker.options.autoPanPadding,v=ke(e._icon),S=n.getPixelBounds(),I=n.getPixelOrigin(),R=se(S.min._subtract(I).add(d),S.max._subtract(I).subtract(d));if(!R.contains(v)){var q=rt((Math.max(R.max.x,v.x)-R.max.x)/(S.max.x-R.max.x)-(Math.min(R.min.x,v.x)-R.min.x)/(S.min.x-R.min.x),(Math.max(R.max.y,v.y)-R.max.y)/(S.max.y-R.max.y)-(Math.min(R.min.y,v.y)-R.min.y)/(S.min.y-R.min.y)).multiplyBy(l);n.panBy(q,{animate:!1}),this._draggable._newPos._add(q),this._draggable._startPos._add(q),Ft(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=Ut(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(Qt(this._panRequest),this._panRequest=Ut(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,l=ke(e._icon),d=e._map.layerPointToLatLng(l);n&&Ft(n,l),e._latlng=d,t.latlng=d,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){Qt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Fi=Ee.extend({options:{icon:new Hi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){H(this,e),this._latlng=Ct(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=Ct(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),l=!1;n!==this._icon&&(this._icon&&this._removeIcon(),l=!0,t.title&&(n.title=t.title),n.tagName==="IMG"&&(n.alt=t.alt||"")),dt(n,e),t.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ct(n,"focus",this._panOnFocus,this);var d=t.icon.createShadow(this._shadow),v=!1;d!==this._shadow&&(this._removeShadow(),v=!0),d&&(dt(d,e),d.alt=""),this._shadow=d,t.opacity<1&&this._updateOpacity(),l&&this.getPane().appendChild(this._icon),this._initInteraction(),d&&v&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&At(this._icon,"focus",this._panOnFocus,this),Nt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Nt(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Ft(this._icon,t),this._shadow&&Ft(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(dt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),mo)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new mo(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&de(this._icon,t),this._shadow&&de(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var e=this.options.icon.options,n=e.iconSize?rt(e.iconSize):rt(0,0),l=e.iconAnchor?rt(e.iconAnchor):rt(0,0);t.panInside(this._latlng,{paddingTopLeft:l,paddingBottomRight:n.subtract(l)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function li(t,e){return new Fi(t,e)}var Ge=Ee.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return H(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Se=Ge.extend({options:{fill:!0,radius:10},initialize:function(t,e){H(this,e),this._latlng=Ct(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=Ct(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return Ge.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),l=[t+n,e+n];this._pxBounds=new Bt(this._point.subtract(l),this._point.add(l))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function go(t,e){return new Se(t,e)}var hi=Se.extend({initialize:function(t,e,n){if(typeof e=="number"&&(e=a({},n,{radius:e})),H(this,e),this._latlng=Ct(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new ie(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Ge.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,l=n.options.crs;if(l.distance===Je.distance){var d=Math.PI/180,v=this._mRadius/Je.R/d,S=n.project([e+v,t]),I=n.project([e-v,t]),R=S.add(I).divideBy(2),q=n.unproject(R).lat,J=Math.acos((Math.cos(v*d)-Math.sin(e*d)*Math.sin(q*d))/(Math.cos(e*d)*Math.cos(q*d)))/d;(isNaN(J)||J===0)&&(J=v/Math.cos(Math.PI/180*e)),this._point=R.subtract(n.getPixelOrigin()),this._radius=isNaN(J)?0:R.x-n.project([q,t-J]).x,this._radiusY=R.y-S.y}else{var lt=l.unproject(l.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(lt).x}this._updateBounds()}});function en(t,e,n){return new hi(t,e,n)}var Le=Ge.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){H(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e=1/0,n=null,l=Ye,d,v,S=0,I=this._parts.length;S<I;S++)for(var R=this._parts[S],q=1,J=R.length;q<J;q++){d=R[q-1],v=R[q];var lt=l(t,d,v,!0);lt<e&&(e=lt,n=l(t,d,v))}return n&&(n.distance=Math.sqrt(e)),n},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Li(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=Ct(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new ie,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return le(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=le(t),l=0,d=t.length;l<d;l++)n?(e[l]=Ct(t[l]),this._bounds.extend(e[l])):e[l]=this._convertLatLngs(t[l]);return e},_project:function(){var t=new Bt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new nt(t,t);this._rawPxBounds&&(this._pxBounds=new Bt([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)]))},_projectLatlngs:function(t,e,n){var l=t[0]instanceof Ot,d=t.length,v,S;if(l){for(S=[],v=0;v<d;v++)S[v]=this._map.latLngToLayerPoint(t[v]),n.extend(S[v]);e.push(S)}else for(v=0;v<d;v++)this._projectLatlngs(t[v],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var e=this._parts,n,l,d,v,S,I,R;for(n=0,d=0,v=this._rings.length;n<v;n++)for(R=this._rings[n],l=0,S=R.length;l<S-1;l++)I=mt(R[l],R[l+1],t,l,!0),I&&(e[d]=e[d]||[],e[d].push(I[0]),(I[1]!==R[l+1]||l===S-2)&&(e[d].push(I[1]),d++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,l=t.length;n<l;n++)t[n]=at(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,l,d,v,S,I,R=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,v=this._parts.length;n<v;n++)for(I=this._parts[n],l=0,S=I.length,d=S-1;l<S;d=l++)if(!(!e&&l===0)&&Lt(t,I[d],I[l])<=R)return!0;return!1}});function zn(t,e){return new Le(t,e)}Le._flat=Pe;var xi=Le.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return U(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var e=Le.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof Ot&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){Le.prototype._setLatLngs.call(this,t),le(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return le(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new nt(e,e);if(t=new Bt(t.min.subtract(n),t.max.add(n)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var l=0,d=this._rings.length,v;l<d;l++)v=Z(this._rings[l],t,!0),v.length&&this._parts.push(v)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e=!1,n,l,d,v,S,I,R,q;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(v=0,R=this._parts.length;v<R;v++)for(n=this._parts[v],S=0,q=n.length,I=q-1;S<q;I=S++)l=n[S],d=n[I],l.y>t.y!=d.y>t.y&&t.x<(d.x-l.x)*(t.y-l.y)/(d.y-l.y)+l.x&&(e=!e);return e||Le.prototype._containsPoint.call(this,t,!0)}});function nn(t,e){return new xi(t,e)}var De=gt.extend({initialize:function(t,e){H(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e=bt(t)?t:t.features,n,l,d;if(e){for(n=0,l=e.length;n<l;n++)d=e[n],(d.geometries||d.geometry||d.features||d.coordinates)&&this.addData(d);return this}var v=this.options;if(v.filter&&!v.filter(t))return this;var S=Ci(t,v);return S?(S.feature=N(t),S.defaultOptions=S.options,this.resetStyle(S),v.onEachFeature&&v.onEachFeature(t,S),this.addLayer(S)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=a({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){t.setStyle&&(typeof e=="function"&&(e=e(t.feature)),t.setStyle(e))}});function Ci(t,e){var n=t.type==="Feature"?t.geometry:t,l=n?n.coordinates:null,d=[],v=e&&e.pointToLayer,S=e&&e.coordsToLatLng||Gi,I,R,q,J;if(!l&&!n)return null;switch(n.type){case"Point":return I=S(l),vo(v,t,I,e);case"MultiPoint":for(q=0,J=l.length;q<J;q++)I=S(l[q]),d.push(vo(v,t,I,e));return new gt(d);case"LineString":case"MultiLineString":return R=Ui(l,n.type==="LineString"?0:1,S),new Le(R,e);case"Polygon":case"MultiPolygon":return R=Ui(l,n.type==="Polygon"?1:2,S),new xi(R,e);case"GeometryCollection":for(q=0,J=n.geometries.length;q<J;q++){var lt=Ci({geometry:n.geometries[q],type:"Feature",properties:t.properties},e);lt&&d.push(lt)}return new gt(d);case"FeatureCollection":for(q=0,J=n.features.length;q<J;q++){var yt=Ci(n.features[q],e);yt&&d.push(yt)}return new gt(d);default:throw new Error("Invalid GeoJSON object.")}}function vo(t,e,n,l){return t?t(e,n):new Fi(n,l&&l.markersInheritOptions&&l)}function Gi(t){return new Ot(t[1],t[0],t[2])}function Ui(t,e,n){for(var l=[],d=0,v=t.length,S;d<v;d++)S=e?Ui(t[d],e-1,n):(n||Gi)(t[d]),l.push(S);return l}function b(t,e){return t=Ct(t),t.alt!==void 0?[B(t.lng,e),B(t.lat,e),B(t.alt,e)]:[B(t.lng,e),B(t.lat,e)]}function D(t,e,n,l){for(var d=[],v=0,S=t.length;v<S;v++)d.push(e?D(t[v],le(t[v])?0:e-1,n,l):b(t[v],l));return!e&&n&&d.length>0&&d.push(d[0].slice()),d}function A(t,e){return t.feature?a({},t.feature,{geometry:e}):N(e)}function N(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var G={toGeoJSON:function(t){return A(this,{type:"Point",coordinates:b(this.getLatLng(),t)})}};Fi.include(G),hi.include(G),Se.include(G),Le.include({toGeoJSON:function(t){var e=!le(this._latlngs),n=D(this._latlngs,e?1:0,!1,t);return A(this,{type:(e?"Multi":"")+"LineString",coordinates:n})}}),xi.include({toGeoJSON:function(t){var e=!le(this._latlngs),n=e&&!le(this._latlngs[0]),l=D(this._latlngs,n?2:e?1:0,!0,t);return e||(l=[l]),A(this,{type:(n?"Multi":"")+"Polygon",coordinates:l})}}),wi.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(n){e.push(n.toGeoJSON(t).geometry.coordinates)}),A(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(e==="MultiPoint")return this.toMultiPoint(t);var n=e==="GeometryCollection",l=[];return this.eachLayer(function(d){if(d.toGeoJSON){var v=d.toGeoJSON(t);if(n)l.push(v.geometry);else{var S=N(v);S.type==="FeatureCollection"?l.push.apply(l,S.features):l.push(S)}}}),n?A(this,{geometries:l,type:"GeometryCollection"}):{type:"FeatureCollection",features:l}}});function Y(t,e){return new De(t,e)}var X=Y,tt=Ee.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=Ht(e),H(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(dt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Nt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Ce(this._image),this},bringToBack:function(){return this._map&&Ve(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=Ht(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",e=this._image=t?this._url:kt("img");if(dt(e,"leaflet-image-layer"),this._zoomAnimated&&dt(e,"leaflet-zoom-animated"),this.options.className&&dt(e,this.options.className),e.onselectstart=M,e.onmousemove=M,e.onload=s(this.fire,this,"load"),e.onerror=s(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(e.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=e.src;return}e.src=this._url,e.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Kt(this._image,n,e)},_reset:function(){var t=this._image,e=new Bt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();Ft(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){de(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),K=function(t,e,n){return new tt(t,e,n)},_t=tt.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",e=this._image=t?this._url:kt("video");if(dt(e,"leaflet-image-layer"),this._zoomAnimated&&dt(e,"leaflet-zoom-animated"),this.options.className&&dt(e,this.options.className),e.onselectstart=M,e.onmousemove=M,e.onloadeddata=s(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),l=[],d=0;d<n.length;d++)l.push(n[d].src);this._url=n.length>0?l:[e.src];return}bt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var v=0;v<this._url.length;v++){var S=kt("source");S.src=this._url[v],e.appendChild(S)}}});function st(t,e,n){return new _t(t,e,n)}var ht=tt.extend({_initImage:function(){var t=this._image=this._url;dt(t,"leaflet-image-layer"),this._zoomAnimated&&dt(t,"leaflet-zoom-animated"),this.options.className&&dt(t,this.options.className),t.onselectstart=M,t.onmousemove=M}});function vt(t,e,n){return new ht(t,e,n)}var et=Ee.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,e){t&&(t instanceof Ot||bt(t))?(this._latlng=Ct(t),H(this,e)):(H(this,t),this._source=e),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&de(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&de(this._container,1),this.bringToFront(),this.options.interactive&&(dt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(de(this._container,0),this._removeTimeout=setTimeout(s(Nt,void 0,this._container),200)):Nt(this._container),this.options.interactive&&(Rt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=Ct(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ce(this._container),this},bringToBack:function(){return this._map&&Ve(this._container),this},_prepareOpen:function(t){var e=this._source;if(!e._map)return!1;if(e instanceof gt){e=null;var n=this._source._layers;for(var l in n)if(n[l]._map){e=n[l];break}if(!e)return!1;this._source=e}if(!t)if(e.getCenter)t=e.getCenter();else if(e.getLatLng)t=e.getLatLng();else if(e.getBounds)t=e.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,e=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof e=="string")t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=rt(this.options.offset),n=this._getAnchor();this._zoomAnimated?Ft(this._container,t.add(n)):e=e.add(t).add(n);var l=this._containerBottom=-e.y,d=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=l+"px",this._container.style.left=d+"px"}},_getAnchor:function(){return[0,0]}});Tt.include({_initOverlay:function(t,e,n,l){var d=e;return d instanceof t||(d=new t(l).setContent(e)),n&&d.setLatLng(n),d}}),Ee.include({_initOverlay:function(t,e,n,l){var d=n;return d instanceof t?(H(d,l),d._source=this):(d=e&&!l?e:new t(l,this),d.setContent(n)),d}});var St=et.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,et.prototype.openOn.call(this,t)},onAdd:function(t){et.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ge||this._source.on("preclick",si))},onRemove:function(t){et.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ge||this._source.off("preclick",si))},getEvents:function(){var t=et.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=kt("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=kt("div",t+"-content-wrapper",e);if(this._contentNode=kt("div",t+"-content",n),Ni(e),Sn(this._contentNode),ct(e,"contextmenu",si),this._tipContainer=kt("div",t+"-tip-container",e),this._tip=kt("div",t+"-tip",this._tipContainer),this.options.closeButton){var l=this._closeButton=kt("a",t+"-close-button",e);l.setAttribute("role","button"),l.setAttribute("aria-label","Close popup"),l.href="#close",l.innerHTML='<span aria-hidden="true">&#215;</span>',ct(l,"click",function(d){Wt(d),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var l=t.offsetHeight,d=this.options.maxHeight,v="leaflet-popup-scrolled";d&&l>d?(e.height=d+"px",dt(t,v)):Rt(t,v),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();Ft(this._container,e.add(n))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,e=parseInt(yi(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,l=this._containerWidth,d=new nt(this._containerLeft,-n-this._containerBottom);d._add(ke(this._container));var v=t.layerPointToContainerPoint(d),S=rt(this.options.autoPanPadding),I=rt(this.options.autoPanPaddingTopLeft||S),R=rt(this.options.autoPanPaddingBottomRight||S),q=t.getSize(),J=0,lt=0;v.x+l+R.x>q.x&&(J=v.x+l-q.x+R.x),v.x-J-I.x<0&&(J=v.x-I.x),v.y+n+R.y>q.y&&(lt=v.y+n-q.y+R.y),v.y-lt-I.y<0&&(lt=v.y-I.y),(J||lt)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([J,lt]))}},_getAnchor:function(){return rt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),he=function(t,e){return new St(t,e)};Tt.mergeOptions({closePopupOnClick:!0}),Tt.include({openPopup:function(t,e,n){return this._initOverlay(St,t,e,n).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),Ee.include({bindPopup:function(t,e){return this._popup=this._initOverlay(St,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof gt||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){$e(t);var e=t.layer||t.target;if(this._popup._source===e&&!(e instanceof Ge)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=e,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var jt=et.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){et.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){et.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=et.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",e=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=kt("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+m(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,n,l=this._map,d=this._container,v=l.latLngToContainerPoint(l.getCenter()),S=l.layerPointToContainerPoint(t),I=this.options.direction,R=d.offsetWidth,q=d.offsetHeight,J=rt(this.options.offset),lt=this._getAnchor();I==="top"?(e=R/2,n=q):I==="bottom"?(e=R/2,n=0):I==="center"?(e=R/2,n=q/2):I==="right"?(e=0,n=q/2):I==="left"?(e=R,n=q/2):S.x<v.x?(I="right",e=0,n=q/2):(I="left",e=R+(J.x+lt.x)*2,n=q/2),t=t.subtract(rt(e,n,!0)).add(J).add(lt),Rt(d,"leaflet-tooltip-right"),Rt(d,"leaflet-tooltip-left"),Rt(d,"leaflet-tooltip-top"),Rt(d,"leaflet-tooltip-bottom"),dt(d,"leaflet-tooltip-"+I),Ft(d,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&de(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return rt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),we=function(t,e){return new jt(t,e)};Tt.include({openTooltip:function(t,e,n){return this._initOverlay(jt,t,e,n).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Ee.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(jt,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof gt||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var e=typeof t.getElement=="function"&&t.getElement();e&&(ct(e,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),ct(e,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var e=typeof t.getElement=="function"&&t.getElement();e&&e.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var e=this;this._map.once("moveend",function(){e._openOnceFlag=!1,e._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var e=t.latlng,n,l;this._tooltip.options.sticky&&t.originalEvent&&(n=this._map.mouseEventToContainerPoint(t.originalEvent),l=this._map.containerPointToLayerPoint(n),e=this._map.layerPointToLatLng(l)),this._tooltip.setLatLng(e)}});var Oe=oe.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&t.tagName==="DIV"?t:document.createElement("div"),n=this.options;if(n.html instanceof Element?(Xt(e),e.appendChild(n.html)):e.innerHTML=n.html!==!1?n.html:"",n.bgPos){var l=rt(n.bgPos);e.style.backgroundPosition=-l.x+"px "+-l.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});function ki(t){return new Oe(t)}oe.Default=Hi;var qt=Ee.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ot.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){H(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),Nt(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ce(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ve(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=x(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof nt?t:new nt(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e=this.getPane().children,n=-t(-1/0,1/0),l=0,d=e.length,v;l<d;l++)v=e[l].style.zIndex,e[l]!==this._container&&v&&(n=t(n,+v));isFinite(n)&&(this.options.zIndex=n+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ot.ielt9){de(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var l in this._tiles){var d=this._tiles[l];if(!(!d.current||!d.loaded)){var v=Math.min(1,(t-d.loaded)/200);de(d.el,v),v<1?e=!0:(d.active?n=!0:this._onOpaqueTile(d),d.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(Qt(this._fadeFrame),this._fadeFrame=Ut(this._updateOpacity,this))}},_onOpaqueTile:M,_initContainer:function(){this._container||(this._container=kt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(t!==void 0){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(Nt(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var l=this._levels[t],d=this._map;return l||(l=this._levels[t]={},l.el=kt("div","leaflet-tile-container leaflet-zoom-animated",this._container),l.el.style.zIndex=e,l.origin=d.project(d.unproject(d.getPixelOrigin()),t).round(),l.zoom=t,this._setZoomTransform(l,d.getCenter(),d.getZoom()),M(l.el.offsetWidth),this._onCreateLevel(l)),this._level=l,l}},_onUpdateLevel:M,_onRemoveLevel:M,_onCreateLevel:M,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)e=this._tiles[t],e.retain=e.current;for(t in this._tiles)if(e=this._tiles[t],e.current&&!e.active){var l=e.coords;this._retainParent(l.x,l.y,l.z,l.z-5)||this._retainChildren(l.x,l.y,l.z,l.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)Nt(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,l){var d=Math.floor(t/2),v=Math.floor(e/2),S=n-1,I=new nt(+d,+v);I.z=+S;var R=this._tileCoordsToKey(I),q=this._tiles[R];return q&&q.active?(q.retain=!0,!0):(q&&q.loaded&&(q.retain=!0),S>l?this._retainParent(d,v,S,l):!1)},_retainChildren:function(t,e,n,l){for(var d=2*t;d<2*t+2;d++)for(var v=2*e;v<2*e+2;v++){var S=new nt(d,v);S.z=n+1;var I=this._tileCoordsToKey(S),R=this._tiles[I];if(R&&R.active){R.retain=!0;continue}else R&&R.loaded&&(R.retain=!0);n+1<l&&this._retainChildren(d,v,n+1,l)}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return e.minNativeZoom!==void 0&&t<e.minNativeZoom?e.minNativeZoom:e.maxNativeZoom!==void 0&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,l){var d=Math.round(e);this.options.maxZoom!==void 0&&d>this.options.maxZoom||this.options.minZoom!==void 0&&d<this.options.minZoom?d=void 0:d=this._clampZoom(d);var v=this.options.updateWhenZooming&&d!==this._tileZoom;(!l||v)&&(this._tileZoom=d,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),d!==void 0&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var l=this._map.getZoomScale(n,t.zoom),d=t.origin.multiplyBy(l).subtract(this._map._getNewPixelOrigin(e,n)).round();ot.any3d?Kt(t.el,d,l):Ft(t.el,d)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),l=this._tileZoom,d=this._map.getPixelWorldBounds(this._tileZoom);d&&(this._globalTileRange=this._pxBoundsToTileRange(d)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],l).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],l).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],l).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],l).y/n.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),l=e.getZoomScale(n,this._tileZoom),d=e.project(t,this._tileZoom).floor(),v=e.getSize().divideBy(l*2);return new Bt(d.subtract(v),d.add(v))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(t===void 0&&(t=e.getCenter()),this._tileZoom!==void 0){var l=this._getTiledPixelBounds(t),d=this._pxBoundsToTileRange(l),v=d.getCenter(),S=[],I=this.options.keepBuffer,R=new Bt(d.getBottomLeft().subtract([I,-I]),d.getTopRight().add([I,-I]));if(!(isFinite(d.min.x)&&isFinite(d.min.y)&&isFinite(d.max.x)&&isFinite(d.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var q in this._tiles){var J=this._tiles[q].coords;(J.z!==this._tileZoom||!R.contains(new nt(J.x,J.y)))&&(this._tiles[q].current=!1)}if(Math.abs(n-this._tileZoom)>1){this._setView(t,n);return}for(var lt=d.min.y;lt<=d.max.y;lt++)for(var yt=d.min.x;yt<=d.max.x;yt++){var fe=new nt(yt,lt);if(fe.z=this._tileZoom,!!this._isValidTile(fe)){var re=this._tiles[this._tileCoordsToKey(fe)];re?re.current=!0:S.push(fe)}}if(S.sort(function(be,rn){return be.distanceTo(v)-rn.distanceTo(v)}),S.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ue=document.createDocumentFragment();for(yt=0;yt<S.length;yt++)this._addTile(S[yt],Ue);this._level.el.appendChild(Ue)}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var l=this._tileCoordsToBounds(t);return Ht(this.options.bounds).overlaps(l)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),l=t.scaleBy(n),d=l.add(n),v=e.unproject(l,t.z),S=e.unproject(d,t.z);return[v,S]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new ie(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new nt(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(Nt(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){dt(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=M,t.onmousemove=M,ot.ielt9&&this.options.opacity<1&&de(t,this.options.opacity)},_addTile:function(t,e){var n=this._getTilePos(t),l=this._tileCoordsToKey(t),d=this.createTile(this._wrapCoords(t),s(this._tileReady,this,t));this._initTile(d),this.createTile.length<2&&Ut(s(this._tileReady,this,t,null,d)),Ft(d,n),this._tiles[l]={el:d,coords:t,current:!0},e.appendChild(d),this.fire("tileloadstart",{tile:d,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var l=this._tileCoordsToKey(t);n=this._tiles[l],n&&(n.loaded=+new Date,this._map._fadeAnimated?(de(n.el,0),Qt(this._fadeFrame),this._fadeFrame=Ut(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(dt(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ot.ielt9||!this._map._fadeAnimated?Ut(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new nt(this._wrapX?P(t.x,this._wrapX):t.x,this._wrapY?P(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new Bt(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Er(t){return new qt(t)}var on=qt.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,e=H(this,e),e.detectRetina&&ot.retina&&e.maxZoom>0?(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom=Math.min(e.maxZoom,e.minZoom+1)):(e.zoomOffset++,e.maxZoom=Math.max(e.minZoom,e.maxZoom-1)),e.minZoom=Math.max(0,e.minZoom)):e.zoomReverse?e.minZoom=Math.min(e.maxZoom,e.minZoom):e.maxZoom=Math.max(e.minZoom,e.maxZoom),typeof e.subdomains=="string"&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&e===void 0&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return ct(n,"load",s(this._tileOnLoad,this,e,n)),ct(n,"error",s(this._tileOnError,this,e,n)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(n.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:ot.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=n),e["-y"]=n}return wt(this._url,a(e,this.options))},_tileOnLoad:function(t,e){ot.ielt9?setTimeout(s(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var l=this.options.errorTileUrl;l&&e.getAttribute("src")!==l&&(e.src=l),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,n=this.options.zoomReverse,l=this.options.zoomOffset;return n&&(t=e-t),t+l},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(e=this._tiles[t].el,e.onload=M,e.onerror=M,!e.complete)){e.src=Yt;var n=this._tiles[t].coords;Nt(e),delete this._tiles[t],this.fire("tileabort",{tile:e,coords:n})}},_removeTile:function(t){var e=this._tiles[t];if(e)return e.el.setAttribute("src",Yt),qt.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(!(!this._map||n&&n.getAttribute("src")===Yt))return qt.prototype._tileReady.call(this,t,e,n)}});function Yo(t,e){return new on(t,e)}var Xo=on.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var n=a({},this.defaultWmsParams);for(var l in e)l in this.options||(n[l]=e[l]);e=H(this,e);var d=e.detectRetina&&ot.retina?2:1,v=this.getTileSize();n.width=v.x*d,n.height=v.y*d,this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,on.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,l=se(n.project(e[0]),n.project(e[1])),d=l.min,v=l.max,S=(this._wmsVersion>=1.3&&this._crs===Fe?[d.y,d.x,v.y,v.x]:[d.x,d.y,v.x,v.y]).join(","),I=on.prototype.getTileUrl.call(this,t);return I+ut(this.wmsParams,I,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+S},setParams:function(t,e){return a(this.wmsParams,t),e||this.redraw(),this}});function Sr(t,e){return new Xo(t,e)}on.WMS=Xo,Yo.wms=Sr;var ui=Ee.extend({options:{padding:.1},initialize:function(t){H(this,t),m(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),dt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),l=this._map.getSize().multiplyBy(.5+this.options.padding),d=this._map.project(this._center,e),v=l.multiplyBy(-n).add(d).subtract(this._map._getNewPixelOrigin(t,e));ot.any3d?Kt(this._container,v,n):Ft(this._container,v)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new Bt(n,n.add(e.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ko=ui.extend({options:{tolerance:0},getEvents:function(){var t=ui.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ui.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");ct(t,"mousemove",this._onMouseMove,this),ct(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ct(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){Qt(this._redrawRequest),delete this._ctx,Nt(this._container),At(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var e in this._layers)t=this._layers[e],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ui.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),l=ot.retina?2:1;Ft(e,t.min),e.width=l*n.x,e.height=l*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",ot.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){ui.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[m(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,l=e.prev;n?n.prev=l:this._drawLast=l,l?l.next=n:this._drawFirst=n,delete t._order,delete this._layers[m(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var e=t.options.dashArray.split(/[, ]+/),n=[],l,d;for(d=0;d<e.length;d++){if(l=Number(e[d]),isNaN(l))return;n.push(l)}t.options._dashArray=n}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||Ut(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Bt,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var l=this._drawFirst;l;l=l.next)t=l.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,l,d,v,S=t._parts,I=S.length,R=this._ctx;if(I){for(R.beginPath(),n=0;n<I;n++){for(l=0,d=S[n].length;l<d;l++)v=S[n][l],R[l?"lineTo":"moveTo"](v.x,v.y);e&&R.closePath()}this._fillStroke(R,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var e=t._point,n=this._ctx,l=Math.max(Math.round(t._radius),1),d=(Math.max(Math.round(t._radiusY),1)||l)/l;d!==1&&(n.save(),n.scale(1,d)),n.beginPath(),n.arc(e.x,e.y/d,l,0,Math.PI*2,!1),d!==1&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&n.weight!==0&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e=this._map.mouseEventToLayerPoint(t),n,l,d=this._drawFirst;d;d=d.next)n=d.layer,n.options.interactive&&n._containsPoint(e)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(n))&&(l=n);this._fireEvent(l?[l]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(Rt(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var n,l,d=this._drawFirst;d;d=d.next)n=d.layer,n.options.interactive&&n._containsPoint(e)&&(l=n);l!==this._hoveredLayer&&(this._handleMouseOut(t),l&&(dt(this._container,"leaflet-interactive"),this._fireEvent([l],t,"mouseover"),this._hoveredLayer=l)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(s(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var n=e.next,l=e.prev;if(n)n.prev=l;else return;l?l.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t)}},_bringToBack:function(t){var e=t._order;if(e){var n=e.next,l=e.prev;if(l)l.next=n;else return;n?n.prev=l:l&&(this._drawLast=l),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t)}}});function Jo(t){return ot.canvas?new Ko(t):null}var Bn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Dr={_initContainer:function(){this._container=kt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ui.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=Bn("shape");dt(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=Bn("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[m(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;Nt(e),t.removeInteractiveTarget(e),delete this._layers[m(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,l=t.options,d=t._container;d.stroked=!!l.stroke,d.filled=!!l.fill,l.stroke?(e||(e=t._stroke=Bn("stroke")),d.appendChild(e),e.weight=l.weight+"px",e.color=l.color,e.opacity=l.opacity,l.dashArray?e.dashStyle=bt(l.dashArray)?l.dashArray.join(" "):l.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=l.lineCap.replace("butt","flat"),e.joinstyle=l.lineJoin):e&&(d.removeChild(e),t._stroke=null),l.fill?(n||(n=t._fill=Bn("fill")),d.appendChild(n),n.color=l.fillColor||l.color,n.opacity=l.fillOpacity):n&&(d.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),l=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+l+" 0,"+65535*360)},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){Ce(t._container)},_bringToBack:function(t){Ve(t._container)}},yo=ot.vml?Bn:qn,Nn=ui.extend({_initContainer:function(){this._container=yo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=yo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Nt(this._container),At(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ui.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;(!this._svgSize||!this._svgSize.equals(e))&&(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),Ft(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=yo("path");t.options.className&&dt(e,t.options.className),t.options.interactive&&dt(e,"leaflet-interactive"),this._updateStyle(t),this._layers[m(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){Nt(t._path),t.removeInteractiveTarget(t._path),delete this._layers[m(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,Wi(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),l=Math.max(Math.round(t._radiusY),1)||n,d="a"+n+","+l+" 0 1,0 ",v=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+d+n*2+",0 "+d+-n*2+",0 ";this._setPath(t,v)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){Ce(t._path)},_bringToBack:function(t){Ve(t._path)}});ot.vml&&Nn.include(Dr);function Qo(t){return ot.svg||ot.vml?new Nn(t):null}Tt.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var e=this._paneRenderers[t];return e===void 0&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&Jo(t)||Qo(t)}});var tr=xi.extend({initialize:function(t,e){xi.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=Ht(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Or(t,e){return new tr(t,e)}Nn.create=yo,Nn.pointsToPath=Wi,De.geometryToLayer=Ci,De.coordsToLatLng=Gi,De.coordsToLatLngs=Ui,De.latLngToCoords=b,De.latLngsToCoords=D,De.getFeature=A,De.asFeature=N,Tt.mergeOptions({boxZoom:!0});var er=g.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){ct(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){At(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Nt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Oi(),Ii(),this._startPoint=this._map.mouseEventToContainerPoint(t),ct(document,{contextmenu:$e,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=kt("div","leaflet-zoom-box",this._container),dt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new Bt(this._point,this._startPoint),n=e.getSize();Ft(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(Nt(this._box),Rt(this._container,"leaflet-crosshair")),Ai(),Cn(),At(document,{contextmenu:$e,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var e=new ie(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Tt.addInitHook("addHandler","boxZoom",er),Tt.mergeOptions({doubleClickZoom:!0});var ir=g.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),l=e.options.zoomDelta,d=t.originalEvent.shiftKey?n-l:n+l;e.options.doubleClickZoom==="center"?e.setZoom(d):e.setZoomAround(t.containerPoint,d)}});Tt.addInitHook("addHandler","doubleClickZoom",ir),Tt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var nr=g.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new O(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}dt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Rt(this._map._container,"leaflet-grab"),Rt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=Ht(this._map.options.maxBounds);this._offsetLimit=se(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,l=this._draggable._newPos.x,d=(l-e+n)%t+e-n,v=(l+e+n)%t-e-n,S=Math.abs(d+n)<Math.abs(v+n)?d:v;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=S},_onDragEnd:function(t){var e=this._map,n=e.options,l=!n.inertia||t.noInertia||this._times.length<2;if(e.fire("dragend",t),l)e.fire("moveend");else{this._prunePositions(+new Date);var d=this._lastPos.subtract(this._positions[0]),v=(this._lastTime-this._times[0])/1e3,S=n.easeLinearity,I=d.multiplyBy(S/v),R=I.distanceTo([0,0]),q=Math.min(n.inertiaMaxSpeed,R),J=I.multiplyBy(q/R),lt=q/(n.inertiaDeceleration*S),yt=J.multiplyBy(-lt/2).round();!yt.x&&!yt.y?e.fire("moveend"):(yt=e._limitOffset(yt,e.options.maxBounds),Ut(function(){e.panBy(yt,{duration:lt,easeLinearity:S,noMoveStart:!0,animate:!0})}))}}});Tt.addInitHook("addHandler","dragging",nr),Tt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var or=g.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),ct(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),At(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,l=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(l,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e=this._panKeys={},n=this.keyCodes,l,d;for(l=0,d=n.left.length;l<d;l++)e[n.left[l]]=[-1*t,0];for(l=0,d=n.right.length;l<d;l++)e[n.right[l]]=[t,0];for(l=0,d=n.down.length;l<d;l++)e[n.down[l]]=[0,t];for(l=0,d=n.up.length;l<d;l++)e[n.up[l]]=[0,-1*t]},_setZoomDelta:function(t){var e=this._zoomKeys={},n=this.keyCodes,l,d;for(l=0,d=n.zoomIn.length;l<d;l++)e[n.zoomIn[l]]=t;for(l=0,d=n.zoomOut.length;l<d;l++)e[n.zoomOut[l]]=-t},_addHooks:function(){ct(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){At(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=t.keyCode,n=this._map,l;if(e in this._panKeys){if(!n._panAnim||!n._panAnim._inProgress)if(l=this._panKeys[e],t.shiftKey&&(l=rt(l).multiplyBy(3)),n.options.maxBounds&&(l=n._limitOffset(rt(l),n.options.maxBounds)),n.options.worldCopyJump){var d=n.wrapLatLng(n.unproject(n.project(n.getCenter()).add(l)));n.panTo(d)}else n.panBy(l)}else if(e in this._zoomKeys)n.setZoom(n.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[e]);else if(e===27&&n._popup&&n._popup.options.closeOnEscapeKey)n.closePopup();else return;$e(t)}}});Tt.addInitHook("addHandler","keyboard",or),Tt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var rr=g.extend({addHooks:function(){ct(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){At(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=On(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var l=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),l),$e(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var l=this._delta/(this._map.options.wheelPxPerZoomLevel*4),d=4*Math.log(2/(1+Math.exp(-Math.abs(l))))/Math.LN2,v=n?Math.ceil(d/n)*n:d,S=t._limitZoom(e+(this._delta>0?v:-v))-e;this._delta=0,this._startTime=null,S&&(t.options.scrollWheelZoom==="center"?t.setZoom(e+S):t.setZoomAround(this._lastMousePos,e+S))}});Tt.addInitHook("addHandler","scrollWheelZoom",rr);var Ar=600;Tt.mergeOptions({tapHold:ot.touchNative&&ot.safari&&ot.mobile,tapTolerance:15});var sr=g.extend({addHooks:function(){ct(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){At(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var e=t.touches[0];this._startPos=this._newPos=new nt(e.clientX,e.clientY),this._holdTimeout=setTimeout(s(function(){this._cancel(),this._isTapValid()&&(ct(document,"touchend",Wt),ct(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))},this),Ar),ct(document,"touchend touchcancel contextmenu",this._cancel,this),ct(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){At(document,"touchend",Wt),At(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),At(document,"touchend touchcancel contextmenu",this._cancel,this),At(document,"touchmove",this._onMove,this)},_onMove:function(t){var e=t.touches[0];this._newPos=new nt(e.clientX,e.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){var n=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY});n._simulated=!0,e.target.dispatchEvent(n)}});Tt.addInitHook("addHandler","tapHold",sr),Tt.mergeOptions({touchZoom:ot.touch,bounceAtZoomLimits:!0});var ar=g.extend({addHooks:function(){dt(this._map._container,"leaflet-touch-zoom"),ct(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Rt(this._map._container,"leaflet-touch-zoom"),At(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(!(!t.touches||t.touches.length!==2||e._animatingZoom||this._zooming)){var n=e.mouseEventToContainerPoint(t.touches[0]),l=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),e.options.touchZoom!=="center"&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(l)._divideBy(2))),this._startDist=n.distanceTo(l),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),ct(document,"touchmove",this._onTouchMove,this),ct(document,"touchend touchcancel",this._onTouchEnd,this),Wt(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),l=e.mouseEventToContainerPoint(t.touches[1]),d=n.distanceTo(l)/this._startDist;if(this._zoom=e.getScaleZoom(d,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&d<1||this._zoom>e.getMaxZoom()&&d>1)&&(this._zoom=e._limitZoom(this._zoom)),e.options.touchZoom==="center"){if(this._center=this._startLatLng,d===1)return}else{var v=n._add(l)._divideBy(2)._subtract(this._centerPoint);if(d===1&&v.x===0&&v.y===0)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(v),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),Qt(this._animRequest);var S=s(e._move,e,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Ut(S,this,!0),Wt(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Qt(this._animRequest),At(document,"touchmove",this._onTouchMove,this),At(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Tt.addInitHook("addHandler","touchZoom",ar),Tt.BoxZoom=er,Tt.DoubleClickZoom=ir,Tt.Drag=nr,Tt.Keyboard=or,Tt.ScrollWheelZoom=rr,Tt.TapHold=sr,Tt.TouchZoom=ar,C.Bounds=Bt,C.Browser=ot,C.CRS=je,C.Canvas=Ko,C.Circle=hi,C.CircleMarker=Se,C.Class=te,C.Control=ve,C.DivIcon=Oe,C.DivOverlay=et,C.DomEvent=No,C.DomUtil=uo,C.Draggable=O,C.Evented=Dt,C.FeatureGroup=gt,C.GeoJSON=De,C.GridLayer=qt,C.Handler=g,C.Icon=oe,C.ImageOverlay=tt,C.LatLng=Ot,C.LatLngBounds=ie,C.Layer=Ee,C.LayerGroup=wi,C.LineUtil=Re,C.Map=Tt,C.Marker=Fi,C.Mixin=E,C.Path=Ge,C.Point=nt,C.PolyUtil=W,C.Polygon=xi,C.Polyline=Le,C.Popup=St,C.PosAnimation=po,C.Projection=ye,C.Rectangle=tr,C.Renderer=ui,C.SVG=Nn,C.SVGOverlay=ht,C.TileLayer=on,C.Tooltip=jt,C.Transformation=un,C.Util=xt,C.VideoOverlay=_t,C.bind=s,C.bounds=se,C.canvas=Jo,C.circle=en,C.circleMarker=go,C.control=ai,C.divIcon=ki,C.extend=a,C.featureGroup=tn,C.geoJSON=Y,C.geoJson=X,C.gridLayer=Er,C.icon=bi,C.imageOverlay=K,C.latLng=Ct,C.latLngBounds=Ht,C.layerGroup=Zo,C.map=Zi,C.marker=li,C.point=rt,C.polygon=nn,C.polyline=zn,C.popup=he,C.rectangle=Or,C.setOptions=H,C.stamp=m,C.svg=Qo,C.svgOverlay=vt,C.tileLayer=Yo,C.tooltip=we,C.transformation=Ae,C.version=k,C.videoOverlay=st;var Ir=window.L;C.noConflict=function(){return window.L=Ir,this},window.L=C})}(Rn,Rn.exports)),Rn.exports}var Q=wr();(function(y){y.Map.prototype._initControlPos=function(w){return function(){w.apply(this,arguments),this._controlCorners.topcenter=y.DomUtil.create("div","leaflet-top leaflet-center",this._controlContainer),this._controlCorners.bottomcenter=y.DomUtil.create("div","leaflet-bottom leaflet-center",y.DomUtil.create("div","leaflet-control-bottomcenter",this._controlContainer))}}(y.Map.prototype._initControlPos)})(L);/*!
Copyright (c) 2016 Dominik Moritz

This file is part of the leaflet locate control. It is licensed under the MIT license.
You can find the project at: https://github.com/domoritz/leaflet-locatecontrol
*/const ji=(y,w)=>{w.split(" ").forEach(C=>{y.classList.add(C)})},qi=(y,w)=>{w.split(" ").forEach(C=>{y.classList.remove(C)})},br=Q.Marker.extend({initialize(y,w){Q.setOptions(this,w),this._latlng=y,this.createIcon()},createIcon(){const y=this.options,w=[["stroke",y.color],["stroke-width",y.weight],["fill",y.fillColor],["fill-opacity",y.fillOpacity],["opacity",y.opacity]].filter(([k,a])=>a!==void 0).map(([k,a])=>`${k}="${a}"`).join(" "),C=this._getIconSVG(y,w);this._locationIcon=Q.divIcon({className:C.className,html:C.svg,iconSize:[C.w,C.h]}),this.setIcon(this._locationIcon)},_getIconSVG(y,w){const C=y.radius,k=y.weight,a=C+k,o=a*2;return{className:"leaflet-control-locate-location",svg:`<svg xmlns="http://www.w3.org/2000/svg" width="${o}" height="${o}" version="1.1" viewBox="-${a} -${a} ${o} ${o}"><circle r="${C}" ${w} /></svg>`,w:o,h:o}},setStyle(y){Q.setOptions(this,y),this.createIcon()}}),$r=br.extend({initialize(y,w,C){Q.setOptions(this,C),this._latlng=y,this._heading=w,this.createIcon()},setHeading(y){this._heading=y},_getIconSVG(y,w){const C=y.radius,k=y.width+y.weight,a=(C+y.depth+y.weight)*2,o=`M0,0 l${y.width/2},${y.depth} l-${k},0 z`;return{className:"leaflet-control-locate-heading",svg:`<svg xmlns="http://www.w3.org/2000/svg" width="${k}" height="${a}" version="1.1" viewBox="-${k/2} 0 ${k} ${a}" transform="rotate(${this._heading})"><path d="${o}" ${w} /></svg>`,w:k,h:a}}}),Yr=Q.Control.extend({options:{position:"topleft",layer:void 0,setView:"untilPanOrZoom",keepCurrentZoomLevel:!1,initialZoomLevel:!1,getLocationBounds(y){return y.bounds},flyTo:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"inView"},returnToPrevBounds:!1,cacheLocation:!0,drawCircle:!0,drawMarker:!0,showCompass:!0,markerClass:br,compassClass:$r,circleStyle:{className:"leaflet-control-locate-circle",color:"#136AEC",fillColor:"#136AEC",fillOpacity:.15,weight:0},markerStyle:{className:"leaflet-control-locate-marker",color:"#fff",fillColor:"#2A93EE",fillOpacity:1,weight:3,opacity:1,radius:9},compassStyle:{fillColor:"#2A93EE",fillOpacity:1,weight:0,color:"#fff",opacity:1,radius:9,width:9,depth:6},followCircleStyle:{},followMarkerStyle:{},followCompassStyle:{},icon:"leaflet-control-locate-location-arrow",iconLoading:"leaflet-control-locate-spinner",iconElementTag:"span",textElementTag:"small",circlePadding:[0,0],metric:!0,createButtonCallback(y,w){const C=Q.DomUtil.create("a","leaflet-bar-part leaflet-bar-part-single",y);C.title=w.strings.title,C.href="#",C.setAttribute("role","button");const k=Q.DomUtil.create(w.iconElementTag,w.icon,C);if(w.strings.text!==void 0){const a=Q.DomUtil.create(w.textElementTag,"leaflet-locate-text",C);a.textContent=w.strings.text,C.classList.add("leaflet-locate-text-active"),C.parentNode.style.display="flex",w.icon.length>0&&k.classList.add("leaflet-locate-icon")}return{link:C,icon:k}},onLocationError(y,w){alert(y.message)},onLocationOutsideMapBounds(y){y.stop(),alert(y.options.strings.outsideMapBoundsMsg)},showPopup:!0,strings:{title:"Show me where I am",metersUnit:"meters",feetUnit:"feet",popup:"You are within {distance} {unit} from this point",outsideMapBoundsMsg:"You seem located outside the boundaries of the map"},locateOptions:{maxZoom:1/0,watch:!0,setView:!1}},initialize(y){for(const w in y)typeof this.options[w]=="object"?Q.extend(this.options[w],y[w]):this.options[w]=y[w];this.options.followMarkerStyle=Q.extend({},this.options.markerStyle,this.options.followMarkerStyle),this.options.followCircleStyle=Q.extend({},this.options.circleStyle,this.options.followCircleStyle),this.options.followCompassStyle=Q.extend({},this.options.compassStyle,this.options.followCompassStyle)},onAdd(y){const w=Q.DomUtil.create("div","leaflet-control-locate leaflet-bar leaflet-control");this._container=w,this._map=y,this._layer=this.options.layer||new Q.LayerGroup,this._layer.addTo(y),this._event=void 0,this._compassHeading=null,this._prevBounds=null;const C=this.options.createButtonCallback(w,this.options);return this._link=C.link,this._icon=C.icon,Q.DomEvent.on(this._link,"click",function(k){Q.DomEvent.stopPropagation(k),Q.DomEvent.preventDefault(k),this._onClick()},this).on(this._link,"dblclick",Q.DomEvent.stopPropagation),this._resetVariables(),this._map.on("unload",this._unload,this),w},_onClick(){this._justClicked=!0;const y=this._isFollowing();if(this._userPanned=!1,this._userZoomed=!1,this._active&&!this._event)this.stop();else if(this._active){const w=this.options.clickBehavior;let C=w.outOfView;switch(this._map.getBounds().contains(this._event.latlng)&&(C=y?w.inView:w.inViewNotFollowing),w[C]&&(C=w[C]),C){case"setView":this.setView();break;case"stop":this.stop(),this.options.returnToPrevBounds&&(this.options.flyTo?this._map.flyToBounds:this._map.fitBounds).bind(this._map)(this._prevBounds);break}}else this.options.returnToPrevBounds&&(this._prevBounds=this._map.getBounds()),this.start();this._updateContainerStyle()},start(){this._activate(),this._event&&(this._drawMarker(this._map),this.options.setView&&this.setView()),this._updateContainerStyle()},stop(){this._deactivate(),this._cleanClasses(),this._resetVariables(),this._removeMarker()},stopFollowing(){this._userPanned=!0,this._updateContainerStyle(),this._drawMarker()},_activate(){if(!(this._active||!this._map)&&(this._map.locate(this.options.locateOptions),this._map.fire("locateactivate",this),this._active=!0,this._map.on("locationfound",this._onLocationFound,this),this._map.on("locationerror",this._onLocationError,this),this._map.on("dragstart",this._onDrag,this),this._map.on("zoomstart",this._onZoom,this),this._map.on("zoomend",this._onZoomEnd,this),this.options.showCompass)){const y="ondeviceorientationabsolute"in window;if(y||"ondeviceorientation"in window){const w=this,C=function(){Q.DomEvent.on(window,y?"deviceorientationabsolute":"deviceorientation",w._onDeviceOrientation,w)};DeviceOrientationEvent&&typeof DeviceOrientationEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(function(k){k==="granted"&&C()}):C()}}},_deactivate(){!this._active||!this._map||(this._map.stopLocate(),this._map.fire("locatedeactivate",this),this._active=!1,this.options.cacheLocation||(this._event=void 0),this._map.off("locationfound",this._onLocationFound,this),this._map.off("locationerror",this._onLocationError,this),this._map.off("dragstart",this._onDrag,this),this._map.off("zoomstart",this._onZoom,this),this._map.off("zoomend",this._onZoomEnd,this),this.options.showCompass&&(this._compassHeading=null,"ondeviceorientationabsolute"in window?Q.DomEvent.off(window,"deviceorientationabsolute",this._onDeviceOrientation,this):"ondeviceorientation"in window&&Q.DomEvent.off(window,"deviceorientation",this._onDeviceOrientation,this)))},setView(){if(this._drawMarker(),this._isOutsideMapBounds())this._event=void 0,this.options.onLocationOutsideMapBounds(this);else if(this._justClicked&&this.options.initialZoomLevel!==!1)(this.options.flyTo?this._map.flyTo:this._map.setView).bind(this._map)([this._event.latitude,this._event.longitude],this.options.initialZoomLevel);else if(this.options.keepCurrentZoomLevel)(this.options.flyTo?this._map.flyTo:this._map.panTo).bind(this._map)([this._event.latitude,this._event.longitude]);else{let y=this.options.flyTo?this._map.flyToBounds:this._map.fitBounds;this._ignoreEvent=!0,y.bind(this._map)(this.options.getLocationBounds(this._event),{padding:this.options.circlePadding,maxZoom:this.options.initialZoomLevel||this.options.locateOptions.maxZoom}),Q.Util.requestAnimFrame(function(){this._ignoreEvent=!1},this)}},_drawCompass(){if(!this._event)return;const y=this._event.latlng;if(this.options.showCompass&&y&&this._compassHeading!==null){const w=this._isFollowing()?this.options.followCompassStyle:this.options.compassStyle;this._compass?(this._compass.setLatLng(y),this._compass.setHeading(this._compassHeading),this._compass.setStyle&&this._compass.setStyle(w)):this._compass=new this.options.compassClass(y,this._compassHeading,w).addTo(this._layer)}this._compass&&(!this.options.showCompass||this._compassHeading===null)&&(this._compass.removeFrom(this._layer),this._compass=null)},_drawMarker(){this._event.accuracy===void 0&&(this._event.accuracy=0);const y=this._event.accuracy,w=this._event.latlng;if(this.options.drawCircle){const s=this._isFollowing()?this.options.followCircleStyle:this.options.circleStyle;this._circle?this._circle.setLatLng(w).setRadius(y).setStyle(s):this._circle=Q.circle(w,y,s).addTo(this._layer)}let C,k;if(this.options.metric?(C=y.toFixed(0),k=this.options.strings.metersUnit):(C=(y*3.2808399).toFixed(0),k=this.options.strings.feetUnit),this.options.drawMarker){const s=this._isFollowing()?this.options.followMarkerStyle:this.options.markerStyle;this._marker?(this._marker.setLatLng(w),this._marker.setStyle&&this._marker.setStyle(s)):this._marker=new this.options.markerClass(w,s).addTo(this._layer)}this._drawCompass();const a=this.options.strings.popup;function o(){return typeof a=="string"?Q.Util.template(a,{distance:C,unit:k}):typeof a=="function"?a({distance:C,unit:k}):a}this.options.showPopup&&a&&this._marker&&this._marker.bindPopup(o())._popup.setLatLng(w),this.options.showPopup&&a&&this._compass&&this._compass.bindPopup(o())._popup.setLatLng(w)},_removeMarker(){this._layer.clearLayers(),this._marker=void 0,this._circle=void 0},_unload(){this.stop(),this._map&&this._map.off("unload",this._unload,this)},_setCompassHeading(y){!isNaN(parseFloat(y))&&isFinite(y)?(y=Math.round(y),this._compassHeading=y,Q.Util.requestAnimFrame(this._drawCompass,this)):this._compassHeading=null},_onCompassNeedsCalibration(){this._setCompassHeading()},_onDeviceOrientation(y){this._active&&(y.webkitCompassHeading?this._setCompassHeading(y.webkitCompassHeading):y.absolute&&y.alpha&&this._setCompassHeading(360-y.alpha))},_onLocationError(y){y.code==3&&this.options.locateOptions.watch||(this.stop(),this.options.onLocationError(y,this))},_onLocationFound(y){if(!(this._event&&this._event.latlng.lat===y.latlng.lat&&this._event.latlng.lng===y.latlng.lng&&this._event.accuracy===y.accuracy)&&this._active){switch(this._event=y,this._drawMarker(),this._updateContainerStyle(),this.options.setView){case"once":this._justClicked&&this.setView();break;case"untilPan":this._userPanned||this.setView();break;case"untilPanOrZoom":!this._userPanned&&!this._userZoomed&&this.setView();break;case"always":this.setView();break}this._justClicked=!1}},_onDrag(){this._event&&!this._ignoreEvent&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_onZoom(){this._event&&!this._ignoreEvent&&(this._userZoomed=!0,this._updateContainerStyle(),this._drawMarker())},_onZoomEnd(){this._event&&this._drawCompass(),this._event&&!this._ignoreEvent&&this._marker&&!this._map.getBounds().pad(-.3).contains(this._marker.getLatLng())&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_isFollowing(){if(!this._active)return!1;if(this.options.setView==="always")return!0;if(this.options.setView==="untilPan")return!this._userPanned;if(this.options.setView==="untilPanOrZoom")return!this._userPanned&&!this._userZoomed},_isOutsideMapBounds(){return this._event===void 0?!1:this._map.options.maxBounds&&!this._map.options.maxBounds.contains(this._event.latlng)},_updateContainerStyle(){this._container&&(this._active&&!this._event?this._setClasses("requesting"):this._isFollowing()?this._setClasses("following"):this._active?this._setClasses("active"):this._cleanClasses())},_setClasses(y){y=="requesting"?(qi(this._container,"active following"),ji(this._container,"requesting"),qi(this._icon,this.options.icon),ji(this._icon,this.options.iconLoading)):y=="active"?(qi(this._container,"requesting following"),ji(this._container,"active"),qi(this._icon,this.options.iconLoading),ji(this._icon,this.options.icon)):y=="following"&&(qi(this._container,"requesting"),ji(this._container,"active following"),qi(this._icon,this.options.iconLoading),ji(this._icon,this.options.icon))},_cleanClasses(){Q.DomUtil.removeClass(this._container,"requesting"),Q.DomUtil.removeClass(this._container,"active"),Q.DomUtil.removeClass(this._container,"following"),qi(this._icon,this.options.iconLoading),ji(this._icon,this.options.icon)},_resetVariables(){this._active=!1,this._justClicked=!1,this._userPanned=!1,this._userZoomed=!1}}),qo=new Q.Icon({iconUrl:"/static/img/leaflet/marker-red.svg",iconRetinaUrl:"/static/img/leaflet/marker-red.svg",iconSize:[26,42],iconAnchor:[13,42],popupAnchor:[-3,-76],shadowUrl:"/static/img/leaflet/marker-shadow.png",shadowRetinaUrl:"/static/img/leaflet/marker-shadow.png",shadowSize:[68,50],shadowAnchor:[22,49]}),Xr={keepCurrentZoomLevel:!1,drawCircle:!1,drawMarker:!1,showPopup:!1,flyTo:!0,icon:"leaflet-control-locate-custom",iconLoading:"leaflet-control-locate-loading",strings:{title:"Muestrame donde estoy",metersUnit:"meters",feetUnit:"feet",popup:"You are within {distance} {unit} from this point",outsideMapBoundsMsg:"You seem to be outside the boundaries of the map"}},Kr=new Q.Icon({iconUrl:"/static/img/leaflet/marker-camion.svg",iconRetinaUrl:"/static/img/leaflet/marker-camion.svg",iconSize:[64,64],iconAnchor:[32,32],popupAnchor:[-3,-76]});(function(y,w,C){L.Control.Custom=L.Control.extend({version:"1.0.1",options:{position:"topright",id:"",title:"",classes:"",content:"",style:{},datas:{},events:{}},container:null,onAdd:function(k){this.container=L.DomUtil.create("div"),this.container.id=this.options.id,this.container.title=this.options.title,this.container.className=this.options.classes,this.container.innerHTML=this.options.content;for(var a in this.options.style)this.container.style[a]=this.options.style[a];for(var o in this.options.datas)this.container.dataset[o]=this.options.datas[o];L.DomEvent.disableClickPropagation(this.container),L.DomEvent.on(this.container,"contextmenu",function(f){L.DomEvent.stopPropagation(f)}),L.DomEvent.disableScrollPropagation(this.container);for(var s in this.options.events)L.DomEvent.on(this.container,s,this.options.events[s],this.container);return this.container},onRemove:function(k){for(var a in this.options.events)L.DomEvent.off(this.container,a,this.options.events[a],this.container)}}),L.control.custom=function(k){return new L.Control.Custom(k)}})();(function(y,w,C){function k(a,o){for(;(a=a.parentElement)&&!a.classList.contains(o););return a}L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(a,o){this._map=a,this._container=a._container,this._overlayPane=a._panes.overlayPane,this._popupPane=a._panes.popupPane,o&&o.shapeOptions&&(o.shapeOptions=L.Util.extend({},this.options.shapeOptions,o.shapeOptions)),L.setOptions(this,o);var s=L.version.split(".");parseInt(s[0],10)===1&&parseInt(s[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var a=this._map;a&&(L.DomUtil.disableTextSelection(),a.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(a){L.setOptions(this,a)},_fireCreatedEvent:function(a){this._map.fire(L.Draw.Event.CREATED,{layer:a,layerType:this.type})},_cancelDrawing:function(a){a.keyCode===27&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(a,o){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,o&&o.drawError&&(o.drawError=L.Util.extend({},this.options.drawError,o.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,a,o)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var a=this._markers.pop(),o=this._poly,s=o.getLatLngs(),f=s.splice(-1,1)[0];this._poly.setLatLngs(s),this._markerGroup.removeLayer(a),o.getLatLngs().length<2&&this._map.removeLayer(o),this._vertexChanged(f,!1)}},addVertex:function(a){if(this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(a))return void this._showErrorTooltip();this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(a)),this._poly.addLatLng(a),this._poly.getLatLngs().length===2&&this._map.addLayer(this._poly),this._vertexChanged(a,!0)},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var a=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),o=this._poly.newLatLngIntersects(a[a.length-1]);if(!this.options.allowIntersection&&o||!this._shapeIsValid())return void this._showErrorTooltip();this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_shapeIsValid:function(){return!0},_onZoomEnd:function(){this._markers!==null&&this._updateGuide()},_onMouseMove:function(a){var o=this._map.mouseEventToLayerPoint(a.originalEvent),s=this._map.layerPointToLatLng(o);this._currentLatLng=s,this._updateTooltip(s),this._updateGuide(o),this._mouseMarker.setLatLng(s),L.DomEvent.preventDefault(a.originalEvent)},_vertexChanged:function(a,o){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(a,o),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(a){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(a),this._clickHandled=!0,this._disableNewMarkers();var o=a.originalEvent,s=o.clientX,f=o.clientY;this._startPoint.call(this,s,f)}},_startPoint:function(a,o){this._mouseDownOrigin=L.point(a,o)},_onMouseUp:function(a){var o=a.originalEvent,s=o.clientX,f=o.clientY;this._endPoint.call(this,s,f,a),this._clickHandled=null},_endPoint:function(a,o,s){if(this._mouseDownOrigin){var f=L.point(a,o).distanceTo(this._mouseDownOrigin),m=this._calculateFinishDistance(s.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(s.latlng),this._finishShape()):m<10&&L.Browser.touch?this._finishShape():Math.abs(f)<9*(y.devicePixelRatio||1)&&this.addVertex(s.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(a){var o,s,f=a.originalEvent;!f.touches||!f.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(o=f.touches[0].clientX,s=f.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,o,s),this._endPoint.call(this,o,s,a),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(a){var o;if(this._markers.length>0){var s;if(this.type===L.Draw.Polyline.TYPE)s=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;s=this._markers[0]}var f=this._map.latLngToContainerPoint(s.getLatLng()),m=new L.Marker(a,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),x=this._map.latLngToContainerPoint(m.getLatLng());o=f.distanceTo(x)}else o=1/0;return o},_updateFinishHandler:function(){var a=this._markers.length;a>1&&this._markers[a-1].on("click",this._finishShape,this),a>2&&this._markers[a-2].off("click",this._finishShape,this)},_createMarker:function(a){var o=new L.Marker(a,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(o),o},_updateGuide:function(a){var o=this._markers?this._markers.length:0;o>0&&(a=a||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[o-1].getLatLng()),a))},_updateTooltip:function(a){var o=this._getTooltipText();a&&this._tooltip.updatePosition(a),this._errorShown||this._tooltip.updateContent(o)},_drawGuide:function(a,o){var s,f,m,x=Math.floor(Math.sqrt(Math.pow(o.x-a.x,2)+Math.pow(o.y-a.y,2))),P=this.options.guidelineDistance,M=this.options.maxGuideLineLength,B=x>M?x-M:P;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));B<x;B+=this.options.guidelineDistance)s=B/x,f={x:Math.floor(a.x*(1-s)+s*o.x),y:Math.floor(a.y*(1-s)+s*o.y)},m=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),m.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(m,f)},_updateGuideColor:function(a){if(this._guidesContainer)for(var o=0,s=this._guidesContainer.childNodes.length;o<s;o++)this._guidesContainer.childNodes[o].style.backgroundColor=a},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var a,o,s=this.options.showLength;return this._markers.length===0?a={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(o=s?this._getMeasurementString():"",a=this._markers.length===1?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:o}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:o}),a},_updateRunningMeasure:function(a,o){var s,f,m=this._markers.length;this._markers.length===1?this._measurementRunningTotal=0:(s=m-(o?2:1),f=L.GeometryUtil.isVersion07x()?a.distanceTo(this._markers[s].getLatLng())*(this.options.factor||1):this._map.distance(a,this._markers[s].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=f*(o?1:-1))},_getMeasurementString:function(){var a,o=this._currentLatLng,s=this._markers[this._markers.length-1].getLatLng();return a=L.GeometryUtil.isVersion07x()?s&&o&&o.distanceTo?this._measurementRunningTotal+o.distanceTo(s)*(this.options.factor||1):this._measurementRunningTotal||0:s&&o?this._measurementRunningTotal+this._map.distance(o,s)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(a,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout((function(){this._disableMarkers=!1}).bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var a=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,a)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(a,o){L.Draw.Polyline.prototype.initialize.call(this,a,o),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var a=this._markers.length;a===1&&this._markers[0].on("click",this._finishShape,this),a>2&&(this._markers[a-1].on("dblclick",this._finishShape,this),a>3&&this._markers[a-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var a,o;return this._markers.length===0?a=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(a=L.drawLocal.draw.handlers.polygon.tooltip.cont,o=this._getMeasurementString()):(a=L.drawLocal.draw.handlers.polygon.tooltip.end,o=this._getMeasurementString()),{text:a,subtext:o}},_getMeasurementString:function(){var a=this._area,o="";return a||this.options.showLength?(this.options.showLength&&(o=L.Draw.Polyline.prototype._getMeasurementString.call(this)),a&&(o+="<br>"+L.GeometryUtil.readableArea(a,this.options.metric,this.options.precision)),o):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(a,o){var s;!this.options.allowIntersection&&this.options.showArea&&(s=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(s)),L.Draw.Polyline.prototype._vertexChanged.call(this,a,o)},_cleanUpShape:function(){var a=this._markers.length;a>0&&(this._markers[0].off("click",this._finishShape,this),a>2&&this._markers[a-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(a,o){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,a,o)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),w.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(w,"mouseup",this._onMouseUp,this),L.DomEvent.off(w,"touchend",this._onMouseUp,this),w.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(a){this._isDrawing=!0,this._startLatLng=a.latlng,L.DomEvent.on(w,"mouseup",this._onMouseUp,this).on(w,"touchend",this._onMouseUp,this).preventDefault(a.originalEvent)},_onMouseMove:function(a){var o=a.latlng;this._tooltip.updatePosition(o),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(o))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(a,o){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,a,o)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(a){if(!this._shape&&!this._isCurrentlyTwoClickDrawing)return void(this._isCurrentlyTwoClickDrawing=!0);this._isCurrentlyTwoClickDrawing&&!k(a.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this)},_drawShape:function(a){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,a)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,a),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var a=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,a)},_getTooltipText:function(){var a,o,s,f=L.Draw.SimpleShape.prototype._getTooltipText.call(this),m=this._shape,x=this.options.showArea;return m&&(a=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),o=L.GeometryUtil.geodesicArea(a),s=x?L.GeometryUtil.readableArea(o,this.options.metric):""),{text:f.text,subtext:s}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(a,o){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,a,o)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(a){var o=a.latlng;this._tooltip.updatePosition(o),this._mouseMarker.setLatLng(o),this._marker?(o=this._mouseMarker.getLatLng(),this._marker.setLatLng(o)):(this._marker=this._createMarker(o),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(a){return new L.Marker(a,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(a){this._onMouseMove(a),this._onClick()},_fireCreatedEvent:function(){var a=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,a)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(a,o){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,a,o)},_fireCreatedEvent:function(){var a=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,a)},_createMarker:function(a){return new L.CircleMarker(a,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(a,o){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,a,o)},_drawShape:function(a){if(L.GeometryUtil.isVersion07x())var o=this._startLatLng.distanceTo(a);else var o=this._map.distance(this._startLatLng,a);this._shape?this._shape.setRadius(o):(this._shape=new L.Circle(this._startLatLng,o,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var a=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,a)},_onMouseMove:function(a){var o,s=a.latlng,f=this.options.showRadius,m=this.options.metric;if(this._tooltip.updatePosition(s),this._isDrawing){this._drawShape(s),o=this._shape.getRadius().toFixed(1);var x="";f&&(x=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(o,m,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:x})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(a,o){this._marker=a,L.setOptions(this,o)},addHooks:function(){var a=this._marker;a.dragging.enable(),a.on("dragend",this._onDragEnd,a),this._toggleMarkerHighlight()},removeHooks:function(){var a=this._marker;a.dragging.disable(),a.off("dragend",this._onDragEnd,a),this._toggleMarkerHighlight()},_onDragEnd:function(a){var o=a.target;o.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:o})},_toggleMarkerHighlight:function(){var a=this._marker._icon;a&&(a.style.display="none",L.DomUtil.hasClass(a,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(a,"leaflet-edit-marker-selected"),this._offsetMarker(a,-4)):(L.DomUtil.addClass(a,"leaflet-edit-marker-selected"),this._offsetMarker(a,4)),a.style.display="")},_offsetMarker:function(a,o){var s=parseInt(a.style.marginTop,10)-o,f=parseInt(a.style.marginLeft,10)-o;a.style.marginTop=s+"px",a.style.marginLeft=f+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(a){this.latlngs=[a._latlngs],a._holes&&(this.latlngs=this.latlngs.concat(a._holes)),this._poly=a,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(a){for(var o=0;o<this._verticesHandlers.length;o++)a(this._verticesHandlers[o])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(a){a.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(a){a.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(a){a.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var a=0;a<this.latlngs.length;a++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[a],this._poly.options.poly))},_updateLatLngs:function(a){this.latlngs=[a.layer._latlngs],a.layer._holes&&(this.latlngs=this.latlngs.concat(a.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(a,o,s){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=a,s&&s.drawError&&(s.drawError=L.Util.extend({},this.options.drawError,s.drawError)),this._latlngs=o,L.setOptions(this,s)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var a=this._poly,o=a._path;a instanceof L.Polygon||(a.options.fill=!1,a.options.editing&&(a.options.editing.fill=!1)),o&&a.options.editing&&a.options.editing.className&&(a.options.original.className&&a.options.original.className.split(" ").forEach(function(s){L.DomUtil.removeClass(o,s)}),a.options.editing.className.split(" ").forEach(function(s){L.DomUtil.addClass(o,s)})),a.setStyle(a.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var a=this._poly,o=a._path;o&&a.options.editing&&a.options.editing.className&&(a.options.editing.className.split(" ").forEach(function(s){L.DomUtil.removeClass(o,s)}),a.options.original.className&&a.options.original.className.split(" ").forEach(function(s){L.DomUtil.addClass(o,s)})),a.setStyle(a.options.original),a._map&&(a._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var a,o,s,f,m=this._defaultShape();for(a=0,s=m.length;a<s;a++)f=this._createMarker(m[a],a),f.on("click",this._onMarkerClick,this),f.on("contextmenu",this._onContextMenu,this),this._markers.push(f);var x,P;for(a=0,o=s-1;a<s;o=a++)(a!==0||L.Polygon&&this._poly instanceof L.Polygon)&&(x=this._markers[o],P=this._markers[a],this._createMiddleMarker(x,P),this._updatePrevNext(x,P))},_createMarker:function(a,o){var s=new L.Marker.Touch(a,{draggable:!0,icon:this.options.icon});return s._origLatLng=a,s._index=o,s.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(s),s},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var a=this._defaultShape(),o=[].splice.apply(a,arguments);return this._poly._convertLatLngs(a,!0),this._poly.redraw(),o},_removeMarker:function(a){var o=a._index;this._markerGroup.removeLayer(a),this._markers.splice(o,1),this._spliceLatLngs(o,1),this._updateIndexes(o,-1),a.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(a){var o=a.target,s=this._poly,f=L.LatLngUtil.cloneLatLng(o._origLatLng);if(L.extend(o._origLatLng,o._latlng),s.options.poly){var m=s._map._editTooltip;if(!s.options.poly.allowIntersection&&s.intersects()){L.extend(o._origLatLng,f),o.setLatLng(f);var x=s.options.color;s.setStyle({color:this.options.drawError.color}),m&&m.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){s.setStyle({color:x}),m&&m.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}o._middleLeft&&o._middleLeft.setLatLng(this._getMiddleLatLng(o._prev,o)),o._middleRight&&o._middleRight.setLatLng(this._getMiddleLatLng(o,o._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var P=this._poly.getLatLngs();this._poly._convertLatLngs(P,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(a){var o=L.Polygon&&this._poly instanceof L.Polygon?4:3,s=a.target;this._defaultShape().length<o||(this._removeMarker(s),this._updatePrevNext(s._prev,s._next),s._middleLeft&&this._markerGroup.removeLayer(s._middleLeft),s._middleRight&&this._markerGroup.removeLayer(s._middleRight),s._prev&&s._next?this._createMiddleMarker(s._prev,s._next):s._prev?s._next||(s._prev._middleRight=null):s._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(a){var o=a.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:o,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(a){var o=this._map.mouseEventToLayerPoint(a.originalEvent.touches[0]),s=this._map.layerPointToLatLng(o),f=a.target;L.extend(f._origLatLng,s),f._middleLeft&&f._middleLeft.setLatLng(this._getMiddleLatLng(f._prev,f)),f._middleRight&&f._middleRight.setLatLng(this._getMiddleLatLng(f,f._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(a,o){this._markerGroup.eachLayer(function(s){s._index>a&&(s._index+=o)})},_createMiddleMarker:function(a,o){var s,f,m,x=this._getMiddleLatLng(a,o),P=this._createMarker(x);P.setOpacity(.6),a._middleRight=o._middleLeft=P,f=function(){P.off("touchmove",f,this);var M=o._index;P._index=M,P.off("click",s,this).on("click",this._onMarkerClick,this),x.lat=P.getLatLng().lat,x.lng=P.getLatLng().lng,this._spliceLatLngs(M,0,x),this._markers.splice(M,0,P),P.setOpacity(1),this._updateIndexes(M,1),o._index++,this._updatePrevNext(a,P),this._updatePrevNext(P,o),this._poly.fire("editstart")},m=function(){P.off("dragstart",f,this),P.off("dragend",m,this),P.off("touchmove",f,this),this._createMiddleMarker(a,P),this._createMiddleMarker(P,o)},s=function(){f.call(this),m.call(this),this._fireEdit()},P.on("click",s,this).on("dragstart",f,this).on("dragend",m,this).on("touchmove",f,this),this._markerGroup.addLayer(P)},_updatePrevNext:function(a,o){a&&(a._next=o),o&&(o._prev=a)},_getMiddleLatLng:function(a,o){var s=this._poly._map,f=s.project(a.getLatLng()),m=s.project(o.getLatLng());return s.unproject(f._add(m)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(a,o){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=a,L.Util.setOptions(this,o)},addHooks:function(){var a=this._shape;this._shape._map&&(this._map=this._shape._map,a.setStyle(a.options.editing),a._map&&(this._map=a._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var a=this._shape;if(a.setStyle(a.options.original),a._map){this._unbindMarker(this._moveMarker);for(var o=0,s=this._resizeMarkers.length;o<s;o++)this._unbindMarker(this._resizeMarkers[o]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(a,o){var s=new L.Marker.Touch(a,{draggable:!0,icon:o,zIndexOffset:10});return this._bindMarker(s),this._markerGroup.addLayer(s),s},_bindMarker:function(a){a.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(a){a.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(a){a.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(a){var o=a.target,s=o.getLatLng();o===this._moveMarker?this._move(s):this._resize(s),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(a){a.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(a){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,a),typeof this._getCorners=="function"){var o=this._getCorners(),s=a.target,f=s._cornerIndex;s.setOpacity(0),this._oppositeCorner=o[(f+2)%4],this._toggleCornerMarkers(0,f)}this._shape.fire("editstart")},_onTouchMove:function(a){var o=this._map.mouseEventToLayerPoint(a.originalEvent.touches[0]),s=this._map.layerPointToLatLng(o);return a.target===this._moveMarker?this._move(s):this._resize(s),this._shape.redraw(),!1},_onTouchEnd:function(a){a.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var a=this._shape.getBounds(),o=a.getCenter();this._moveMarker=this._createMarker(o,this.options.moveIcon)},_createResizeMarker:function(){var a=this._getCorners();this._resizeMarkers=[];for(var o=0,s=a.length;o<s;o++)this._resizeMarkers.push(this._createMarker(a[o],this.options.resizeIcon)),this._resizeMarkers[o]._cornerIndex=o},_onMarkerDragStart:function(a){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,a);var o=this._getCorners(),s=a.target,f=s._cornerIndex;this._oppositeCorner=o[(f+2)%4],this._toggleCornerMarkers(0,f)},_onMarkerDragEnd:function(a){var o,s,f=a.target;f===this._moveMarker&&(o=this._shape.getBounds(),s=o.getCenter(),f.setLatLng(s)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,a)},_move:function(a){for(var o,s=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),f=this._shape.getBounds(),m=f.getCenter(),x=[],P=0,M=s.length;P<M;P++)o=[s[P].lat-m.lat,s[P].lng-m.lng],x.push([a.lat+o[0],a.lng+o[1]]);this._shape.setLatLngs(x),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(a){var o;this._shape.setBounds(L.latLngBounds(a,this._oppositeCorner)),o=this._shape.getBounds(),this._moveMarker.setLatLng(o.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var a=this._shape.getBounds();return[a.getNorthWest(),a.getNorthEast(),a.getSouthEast(),a.getSouthWest()]},_toggleCornerMarkers:function(a){for(var o=0,s=this._resizeMarkers.length;o<s;o++)this._resizeMarkers[o].setOpacity(a)},_repositionCornerMarkers:function(){for(var a=this._getCorners(),o=0,s=this._resizeMarkers.length;o<s;o++)this._resizeMarkers[o].setLatLng(a[o])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var a=this._shape.getLatLng();this._moveMarker=this._createMarker(a,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(a){if(this._resizeMarkers.length){var o=this._getResizeMarkerPoint(a);this._resizeMarkers[0].setLatLng(o)}this._shape.setLatLng(a),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var a=this._shape.getLatLng(),o=this._getResizeMarkerPoint(a);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(o,this.options.resizeIcon))},_getResizeMarkerPoint:function(a){var o=this._shape._radius*Math.cos(Math.PI/4),s=this._map.project(a);return this._map.unproject([s.x+o,s.y-o])},_resize:function(a){var o=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=o.distanceTo(a):radius=this._map.distance(o,a),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(a,o){var s={};if(a.touches!==void 0){if(!a.touches.length)return;s=a.touches[0]}else if(a.pointerType!=="touch"||(s=a,!this._filterClick(a)))return;var f=this._map.mouseEventToContainerPoint(s),m=this._map.mouseEventToLayerPoint(s),x=this._map.layerPointToLatLng(m);this._map.fire(o,{latlng:x,layerPoint:m,containerPoint:f,pageX:s.pageX,pageY:s.pageY,originalEvent:a})},_filterClick:function(a){var o=a.timeStamp||a.originalEvent.timeStamp,s=L.DomEvent._lastClick&&o-L.DomEvent._lastClick;return s&&s>100&&s<500||a.target._simulatedClick&&!a._simulated?(L.DomEvent.stop(a),!1):(L.DomEvent._lastClick=o,!0)},_onTouchStart:function(a){this._map._loaded&&this._touchEvent(a,"touchstart")},_onTouchEnd:function(a){this._map._loaded&&this._touchEvent(a,"touchend")},_onTouchCancel:function(a){if(this._map._loaded){var o="touchcancel";this._detectIE()&&(o="pointercancel"),this._touchEvent(a,o)}},_onTouchLeave:function(a){this._map._loaded&&this._touchEvent(a,"touchleave")},_onTouchMove:function(a){this._map._loaded&&this._touchEvent(a,"touchmove")},_detectIE:function(){var a=y.navigator.userAgent,o=a.indexOf("MSIE ");if(o>0)return parseInt(a.substring(o+5,a.indexOf(".",o)),10);if(a.indexOf("Trident/")>0){var s=a.indexOf("rv:");return parseInt(a.substring(s+3,a.indexOf(".",s)),10)}var f=a.indexOf("Edge/");return f>0&&parseInt(a.substring(f+5,a.indexOf(".",f)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var a=this._icon,o=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?o.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):o.concat(["touchcancel"]),L.DomUtil.addClass(a,"leaflet-clickable"),L.DomEvent.on(a,"click",this._onMouseClick,this),L.DomEvent.on(a,"keypress",this._onKeyPress,this);for(var s=0;s<o.length;s++)L.DomEvent.on(a,o[s],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var a=y.navigator.userAgent,o=a.indexOf("MSIE ");if(o>0)return parseInt(a.substring(o+5,a.indexOf(".",o)),10);if(a.indexOf("Trident/")>0){var s=a.indexOf("rv:");return parseInt(a.substring(s+3,a.indexOf(".",s)),10)}var f=a.indexOf("Edge/");return f>0&&parseInt(a.substring(f+5,a.indexOf(".",f)),10)}}),L.LatLngUtil={cloneLatLngs:function(a){for(var o=[],s=0,f=a.length;s<f;s++)Array.isArray(a[s])?o.push(L.LatLngUtil.cloneLatLngs(a[s])):o.push(this.cloneLatLng(a[s]));return o},cloneLatLng:function(a){return L.latLng(a.lat,a.lng)}},function(){var a={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(o){var s,f,m=o.length,x=0,P=Math.PI/180;if(m>2){for(var M=0;M<m;M++)s=o[M],f=o[(M+1)%m],x+=(f.lng-s.lng)*P*(2+Math.sin(s.lat*P)+Math.sin(f.lat*P));x=6378137*x*6378137/2}return Math.abs(x)},formattedNumber:function(o,s){var f=parseFloat(o).toFixed(s),m=L.drawLocal.format&&L.drawLocal.format.numeric,x=m&&m.delimiters,P=x&&x.thousands,M=x&&x.decimal;if(P||M){var B=f.split(".");f=P?B[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+P):B[0],M=M||".",B.length>1&&(f=f+M+B[1])}return f},readableArea:function(o,s,P){var m,x,P=L.Util.extend({},a,P);return s?(x=["ha","m"],type=typeof s,type==="string"?x=[s]:type!=="boolean"&&(x=s),m=o>=1e6&&x.indexOf("km")!==-1?L.GeometryUtil.formattedNumber(1e-6*o,P.km)+" kmÂ²":o>=1e4&&x.indexOf("ha")!==-1?L.GeometryUtil.formattedNumber(1e-4*o,P.ha)+" ha":L.GeometryUtil.formattedNumber(o,P.m)+" mÂ²"):(o/=.836127,m=o>=3097600?L.GeometryUtil.formattedNumber(o/3097600,P.mi)+" miÂ²":o>=4840?L.GeometryUtil.formattedNumber(o/4840,P.ac)+" acres":L.GeometryUtil.formattedNumber(o,P.yd)+" ydÂ²"),m},readableDistance:function(o,s,f,m,M){var P,M=L.Util.extend({},a,M);switch(s?typeof s=="string"?s:"metric":f?"feet":m?"nauticalMile":"yards"){case"metric":P=o>1e3?L.GeometryUtil.formattedNumber(o/1e3,M.km)+" km":L.GeometryUtil.formattedNumber(o,M.m)+" m";break;case"feet":o*=3.28083,P=L.GeometryUtil.formattedNumber(o,M.ft)+" ft";break;case"nauticalMile":o*=.53996,P=L.GeometryUtil.formattedNumber(o/1e3,M.nm)+" nm";break;case"yards":default:o*=1.09361,P=o>1760?L.GeometryUtil.formattedNumber(o/1760,M.mi)+" miles":L.GeometryUtil.formattedNumber(o,M.yd)+" yd"}return P},isVersion07x:function(){var o=L.version.split(".");return parseInt(o[0],10)===0&&parseInt(o[1],10)===7}})}(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(a,o,s,f){return this._checkCounterclockwise(a,s,f)!==this._checkCounterclockwise(o,s,f)&&this._checkCounterclockwise(a,o,s)!==this._checkCounterclockwise(a,o,f)},_checkCounterclockwise:function(a,o,s){return(s.y-a.y)*(o.x-a.x)>(o.y-a.y)*(s.x-a.x)}}),L.Polyline.include({intersects:function(){var a,o,s,f=this._getProjectedPoints(),m=f?f.length:0;if(this._tooFewPointsForIntersection())return!1;for(a=m-1;a>=3;a--)if(o=f[a-1],s=f[a],this._lineSegmentsIntersectsRange(o,s,a-2))return!0;return!1},newLatLngIntersects:function(a,o){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(a),o)},newPointIntersects:function(a,o){var s=this._getProjectedPoints(),f=s?s.length:0,m=s?s[f-1]:null,x=f-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(m,a,x,o?1:0)},_tooFewPointsForIntersection:function(a){var o=this._getProjectedPoints(),s=o?o.length:0;return s+=a||0,!o||s<=3},_lineSegmentsIntersectsRange:function(a,o,s,f){var m,x,P=this._getProjectedPoints();f=f||0;for(var M=s;M>f;M--)if(m=P[M-1],x=P[M],L.LineUtil.segmentsIntersect(a,o,m,x))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var a=[],o=this._defaultShape(),s=0;s<o.length;s++)a.push(this._map.latLngToLayerPoint(o[s]));return a}}),L.Polygon.include({intersects:function(){var a,o,s,f,m=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(a=m.length,o=m[0],s=m[a-1],f=a-2,this._lineSegmentsIntersectsRange(s,o,f,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(a){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,a);var o;this._toolbars={},L.DrawToolbar&&this.options.draw&&(o=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=o,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(o=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=o,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(a){var o,s=L.DomUtil.create("div","leaflet-draw"),f=!1;for(var m in this._toolbars)this._toolbars.hasOwnProperty(m)&&(o=this._toolbars[m].addToolbar(a))&&(f||(L.DomUtil.hasClass(o,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(o.childNodes[0],"leaflet-draw-toolbar-top"),f=!0),s.appendChild(o));return s},onRemove:function(){for(var a in this._toolbars)this._toolbars.hasOwnProperty(a)&&this._toolbars[a].removeToolbar()},setDrawingOptions:function(a){for(var o in this._toolbars)this._toolbars[o]instanceof L.DrawToolbar&&this._toolbars[o].setOptions(a)},_toolbarEnabled:function(a){var o=a.target;for(var s in this._toolbars)this._toolbars[s]!==o&&this._toolbars[s].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(a){L.setOptions(this,a),this._modes={},this._actionButtons=[],this._activeMode=null;var o=L.version.split(".");parseInt(o[0],10)===1&&parseInt(o[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return this._activeMode!==null},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(a){var o,s=L.DomUtil.create("div","leaflet-draw-section"),f=0,m=this._toolbarClass||"",x=this.getModeHandlers(a);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=a,o=0;o<x.length;o++)x[o].enabled&&this._initModeHandler(x[o].handler,this._toolbarContainer,f++,m,x[o].title);if(f)return this._lastButtonIndex=--f,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),s.appendChild(this._toolbarContainer),s.appendChild(this._actionsContainer),s},removeToolbar:function(){for(var a in this._modes)this._modes.hasOwnProperty(a)&&(this._disposeButton(this._modes[a].button,this._modes[a].handler.enable,this._modes[a].handler),this._modes[a].handler.disable(),this._modes[a].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var o=0,s=this._actionButtons.length;o<s;o++)this._disposeButton(this._actionButtons[o].button,this._actionButtons[o].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(a,o,s,f,m){var x=a.type;this._modes[x]={},this._modes[x].handler=a,this._modes[x].button=this._createButton({type:x,title:m,className:f+"-"+x,container:o,callback:this._modes[x].handler.enable,context:this._modes[x].handler}),this._modes[x].buttonIndex=s,this._modes[x].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!y.MSStream},_createButton:function(a){var o=L.DomUtil.create("a",a.className||"",a.container),s=L.DomUtil.create("span","sr-only",a.container);o.href="#",o.appendChild(s),a.title&&(o.title=a.title,s.innerHTML=a.title),a.text&&(o.innerHTML=a.text,s.innerHTML=a.text);var f=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(o,"click",L.DomEvent.stopPropagation).on(o,"mousedown",L.DomEvent.stopPropagation).on(o,"dblclick",L.DomEvent.stopPropagation).on(o,"touchstart",L.DomEvent.stopPropagation).on(o,"click",L.DomEvent.preventDefault).on(o,f,a.callback,a.context),o},_disposeButton:function(a,o){var s=this._detectIOS()?"touchstart":"click";L.DomEvent.off(a,"click",L.DomEvent.stopPropagation).off(a,"mousedown",L.DomEvent.stopPropagation).off(a,"dblclick",L.DomEvent.stopPropagation).off(a,"touchstart",L.DomEvent.stopPropagation).off(a,"click",L.DomEvent.preventDefault).off(a,s,o)},_handlerActivated:function(a){this.disable(),this._activeMode=this._modes[a.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(a){var o,s,f,m,x=this._actionsContainer,P=this.getActions(a),M=P.length;for(s=0,f=this._actionButtons.length;s<f;s++)this._disposeButton(this._actionButtons[s].button,this._actionButtons[s].callback);for(this._actionButtons=[];x.firstChild;)x.removeChild(x.firstChild);for(var B=0;B<M;B++)"enabled"in P[B]&&!P[B].enabled||(o=L.DomUtil.create("li","",x),m=this._createButton({title:P[B].title,text:P[B].text,container:o,callback:P[B].callback,context:P[B].context}),this._actionButtons.push({button:m,callback:P[B].callback}))},_showActionsToolbar:function(){var a=this._activeMode.buttonIndex,o=this._lastButtonIndex,s=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=s+"px",a===0&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),a===o&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(a){this._map=a,this._popupPane=a._panes.popupPane,this._visible=!1,this._container=a.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(a){return this._container?(a.subtext=a.subtext||"",a.subtext.length!==0||this._singleLineLabel?a.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(a.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+a.subtext+"</span><br />":"")+"<span>"+a.text+"</span>",a.text||a.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(a){var o=this._map.latLngToLayerPoint(a),s=this._container;return this._container&&(this._visible&&(s.style.visibility="inherit"),L.DomUtil.setPosition(s,o)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(a){for(var o in this.options)this.options.hasOwnProperty(o)&&a[o]&&(a[o]=L.extend({},this.options[o],a[o]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,a)},getModeHandlers:function(a){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(a,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(a,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(a,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(a,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(a,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(a,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(a){return[{enabled:a.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:a.completeShape,context:a},{enabled:a.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:a.deleteLastVertex,context:a},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(a){L.setOptions(this,a);for(var o in this._modes)this._modes.hasOwnProperty(o)&&a.hasOwnProperty(o)&&this._modes[o].handler.setOptions(a[o])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(a){a.edit&&(a.edit.selectedPathOptions===void 0&&(a.edit.selectedPathOptions=this.options.edit.selectedPathOptions),a.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,a.edit.selectedPathOptions)),a.remove&&(a.remove=L.extend({},this.options.remove,a.remove)),a.poly&&(a.poly=L.extend({},this.options.poly,a.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,a),this._selectedFeatureCount=0},getModeHandlers:function(a){var o=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(a,{featureGroup:o,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(a,{featureGroup:o}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(a){var o=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return a.removeAllLayers&&o.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),o},addToolbar:function(a){var o=L.Toolbar.prototype.addToolbar.call(this,a);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),o},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var a,o=this.options.featureGroup,s=o.getLayers().length!==0;this.options.edit&&(a=this._modes[L.EditToolbar.Edit.TYPE].button,s?L.DomUtil.removeClass(a,"leaflet-disabled"):L.DomUtil.addClass(a,"leaflet-disabled"),a.setAttribute("title",s?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(a=this._modes[L.EditToolbar.Delete.TYPE].button,s?L.DomUtil.removeClass(a,"leaflet-disabled"):L.DomUtil.addClass(a,"leaflet-disabled"),a.setAttribute("title",s?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(a,o){if(L.Handler.prototype.initialize.call(this,a),L.setOptions(this,o),this._featureGroup=o.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var s=L.version.split(".");parseInt(s[0],10)===1&&parseInt(s[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var a=this._map;a&&(a.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),a._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(a){this._revertLayer(a)},this)},save:function(){var a=new L.LayerGroup;this._featureGroup.eachLayer(function(o){o.edited&&(a.addLayer(o),o.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:a})},_backupLayer:function(a){var o=L.Util.stamp(a);this._uneditedLayerProps[o]||(a instanceof L.Polyline||a instanceof L.Polygon||a instanceof L.Rectangle?this._uneditedLayerProps[o]={latlngs:L.LatLngUtil.cloneLatLngs(a.getLatLngs())}:a instanceof L.Circle?this._uneditedLayerProps[o]={latlng:L.LatLngUtil.cloneLatLng(a.getLatLng()),radius:a.getRadius()}:(a instanceof L.Marker||a instanceof L.CircleMarker)&&(this._uneditedLayerProps[o]={latlng:L.LatLngUtil.cloneLatLng(a.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(a){var o=L.Util.stamp(a);a.edited=!1,this._uneditedLayerProps.hasOwnProperty(o)&&(a instanceof L.Polyline||a instanceof L.Polygon||a instanceof L.Rectangle?a.setLatLngs(this._uneditedLayerProps[o].latlngs):a instanceof L.Circle?(a.setLatLng(this._uneditedLayerProps[o].latlng),a.setRadius(this._uneditedLayerProps[o].radius)):(a instanceof L.Marker||a instanceof L.CircleMarker)&&a.setLatLng(this._uneditedLayerProps[o].latlng),a.fire("revert-edited",{layer:a}))},_enableLayerEdit:function(a){var o,s,f=a.layer||a.target||a;this._backupLayer(f),this.options.poly&&(s=L.Util.extend({},this.options.poly),f.options.poly=s),this.options.selectedPathOptions&&(o=L.Util.extend({},this.options.selectedPathOptions),o.maintainColor&&(o.color=f.options.color,o.fillColor=f.options.fillColor),f.options.original=L.extend({},f.options),f.options.editing=o),f instanceof L.Marker?(f.editing&&f.editing.enable(),f.dragging.enable(),f.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):f.editing.enable()},_disableLayerEdit:function(a){var o=a.layer||a.target||a;o.edited=!1,o.editing&&o.editing.disable(),delete o.options.editing,delete o.options.original,this._selectedPathOptions&&(o instanceof L.Marker?this._toggleMarkerHighlight(o):(o.setStyle(o.options.previousOptions),delete o.options.previousOptions)),o instanceof L.Marker?(o.dragging.disable(),o.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):o.editing.disable()},_onMouseMove:function(a){this._tooltip.updatePosition(a.latlng)},_onMarkerDragEnd:function(a){var o=a.target;o.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:o})},_onTouchMove:function(a){var o=a.originalEvent.changedTouches[0],s=this._map.mouseEventToLayerPoint(o),f=this._map.layerPointToLatLng(s);a.target.setLatLng(f)},_hasAvailableLayers:function(){return this._featureGroup.getLayers().length!==0}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(a,o){if(L.Handler.prototype.initialize.call(this,a),L.Util.setOptions(this,o),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var s=L.version.split(".");parseInt(s[0],10)===1&&parseInt(s[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var a=this._map;a&&(a.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(a){this._deletableLayers.addLayer(a),a.fire("revert-deleted",{layer:a})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(a){this._removeLayer({layer:a})},this),this.save()},_enableLayerDelete:function(a){(a.layer||a.target||a).on("click",this._removeLayer,this)},_disableLayerDelete:function(a){var o=a.layer||a.target||a;o.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(o)},_removeLayer:function(a){var o=a.layer||a.target||a;this._deletableLayers.removeLayer(o),this._deletedLayers.addLayer(o),o.fire("deleted")},_onMouseMove:function(a){this._tooltip.updatePosition(a.latlng)},_hasAvailableLayers:function(){return this._deletableLayers.getLayers().length!==0}})})(window,document);(function(y){if(typeof y>"u")throw new Error("Leaflet must be included first");y.Control.Layers.Tree=y.Control.Layers.extend({options:{closedSymbol:"+",openedSymbol:"&minus;",spaceSymbol:" ",selectorBack:!1,namedToggle:!1,collapseAll:"",expandAll:"",labelIsSelector:"both"},_initClassesNames:function(){this.cls={children:"leaflet-layerstree-children",childrenNopad:"leaflet-layerstree-children-nopad",hide:"leaflet-layerstree-hide",closed:"leaflet-layerstree-closed",opened:"leaflet-layerstree-opened",space:"leaflet-layerstree-header-space",pointer:"leaflet-layerstree-header-pointer",header:"leaflet-layerstree-header",neverShow:"leaflet-layerstree-nevershow",node:"leaflet-layerstree-node",name:"leaflet-layerstree-header-name",label:"leaflet-layerstree-header-label",selAllCheckbox:"leaflet-layerstree-sel-all-checkbox"}},initialize:function(w,C,k){this._scrollTop=0,this._initClassesNames(),this._baseTree=null,this._overlaysTree=null,y.Util.setOptions(this,k),y.Control.Layers.prototype.initialize.call(this,null,null,k),this._setTrees(w,C)},setBaseTree:function(w){return this._setTrees(w)},setOverlayTree:function(w){return this._setTrees(void 0,w)},addBaseLayer:function(w,C){throw"addBaseLayer is disabled"},addOverlay:function(w,C){throw"addOverlay is disabled"},removeLayer:function(w){throw"removeLayer is disabled"},collapse:function(){return this._scrollTop=this._sect().scrollTop,y.Control.Layers.prototype.collapse.call(this)},expand:function(){y.Control.Layers.prototype.expand.call(this),this._sect().scrollTop=this._scrollTop},onAdd:function(w){function C(o){o._layersTreeName&&(a.innerHTML=o._layersTreeName)}var k=y.Control.Layers.prototype.onAdd.call(this,w);if(this.options.namedToggle){var a=this._container.getElementsByClassName("leaflet-control-layers-toggle")[0];y.DomUtil.addClass(a,"leaflet-layerstree-named-toggle"),w.eachLayer(function(o){C(o)}),w.on("baselayerchange",function(o){C(o.layer)},this)}return k},expandTree:function(w){var C=w?this._overlaysList:this._baseLayersList;return C&&this._applyOnTree(C,!1),this._localExpand()},collapseTree:function(w){var C=w?this._overlaysList:this._baseLayersList;return C&&this._applyOnTree(C,!0),this._localExpand()},expandSelected:function(w){function C(x){var P=x.parentElement;if(P){if(y.DomUtil.hasClass(P,k.cls.children)&&!y.DomUtil.hasClass(x,k.cls.childrenNopad)&&y.DomUtil.removeClass(P,o),y.DomUtil.hasClass(P,k.cls.node)){var M=P.getElementsByClassName(k.cls.header)[0];k._applyOnTree(M,!1)}C(P)}}var k=this,a=w?this._overlaysList:this._baseLayersList;if(!a)return this;for(var o=this.cls.hide,s=this._layerControlInputs||a.getElementsByTagName("input"),f=0;f<s.length;f++){var m=s[f];this._getLayer&&!!this._getLayer(m.layerId).overlay!=!!w||m.checked&&C(m.parentElement.parentElement.parentElement.parentElement)}return this._localExpand()},_sect:function(){return this._section||this._form},_setTrees:function(w,C){var k=0;function a(M,B,F){return M&&M.layer&&(F||(M.layer._layersTreeName=M.name||M.label),B[k++]=M.layer),M&&M.children&&M.children.length&&M.children.forEach(function(j){a(j,B,F)}),B}function o(M){return Array.isArray(M)?{noShow:!0,children:M}:M}this._layerControlInputs&&(this._layerControlInputs=[]);for(var s=0;s<this._layers.length;++s)this._layers[s].layer.off("add remove",this._onLayerChange,this);this._layers=[],w!==void 0&&(this._baseTree=o(w)),C!==void 0&&(this._overlaysTree=o(C));var f=a(this._baseTree,{});for(var m in f)this._addLayer(f[m],m);var x=a(this._overlaysTree,{},!0);for(var P in x)this._addLayer(x[P],P,!0);return this._map?this._update():this},_localExpand:function(){if(this._map&&y.DomUtil.hasClass(this._container,"leaflet-control-layers-expanded")){var w=this._sect().scrollTop;this.expand(),this._sect().scrollTop=w,this._scrollTop=w}return this},_applyOnTree:function(w,C){var k=[{cls:this.cls.children,hide:C},{cls:this.cls.opened,hide:C},{cls:this.cls.closed,hide:!C}];k.forEach(function(a){for(var o=w.getElementsByClassName(a.cls),s=0;s<o.length;s++){var f=o[s];y.DomUtil.hasClass(f,this.cls.childrenNopad)||(a.hide?y.DomUtil.addClass(f,this.cls.hide):y.DomUtil.removeClass(f,this.cls.hide))}},this)},_addItem:function(w){},_update:function(){return this._container?(y.Control.Layers.prototype._update.call(this),this._addTreeLayout(this._baseTree,!1),this._addTreeLayout(this._overlaysTree,!0),this._localExpand()):this},_addTreeLayout:function(w,C){if(w){var k=C?this._overlaysList:this._baseLayersList;this._expandCollapseAll(C,this.options.collapseAll,this.collapseTree),this._expandCollapseAll(C,this.options.expandAll,this.expandTree),this._iterateTreeLayout(w,k,C,[],w.noShow),this._checkDisabledLayers&&this._checkDisabledLayers()}},_expandCollapseAll:function(w,C,k,a){var o=w?this._overlaysList:this._baseLayersList;if(a=a||this,C){var s=document.createElement("div");s.className="leaflet-layerstree-expand-collapse",o.appendChild(s),s.innerHTML=C,s.tabIndex=0,y.DomEvent.on(s,"click keydown",function(f){(f.type!=="keydown"||f.keyCode===32)&&(s.blur(),k.call(a,w),this._localExpand())},this)}},_iterateTreeLayout:function(w,C,k,a,o){if(!w)return;function s(zt,Mt,Dt,nt){var ee=y.DomUtil.create(zt,Mt,Dt);return nt&&(ee.innerHTML=nt),ee}var f=s("div",this.cls.header,C),m=s("span"),x=s("span"),P=s("span",this.cls.closed,m,this.options.closedSymbol),M=s("span",this.cls.opened,m,this.options.openedSymbol),B=s("span",this.cls.space,null,this.options.spaceSymbol);this.options.selectorBack?(m.insertBefore(B,P),f.appendChild(x),f.appendChild(m)):(m.appendChild(B),f.appendChild(m),f.appendChild(x));function F(zt){var Mt=zt.querySelector("input[type=checkbox]"),Dt=!0,nt=!0,ee=zt.querySelectorAll("input[type=checkbox]");[].forEach.call(ee,function(rt){rt===Mt||(rt.indeterminate?(Dt=!1,nt=!1):rt.checked?nt=!1:rt.checked||(Dt=!1))}),Dt?(Mt.indeterminate=!1,Mt.checked=!0):nt?(Mt.indeterminate=!1,Mt.checked=!1):(Mt.indeterminate=!0,Mt.checked=!1)}function j(zt,Mt){a.forEach(function(Dt){y.DomEvent.on(zt,"click",function(nt){F(Dt)},Mt)},Mt)}var H;w.selectAllCheckbox&&(H=this._createCheckboxElement(!1),H.className+=" "+this.cls.selAllCheckbox);var ut=this.cls.hide;if(w.children){var V=s("div",this.cls.children,C),wt=w.layer?m:f;y.DomUtil.addClass(wt,this.cls.pointer),wt.tabIndex=0,y.DomEvent.on(wt,"click keydown",function(zt){this._preventClick||zt.type==="keydown"&&zt.keyCode!==32||(wt.blur(),y.DomUtil.hasClass(M,ut)?(y.DomUtil.addClass(P,ut),y.DomUtil.removeClass(M,ut),y.DomUtil.removeClass(V,ut)):(y.DomUtil.removeClass(P,ut),y.DomUtil.addClass(M,ut),y.DomUtil.addClass(V,ut)),this._localExpand())},this),H&&a.splice(0,0,C),w.children.forEach(function(zt){var Mt=s("div",this.cls.node,V);this._iterateTreeLayout(zt,Mt,k,a)},this),H&&a.splice(0,1)}else y.DomUtil.addClass(m,this.cls.neverShow);var bt;w.layer&&(this.options.labelIsSelector==="both"||k&&this.options.labelIsSelector==="overlay"||!k&&this.options.labelIsSelector==="base")?bt="label":bt="span";var It=s(bt,this.cls.label,x);if(w.layer){var Yt=this._map.hasLayer(w.layer),ue,c=k?w.radioGroup:"leaflet-base-layers_"+y.Util.stamp(this);c?ue=this._createRadioElement(c,Yt):(ue=this._createCheckboxElement(Yt),j(ue,this)),this._layerControlInputs&&this._layerControlInputs.push(ue),ue.layerId=y.Util.stamp(w.layer),y.DomEvent.on(ue,"click",this._onInputClick,this),It.appendChild(ue)}function ci(zt){return typeof zt=="string"||zt instanceof String}function Et(zt){return zt&&{}.toString.call(zt)==="[object Function]"}function Mi(zt,Mt){for(var Dt=C.getElementsByTagName("input"),nt=0;nt<Dt.length;nt++){var ee=Dt[nt];ee.type==="checkbox"&&(ee.checked=zt,ee.indeterminate=!1)}Mt._onInputClick()}w.selectAllCheckbox&&(It.appendChild(H),ci(w.selectAllCheckbox)&&(H.title=w.selectAllCheckbox),y.DomEvent.on(H,"click",function(zt){zt.stopPropagation(),Mi(H.checked,this)},this),F(C),j(H,this)),s("span",this.cls.name,It,w.label),y.DomUtil.addClass(w.collapsed?M:P,ut),w.collapsed&&V&&y.DomUtil.addClass(V,ut),o&&(y.DomUtil.addClass(f,this.cls.neverShow),y.DomUtil.addClass(V,this.cls.childrenNopad));var Ut=w.eventedClasses;Ut instanceof Array||(Ut=[Ut]);for(var Qt=0;Qt<Ut.length;Qt++){var xt=Ut[Qt];if(xt&&xt.className){var te=C.querySelector("."+xt.className);te&&y.DomEvent.on(te,xt.event||"click",function(zt){return function(Mt){Mt.stopPropagation();var Dt=Et(zt)?zt(Mt,C,w,this._map):zt;Dt!=null&&Mi(Dt,this)}}(xt.selectAll),this)}}},_createCheckboxElement:function(w){var C=document.createElement("input");return C.type="checkbox",C.className="leaflet-control-layers-selector",C.defaultChecked=w,C}}),y.control.layers.tree=function(w,C,k){return new y.Control.Layers.Tree(w,C,k)}})(L);function Vt(y,w,C,k,a){let o,s,f;switch(k){case"top":o="absolute top-16 centrear-w-absolute !w-10/12 sm:!w-1/2";break;case"bottom":o="absolute bottom-24 centrear-w-absolute !w-10/12 sm:!w-1/2";break;case"center":o="absolute centrearXY !w-10/12 sm:!w-1/2";break;default:o=""}switch(a){case"success":s="alert-success",f='<svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>';break;case"warning":s="alert-warning",f='<svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" /></svg>';break;case"error":s="alert-error",f='<svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>';break;default:s="",f=""}const m=document.createElement("div");m.id=y,m.innerHTML=`
      <div role="alert" class="alert w-1/2 ${s} z-[1500] ${o}">
        ${f}
        <span>${C}</span>
      </div>`,document.getElementById(w)?document.getElementById(w).appendChild(m):document.body.appendChild(m),setTimeout(()=>{m.remove()},5e3)}var Zn={exports:{}},Jr=Zn.exports,fr;function Qr(){return fr||(fr=1,function(y,w){(function(C,k){k(w)})(Jr,function(C){var k=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(o){L.Util.setOptions(this,o),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var s=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,s?this._withAnimation:this._noAnimation),this._markerCluster=s?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(o){if(o instanceof L.LayerGroup)return this.addLayers([o]);if(!o.getLatLng)return this._nonPointGroup.addLayer(o),this.fire("layeradd",{layer:o}),this;if(!this._map)return this._needsClustering.push(o),this.fire("layeradd",{layer:o}),this;if(this.hasLayer(o))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(o,this._maxZoom),this.fire("layeradd",{layer:o}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var s=o,f=this._zoom;if(o.__parent)for(;s.__parent._zoom>=f;)s=s.__parent;return this._currentShownBounds.contains(s.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(o,s):this._animationAddLayerNonAnimated(o,s)),this},removeLayer:function(o){return o instanceof L.LayerGroup?this.removeLayers([o]):o.getLatLng?this._map?o.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(o)),this._removeLayer(o,!0),this.fire("layerremove",{layer:o}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),o.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(o)&&(this._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,o)&&this.hasLayer(o)&&this._needsRemoving.push({layer:o,latlng:o._latlng}),this.fire("layerremove",{layer:o}),this):(this._nonPointGroup.removeLayer(o),this.fire("layerremove",{layer:o}),this)},addLayers:function(o,s){if(!L.Util.isArray(o))return this.addLayer(o);var f=this._featureGroup,m=this._nonPointGroup,x=this.options.chunkedLoading,P=this.options.chunkInterval,M=this.options.chunkProgress,B=o.length,F=0,j=!0,H;if(this._map){var ut=new Date().getTime(),V=L.bind(function(){var bt=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();F<B;F++){if(x&&F%200===0){var It=new Date().getTime()-bt;if(It>P)break}if(H=o[F],H instanceof L.LayerGroup){j&&(o=o.slice(),j=!1),this._extractNonGroupLayers(H,o),B=o.length;continue}if(!H.getLatLng){m.addLayer(H),s||this.fire("layeradd",{layer:H});continue}if(!this.hasLayer(H)&&(this._addLayer(H,this._maxZoom),s||this.fire("layeradd",{layer:H}),H.__parent&&H.__parent.getChildCount()===2)){var Yt=H.__parent.getAllChildMarkers(),ue=Yt[0]===H?Yt[1]:Yt[0];f.removeLayer(ue)}}M&&M(F,B,new Date().getTime()-ut),F===B?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(V,this.options.chunkDelay)},this);V()}else for(var wt=this._needsClustering;F<B;F++){if(H=o[F],H instanceof L.LayerGroup){j&&(o=o.slice(),j=!1),this._extractNonGroupLayers(H,o),B=o.length;continue}if(!H.getLatLng){m.addLayer(H);continue}this.hasLayer(H)||wt.push(H)}return this},removeLayers:function(o){var s,f,m=o.length,x=this._featureGroup,P=this._nonPointGroup,M=!0;if(!this._map){for(s=0;s<m;s++){if(f=o[s],f instanceof L.LayerGroup){M&&(o=o.slice(),M=!1),this._extractNonGroupLayers(f,o),m=o.length;continue}this._arraySplice(this._needsClustering,f),P.removeLayer(f),this.hasLayer(f)&&this._needsRemoving.push({layer:f,latlng:f._latlng}),this.fire("layerremove",{layer:f})}return this}if(this._unspiderfy){this._unspiderfy();var B=o.slice(),F=m;for(s=0;s<F;s++){if(f=B[s],f instanceof L.LayerGroup){this._extractNonGroupLayers(f,B),F=B.length;continue}this._unspiderfyLayer(f)}}for(s=0;s<m;s++){if(f=o[s],f instanceof L.LayerGroup){M&&(o=o.slice(),M=!1),this._extractNonGroupLayers(f,o),m=o.length;continue}if(!f.__parent){P.removeLayer(f),this.fire("layerremove",{layer:f});continue}this._removeLayer(f,!0,!0),this.fire("layerremove",{layer:f}),x.hasLayer(f)&&(x.removeLayer(f),f.clusterShow&&f.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(o){o.off(this._childMarkerEventHandlers,this),delete o.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var o=new L.LatLngBounds;this._topClusterLevel&&o.extend(this._topClusterLevel._bounds);for(var s=this._needsClustering.length-1;s>=0;s--)o.extend(this._needsClustering[s].getLatLng());return o.extend(this._nonPointGroup.getBounds()),o},eachLayer:function(o,s){var f=this._needsClustering.slice(),m=this._needsRemoving,x,P,M;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(f),P=f.length-1;P>=0;P--){for(x=!0,M=m.length-1;M>=0;M--)if(m[M].layer===f[P]){x=!1;break}x&&o.call(s,f[P])}this._nonPointGroup.eachLayer(o,s)},getLayers:function(){var o=[];return this.eachLayer(function(s){o.push(s)}),o},getLayer:function(o){var s=null;return o=parseInt(o,10),this.eachLayer(function(f){L.stamp(f)===o&&(s=f)}),s},hasLayer:function(o){if(!o)return!1;var s,f=this._needsClustering;for(s=f.length-1;s>=0;s--)if(f[s]===o)return!0;for(f=this._needsRemoving,s=f.length-1;s>=0;s--)if(f[s].layer===o)return!1;return!!(o.__parent&&o.__parent._group===this)||this._nonPointGroup.hasLayer(o)},zoomToShowLayer:function(o,s){var f=this._map;typeof s!="function"&&(s=function(){});var m=function(){(f.hasLayer(o)||f.hasLayer(o.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",m,this),this.off("animationend",m,this),f.hasLayer(o)?s():o.__parent._icon&&(this.once("spiderfied",s,this),o.__parent.spiderfy()))};o._icon&&this._map.getBounds().contains(o.getLatLng())?s():o.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",m,this),this._map.panTo(o.getLatLng())):(this._map.on("moveend",m,this),this.on("animationend",m,this),o.__parent.zoomToBounds())},onAdd:function(o){this._map=o;var s,f,m;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(o),this._nonPointGroup.addTo(o),this._gridClusters||this._generateInitialClusters(),this._maxLat=o.options.crs.projection.MAX_LATITUDE,s=0,f=this._needsRemoving.length;s<f;s++)m=this._needsRemoving[s],m.newlatlng=m.layer._latlng,m.layer._latlng=m.latlng;for(s=0,f=this._needsRemoving.length;s<f;s++)m=this._needsRemoving[s],this._removeLayer(m.layer,!0),m.layer._latlng=m.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),f=this._needsClustering,this._needsClustering=[],this.addLayers(f,!0)},onRemove:function(o){o.off("zoomend",this._zoomEnd,this),o.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(o){for(var s=o;s&&!s._icon;)s=s.__parent;return s||null},_arraySplice:function(o,s){for(var f=o.length-1;f>=0;f--)if(o[f]===s)return o.splice(f,1),!0},_removeFromGridUnclustered:function(o,s){for(var f=this._map,m=this._gridUnclustered,x=Math.floor(this._map.getMinZoom());s>=x&&m[s].removeObject(o,f.project(o.getLatLng(),s));s--);},_childMarkerDragStart:function(o){o.target.__dragStart=o.target._latlng},_childMarkerMoved:function(o){if(!this._ignoreMove&&!o.target.__dragStart){var s=o.target._popup&&o.target._popup.isOpen();this._moveChild(o.target,o.oldLatLng,o.latlng),s&&o.target.openPopup()}},_moveChild:function(o,s,f){o._latlng=s,this.removeLayer(o),o._latlng=f,this.addLayer(o)},_childMarkerDragEnd:function(o){var s=o.target.__dragStart;delete o.target.__dragStart,s&&this._moveChild(o.target,s,o.target._latlng)},_removeLayer:function(o,s,f){var m=this._gridClusters,x=this._gridUnclustered,P=this._featureGroup,M=this._map,B=Math.floor(this._map.getMinZoom());s&&this._removeFromGridUnclustered(o,this._maxZoom);var F=o.__parent,j=F._markers,H;for(this._arraySplice(j,o);F&&(F._childCount--,F._boundsNeedUpdate=!0,!(F._zoom<B));)s&&F._childCount<=1?(H=F._markers[0]===o?F._markers[1]:F._markers[0],m[F._zoom].removeObject(F,M.project(F._cLatLng,F._zoom)),x[F._zoom].addObject(H,M.project(H.getLatLng(),F._zoom)),this._arraySplice(F.__parent._childClusters,F),F.__parent._markers.push(H),H.__parent=F.__parent,F._icon&&(P.removeLayer(F),f||P.addLayer(H))):F._iconNeedsUpdate=!0,F=F.__parent;delete o.__parent},_isOrIsParent:function(o,s){for(;s;){if(o===s)return!0;s=s.parentNode}return!1},fire:function(o,s,f){if(s&&s.layer instanceof L.MarkerCluster){if(s.originalEvent&&this._isOrIsParent(s.layer._icon,s.originalEvent.relatedTarget))return;o="cluster"+o}L.FeatureGroup.prototype.fire.call(this,o,s,f)},listens:function(o,s){return L.FeatureGroup.prototype.listens.call(this,o,s)||L.FeatureGroup.prototype.listens.call(this,"cluster"+o,s)},_defaultIconCreateFunction:function(o){var s=o.getChildCount(),f=" marker-cluster-";return s<10?f+="small":s<100?f+="medium":f+="large",new L.DivIcon({html:"<div><span>"+s+"</span></div>",className:"marker-cluster"+f,iconSize:new L.Point(40,40)})},_bindEvents:function(){var o=this._map,s=this.options.spiderfyOnMaxZoom,f=this.options.showCoverageOnHover,m=this.options.zoomToBoundsOnClick,x=this.options.spiderfyOnEveryZoom;(s||m||x)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),f&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),o.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(o){var s=o.layer,f=s;if(!(o.type==="clusterkeypress"&&o.originalEvent&&o.originalEvent.keyCode!==13)){for(;f._childClusters.length===1;)f=f._childClusters[0];f._zoom===this._maxZoom&&f._childCount===s._childCount&&this.options.spiderfyOnMaxZoom?s.spiderfy():this.options.zoomToBoundsOnClick&&s.zoomToBounds(),this.options.spiderfyOnEveryZoom&&s.spiderfy(),o.originalEvent&&o.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(o){var s=this._map;this._inZoomAnimation||(this._shownPolygon&&s.removeLayer(this._shownPolygon),o.layer.getChildCount()>2&&o.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(o.layer.getConvexHull(),this.options.polygonOptions),s.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var o=this.options.spiderfyOnMaxZoom,s=this.options.showCoverageOnHover,f=this.options.zoomToBoundsOnClick,m=this.options.spiderfyOnEveryZoom,x=this._map;(o||f||m)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),s&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),x.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var o=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,o),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),o),this._currentShownBounds=o}},_generateInitialClusters:function(){var o=Math.ceil(this._map.getMaxZoom()),s=Math.floor(this._map.getMinZoom()),f=this.options.maxClusterRadius,m=f;typeof f!="function"&&(m=function(){return f}),this.options.disableClusteringAtZoom!==null&&(o=this.options.disableClusteringAtZoom-1),this._maxZoom=o,this._gridClusters={},this._gridUnclustered={};for(var x=o;x>=s;x--)this._gridClusters[x]=new L.DistanceGrid(m(x)),this._gridUnclustered[x]=new L.DistanceGrid(m(x));this._topClusterLevel=new this._markerCluster(this,s-1)},_addLayer:function(o,s){var f=this._gridClusters,m=this._gridUnclustered,x=Math.floor(this._map.getMinZoom()),P,M;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(o),o.on(this._childMarkerEventHandlers,this);s>=x;s--){P=this._map.project(o.getLatLng(),s);var B=f[s].getNearObject(P);if(B){B._addChild(o),o.__parent=B;return}if(B=m[s].getNearObject(P),B){var F=B.__parent;F&&this._removeLayer(B,!1);var j=new this._markerCluster(this,s,B,o);f[s].addObject(j,this._map.project(j._cLatLng,s)),B.__parent=j,o.__parent=j;var H=j;for(M=s-1;M>F._zoom;M--)H=new this._markerCluster(this,M,H),f[M].addObject(H,this._map.project(B.getLatLng(),M));F._addChild(H),this._removeFromGridUnclustered(B,s);return}m[s].addObject(o,P)}this._topClusterLevel._addChild(o),o.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(o){o instanceof L.MarkerCluster&&o._iconNeedsUpdate&&o._updateIcon()})},_enqueue:function(o){this._queue.push(o),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var o=0;o<this._queue.length;o++)this._queue[o].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var o=Math.round(this._map._zoom);this._processQueue(),this._zoom<o&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,o)):this._zoom>o?(this._animationStart(),this._animationZoomOut(this._zoom,o)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(o){var s=this._maxLat;return s!==void 0&&(o.getNorth()>=s&&(o._northEast.lat=1/0),o.getSouth()<=-s&&(o._southWest.lat=-1/0)),o},_animationAddLayerNonAnimated:function(o,s){if(s===o)this._featureGroup.addLayer(o);else if(s._childCount===2){s._addToMap();var f=s.getAllChildMarkers();this._featureGroup.removeLayer(f[0]),this._featureGroup.removeLayer(f[1])}else s._updateIcon()},_extractNonGroupLayers:function(o,s){var f=o.getLayers(),m=0,x;for(s=s||[];m<f.length;m++){if(x=f[m],x instanceof L.LayerGroup){this._extractNonGroupLayers(x,s);continue}s.push(x)}return s},_overrideMarkerIcon:function(o){var s=o.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[o]}});return s}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(o,s){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o),this._topClusterLevel._recursivelyAddChildrenToMap(null,s,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(o,s){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o),this._topClusterLevel._recursivelyAddChildrenToMap(null,s,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(o,s){this._animationAddLayerNonAnimated(o,s)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(o,s){var f=this._getExpandedVisibleBounds(),m=this._featureGroup,x=Math.floor(this._map.getMinZoom()),P;this._ignoreMove=!0,this._topClusterLevel._recursively(f,o,x,function(M){var B=M._latlng,F=M._markers,j;for(f.contains(B)||(B=null),M._isSingleParent()&&o+1===s?(m.removeLayer(M),M._recursivelyAddChildrenToMap(null,s,f)):(M.clusterHide(),M._recursivelyAddChildrenToMap(B,s,f)),P=F.length-1;P>=0;P--)j=F[P],f.contains(j._latlng)||m.removeLayer(j)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(f,s),m.eachLayer(function(M){!(M instanceof L.MarkerCluster)&&M._icon&&M.clusterShow()}),this._topClusterLevel._recursively(f,o,s,function(M){M._recursivelyRestoreChildPositions(s)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(f,o,x,function(M){m.removeLayer(M),M.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(o,s){this._animationZoomOutSingle(this._topClusterLevel,o-1,s),this._topClusterLevel._recursivelyAddChildrenToMap(null,s,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o,this._getExpandedVisibleBounds())},_animationAddLayer:function(o,s){var f=this,m=this._featureGroup;m.addLayer(o),s!==o&&(s._childCount>2?(s._updateIcon(),this._forceLayout(),this._animationStart(),o._setPos(this._map.latLngToLayerPoint(s.getLatLng())),o.clusterHide(),this._enqueue(function(){m.removeLayer(o),o.clusterShow(),f._animationEnd()})):(this._forceLayout(),f._animationStart(),f._animationZoomOutSingle(s,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(o,s,f){var m=this._getExpandedVisibleBounds(),x=Math.floor(this._map.getMinZoom());o._recursivelyAnimateChildrenInAndAddSelfToMap(m,x,s+1,f);var P=this;this._forceLayout(),o._recursivelyBecomeVisible(m,f),this._enqueue(function(){if(o._childCount===1){var M=o._markers[0];this._ignoreMove=!0,M.setLatLng(M.getLatLng()),this._ignoreMove=!1,M.clusterShow&&M.clusterShow()}else o._recursively(m,f,x,function(B){B._recursivelyRemoveChildrenFromMap(m,x,s+1)});P._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(o){return new L.MarkerClusterGroup(o)};var a=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(o,s,f,m){L.Marker.prototype.initialize.call(this,f?f._cLatLng||f.getLatLng():new L.LatLng(0,0),{icon:this,pane:o.options.clusterPane}),this._group=o,this._zoom=s,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,f&&this._addChild(f),m&&this._addChild(m)},getAllChildMarkers:function(o,s){o=o||[];for(var f=this._childClusters.length-1;f>=0;f--)this._childClusters[f].getAllChildMarkers(o,s);for(var m=this._markers.length-1;m>=0;m--)s&&this._markers[m].__dragStart||o.push(this._markers[m]);return o},getChildCount:function(){return this._childCount},zoomToBounds:function(o){for(var s=this._childClusters.slice(),f=this._group._map,m=f.getBoundsZoom(this._bounds),x=this._zoom+1,P=f.getZoom(),M;s.length>0&&m>x;){x++;var B=[];for(M=0;M<s.length;M++)B=B.concat(s[M]._childClusters);s=B}m>x?this._group._map.setView(this._latlng,x):m<=P?this._group._map.setView(this._latlng,P+1):this._group._map.fitBounds(this._bounds,o)},getBounds:function(){var o=new L.LatLngBounds;return o.extend(this._bounds),o},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(o,s){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(o),o instanceof L.MarkerCluster?(s||(this._childClusters.push(o),o.__parent=this),this._childCount+=o._childCount):(s||this._markers.push(o),this._childCount++),this.__parent&&this.__parent._addChild(o,!0)},_setClusterCenter:function(o){this._cLatLng||(this._cLatLng=o._cLatLng||o._latlng)},_resetBounds:function(){var o=this._bounds;o._southWest&&(o._southWest.lat=1/0,o._southWest.lng=1/0),o._northEast&&(o._northEast.lat=-1/0,o._northEast.lng=-1/0)},_recalculateBounds:function(){var o=this._markers,s=this._childClusters,f=0,m=0,x=this._childCount,P,M,B,F;if(x!==0){for(this._resetBounds(),P=0;P<o.length;P++)B=o[P]._latlng,this._bounds.extend(B),f+=B.lat,m+=B.lng;for(P=0;P<s.length;P++)M=s[P],M._boundsNeedUpdate&&M._recalculateBounds(),this._bounds.extend(M._bounds),B=M._wLatLng,F=M._childCount,f+=B.lat*F,m+=B.lng*F;this._latlng=this._wLatLng=new L.LatLng(f/x,m/x),this._boundsNeedUpdate=!1}},_addToMap:function(o){o&&(this._backupLatlng=this._latlng,this.setLatLng(o)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(o,s,f){this._recursively(o,this._group._map.getMinZoom(),f-1,function(m){var x=m._markers,P,M;for(P=x.length-1;P>=0;P--)M=x[P],M._icon&&(M._setPos(s),M.clusterHide())},function(m){var x=m._childClusters,P,M;for(P=x.length-1;P>=0;P--)M=x[P],M._icon&&(M._setPos(s),M.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(o,s,f,m){this._recursively(o,m,s,function(x){x._recursivelyAnimateChildrenIn(o,x._group._map.latLngToLayerPoint(x.getLatLng()).round(),f),x._isSingleParent()&&f-1===m?(x.clusterShow(),x._recursivelyRemoveChildrenFromMap(o,s,f)):x.clusterHide(),x._addToMap()})},_recursivelyBecomeVisible:function(o,s){this._recursively(o,this._group._map.getMinZoom(),s,null,function(f){f.clusterShow()})},_recursivelyAddChildrenToMap:function(o,s,f){this._recursively(f,this._group._map.getMinZoom()-1,s,function(m){if(s!==m._zoom)for(var x=m._markers.length-1;x>=0;x--){var P=m._markers[x];f.contains(P._latlng)&&(o&&(P._backupLatlng=P.getLatLng(),P.setLatLng(o),P.clusterHide&&P.clusterHide()),m._group._featureGroup.addLayer(P))}},function(m){m._addToMap(o)})},_recursivelyRestoreChildPositions:function(o){for(var s=this._markers.length-1;s>=0;s--){var f=this._markers[s];f._backupLatlng&&(f.setLatLng(f._backupLatlng),delete f._backupLatlng)}if(o-1===this._zoom)for(var m=this._childClusters.length-1;m>=0;m--)this._childClusters[m]._restorePosition();else for(var x=this._childClusters.length-1;x>=0;x--)this._childClusters[x]._recursivelyRestoreChildPositions(o)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(o,s,f,m){var x,P;this._recursively(o,s-1,f-1,function(M){for(P=M._markers.length-1;P>=0;P--)x=M._markers[P],(!m||!m.contains(x._latlng))&&(M._group._featureGroup.removeLayer(x),x.clusterShow&&x.clusterShow())},function(M){for(P=M._childClusters.length-1;P>=0;P--)x=M._childClusters[P],(!m||!m.contains(x._latlng))&&(M._group._featureGroup.removeLayer(x),x.clusterShow&&x.clusterShow())})},_recursively:function(o,s,f,m,x){var P=this._childClusters,M=this._zoom,B,F;if(s<=M&&(m&&m(this),x&&M===f&&x(this)),M<s||M<f)for(B=P.length-1;B>=0;B--)F=P[B],F._boundsNeedUpdate&&F._recalculateBounds(),o.intersects(F._bounds)&&F._recursively(o,s,f,m,x)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var o=this.options.opacity;return this.setOpacity(0),this.options.opacity=o,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(o){this._cellSize=o,this._sqCellSize=o*o,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(o,s){var f=this._getCoord(s.x),m=this._getCoord(s.y),x=this._grid,P=x[m]=x[m]||{},M=P[f]=P[f]||[],B=L.Util.stamp(o);this._objectPoint[B]=s,M.push(o)},updateObject:function(o,s){this.removeObject(o),this.addObject(o,s)},removeObject:function(o,s){var f=this._getCoord(s.x),m=this._getCoord(s.y),x=this._grid,P=x[m]=x[m]||{},M=P[f]=P[f]||[],B,F;for(delete this._objectPoint[L.Util.stamp(o)],B=0,F=M.length;B<F;B++)if(M[B]===o)return M.splice(B,1),F===1&&delete P[f],!0},eachObject:function(o,s){var f,m,x,P,M,B,F,j=this._grid;for(f in j){M=j[f];for(m in M)for(B=M[m],x=0,P=B.length;x<P;x++)F=o.call(s,B[x]),F&&(x--,P--)}},getNearObject:function(o){var s=this._getCoord(o.x),f=this._getCoord(o.y),m,x,P,M,B,F,j,H,ut=this._objectPoint,V=this._sqCellSize,wt=null;for(m=f-1;m<=f+1;m++)if(M=this._grid[m],M){for(x=s-1;x<=s+1;x++)if(B=M[x],B)for(P=0,F=B.length;P<F;P++)j=B[P],H=this._sqDist(ut[L.Util.stamp(j)],o),(H<V||H<=V&&wt===null)&&(V=H,wt=j)}return wt},_getCoord:function(o){var s=Math.floor(o/this._cellSize);return isFinite(s)?s:o},_sqDist:function(o,s){var f=s.x-o.x,m=s.y-o.y;return f*f+m*m}},function(){L.QuickHull={getDistant:function(o,s){var f=s[1].lat-s[0].lat,m=s[0].lng-s[1].lng;return m*(o.lat-s[0].lat)+f*(o.lng-s[0].lng)},findMostDistantPointFromBaseLine:function(o,s){var f=0,m=null,x=[],P,M,B;for(P=s.length-1;P>=0;P--){if(M=s[P],B=this.getDistant(M,o),B>0)x.push(M);else continue;B>f&&(f=B,m=M)}return{maxPoint:m,newPoints:x}},buildConvexHull:function(o,s){var f=[],m=this.findMostDistantPointFromBaseLine(o,s);return m.maxPoint?(f=f.concat(this.buildConvexHull([o[0],m.maxPoint],m.newPoints)),f=f.concat(this.buildConvexHull([m.maxPoint,o[1]],m.newPoints)),f):[o[0]]},getConvexHull:function(o){var s=!1,f=!1,m=!1,x=!1,P=null,M=null,B=null,F=null,j=null,H=null,ut;for(ut=o.length-1;ut>=0;ut--){var V=o[ut];(s===!1||V.lat>s)&&(P=V,s=V.lat),(f===!1||V.lat<f)&&(M=V,f=V.lat),(m===!1||V.lng>m)&&(B=V,m=V.lng),(x===!1||V.lng<x)&&(F=V,x=V.lng)}f!==s?(H=M,j=P):(H=F,j=B);var wt=[].concat(this.buildConvexHull([H,j],o),this.buildConvexHull([j,H],o));return wt}}}(),L.MarkerCluster.include({getConvexHull:function(){var o=this.getAllChildMarkers(),s=[],f,m;for(m=o.length-1;m>=0;m--)f=o[m].getLatLng(),s.push(f);return L.QuickHull.getConvexHull(s)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var o=this.getAllChildMarkers(null,!0),s=this._group,f=s._map,m=f.latLngToLayerPoint(this._latlng),x;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?x=this._group.options.spiderfyShapePositions(o.length,m):o.length>=this._circleSpiralSwitchover?x=this._generatePointsSpiral(o.length,m):(m.y+=10,x=this._generatePointsCircle(o.length,m)),this._animationSpiderfy(o,x)}},unspiderfy:function(o){this._group._inZoomAnimation||(this._animationUnspiderfy(o),this._group._spiderfied=null)},_generatePointsCircle:function(o,s){var f=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+o),m=f/this._2PI,x=this._2PI/o,P=[],M,B;for(m=Math.max(m,35),P.length=o,M=0;M<o;M++)B=this._circleStartAngle+M*x,P[M]=new L.Point(s.x+m*Math.cos(B),s.y+m*Math.sin(B))._round();return P},_generatePointsSpiral:function(o,s){var f=this._group.options.spiderfyDistanceMultiplier,m=f*this._spiralLengthStart,x=f*this._spiralFootSeparation,P=f*this._spiralLengthFactor*this._2PI,M=0,B=[],F;for(B.length=o,F=o;F>=0;F--)F<o&&(B[F]=new L.Point(s.x+m*Math.cos(M),s.y+m*Math.sin(M))._round()),M+=x/m+F*5e-4,m+=P/M;return B},_noanimationUnspiderfy:function(){var o=this._group,s=o._map,f=o._featureGroup,m=this.getAllChildMarkers(null,!0),x,P;for(o._ignoreMove=!0,this.setOpacity(1),P=m.length-1;P>=0;P--)x=m[P],f.removeLayer(x),x._preSpiderfyLatlng&&(x.setLatLng(x._preSpiderfyLatlng),delete x._preSpiderfyLatlng),x.setZIndexOffset&&x.setZIndexOffset(0),x._spiderLeg&&(s.removeLayer(x._spiderLeg),delete x._spiderLeg);o.fire("unspiderfied",{cluster:this,markers:m}),o._ignoreMove=!1,o._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(o,s){var f=this._group,m=f._map,x=f._featureGroup,P=this._group.options.spiderLegPolylineOptions,M,B,F,j;for(f._ignoreMove=!0,M=0;M<o.length;M++)j=m.layerPointToLatLng(s[M]),B=o[M],F=new L.Polyline([this._latlng,j],P),m.addLayer(F),B._spiderLeg=F,B._preSpiderfyLatlng=B._latlng,B.setLatLng(j),B.setZIndexOffset&&B.setZIndexOffset(1e6),x.addLayer(B);this.setOpacity(.3),f._ignoreMove=!1,f.fire("spiderfied",{cluster:this,markers:o})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(o,s){var f=this,m=this._group,x=m._map,P=m._featureGroup,M=this._latlng,B=x.latLngToLayerPoint(M),F=L.Path.SVG,j=L.extend({},this._group.options.spiderLegPolylineOptions),H=j.opacity,ut,V,wt,bt,It,Yt;for(H===void 0&&(H=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),F?(j.opacity=0,j.className=(j.className||"")+" leaflet-cluster-spider-leg"):j.opacity=H,m._ignoreMove=!0,ut=0;ut<o.length;ut++)V=o[ut],Yt=x.layerPointToLatLng(s[ut]),wt=new L.Polyline([M,Yt],j),x.addLayer(wt),V._spiderLeg=wt,F&&(bt=wt._path,It=bt.getTotalLength()+.1,bt.style.strokeDasharray=It,bt.style.strokeDashoffset=It),V.setZIndexOffset&&V.setZIndexOffset(1e6),V.clusterHide&&V.clusterHide(),P.addLayer(V),V._setPos&&V._setPos(B);for(m._forceLayout(),m._animationStart(),ut=o.length-1;ut>=0;ut--)Yt=x.layerPointToLatLng(s[ut]),V=o[ut],V._preSpiderfyLatlng=V._latlng,V.setLatLng(Yt),V.clusterShow&&V.clusterShow(),F&&(wt=V._spiderLeg,bt=wt._path,bt.style.strokeDashoffset=0,wt.setStyle({opacity:H}));this.setOpacity(.3),m._ignoreMove=!1,setTimeout(function(){m._animationEnd(),m.fire("spiderfied",{cluster:f,markers:o})},200)},_animationUnspiderfy:function(o){var s=this,f=this._group,m=f._map,x=f._featureGroup,P=o?m._latLngToNewLayerPoint(this._latlng,o.zoom,o.center):m.latLngToLayerPoint(this._latlng),M=this.getAllChildMarkers(null,!0),B=L.Path.SVG,F,j,H,ut,V,wt;for(f._ignoreMove=!0,f._animationStart(),this.setOpacity(1),j=M.length-1;j>=0;j--)F=M[j],F._preSpiderfyLatlng&&(F.closePopup(),F.setLatLng(F._preSpiderfyLatlng),delete F._preSpiderfyLatlng,wt=!0,F._setPos&&(F._setPos(P),wt=!1),F.clusterHide&&(F.clusterHide(),wt=!1),wt&&x.removeLayer(F),B&&(H=F._spiderLeg,ut=H._path,V=ut.getTotalLength()+.1,ut.style.strokeDashoffset=V,H.setStyle({opacity:0})));f._ignoreMove=!1,setTimeout(function(){var bt=0;for(j=M.length-1;j>=0;j--)F=M[j],F._spiderLeg&&bt++;for(j=M.length-1;j>=0;j--)F=M[j],F._spiderLeg&&(F.clusterShow&&F.clusterShow(),F.setZIndexOffset&&F.setZIndexOffset(0),bt>1&&x.removeLayer(F),m.removeLayer(F._spiderLeg),delete F._spiderLeg);f._animationEnd(),f.fire("unspiderfied",{cluster:s,markers:M})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(o){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(o))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(o){this._spiderfied&&this._spiderfied.unspiderfy(o)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(o){o._spiderLeg&&(this._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow(),o.setZIndexOffset&&o.setZIndexOffset(0),this._map.removeLayer(o._spiderLeg),delete o._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(o){return o?o instanceof L.MarkerClusterGroup?o=o._topClusterLevel.getAllChildMarkers():o instanceof L.LayerGroup?o=o._layers:o instanceof L.MarkerCluster?o=o.getAllChildMarkers():o instanceof L.Marker&&(o=[o]):o=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(o),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(o),this},_flagParentsIconsNeedUpdate:function(o){var s,f;for(s in o)for(f=o[s].__parent;f;)f._iconNeedsUpdate=!0,f=f.__parent},_refreshSingleMarkerModeMarkers:function(o){var s,f;for(s in o)f=o[s],this.hasLayer(f)&&f.setIcon(this._overrideMarkerIcon(f))}}),L.Marker.include({refreshIconOptions:function(o,s){var f=this.options.icon;return L.setOptions(f,o),this.setIcon(f),s&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),C.MarkerClusterGroup=k,C.MarkerCluster=a,Object.defineProperty(C,"__esModule",{value:!0})})}(Zn,Zn.exports)),Zn.exports}Qr();let ts=[],es=[],is=[],ns=[],os=[],rs=[],ss=[],as=[],ls=[],hs=[];const us=["#ffff00","#fba657","#4ade80","#52b551","#ff0000","#00ffff","#50dbff","#5eb9fc","#6199ee","#808080","black"],cs="/api/v1/clientes/";let ds=Q.layerGroup(),fs=Q.layerGroup(),ps=Q.layerGroup(),_s=Q.layerGroup(),ms=Q.layerGroup(),gs=Q.layerGroup(),vs=Q.layerGroup(),ys=Q.layerGroup(),Ls=Q.layerGroup(),ws=Q.layerGroup(),xr=Q.layerGroup(),Cr=Q.layerGroup(),kr=Q.layerGroup(),bs=Q.layerGroup(),Fo=[ds,fs,ps,_s,ms,gs,vs,ys,Ls,ws,bs],xs=[xr,Cr,kr];var Cs=function(y){return{fillColor:us[y],radius:8,stroke:!0,color:"black",weight:2,opacity:1,fillOpacity:1}};async function Tr(){const y=await fetch(cs).then(k=>k.json()).then(k=>k).catch(k=>{throw console.error("Error:",k),k});let w,C;return y.forEach(k=>{switch(w=k.cost/100,w<=3?w=0:w<5?(w=Math.round(w*2)/2,w=w<=3.5?1:w===4?2:3):w<10?w=Math.trunc(w)-1:w=9,w){case 0:ts.push([k.lat,k.lon,k.cost,k.status,k.user,k.tel1,k.name,k.created_at]);break;case 1:es.push([k.lat,k.lon,k.cost,k.status,k.user,k.tel1,k.name,k.created_at]);break;case 2:is.push([k.lat,k.lon,k.cost,k.status,k.user,k.tel1,k.name,k.created_at]);break;case 3:ns.push([k.lat,k.lon,k.cost,k.status,k.user,k.tel1,k.name,k.created_at]);break;case 4:os.push([k.lat,k.lon,k.cost,k.status,k.user,k.tel1,k.name,k.created_at]);break;case 5:rs.push([k.lat,k.lon,k.cost,k.status,k.user,k.tel1,k.name,k.created_at]);break;case 6:ss.push([k.lat,k.lon,k.cost,k.status,k.user,k.tel1,k.name,k.created_at]);break;case 7:as.push([k.lat,k.lon,k.cost,k.status,k.user,k.tel1,k.name,k.created_at]);break;case 8:ls.push([k.lat,k.lon,k.cost,k.status,k.user,k.tel1,k.name,k.created_at]);break;default:hs.push([k.lat,k.lon,k.cost,k.status,k.user,k.tel1,k.name,k.created_at])}k.tel1&&k.tel1.toString();let a=ks(k.created_at.toString()),o={...Cs(w),time:a};C=Q.circleMarker([k.lat,k.lon],o);let s=new Date(k.created_at);const f=`${s.getDate().toString().padStart(2,"0")}/${(s.getMonth()+1).toString().padStart(2,"0")}/${s.getFullYear()}`,m=`
      <strong>Precio:</strong> ${k.cost} Bs.<br>
      ${k.tel1?`<strong>Nombre:</strong> ${k.name}<br>`:""}
      ${k.tel1?`<strong>Telefono:</strong> ${k.tel1}<br>`:""}
      <em>${f}</em>
      `;C.bindPopup(m),k.status=="COT"?(k.user=="ADM"&&C.addTo(xr),k.user=="CLC"?C.addTo(Cr):C.addTo(kr)):k.status=="EJE"?C.addTo(Fo[w]):C.addTo(Fo[10])}),{groupEje:Fo,groupCot:xs}}function ks(y){const w=new Date(y),C=w.getFullYear(),k=(w.getMonth()+1).toString().padStart(2,"0"),a=w.getDate().toString().padStart(2,"0");return`${C}-${k}-${a}`}var bo={exports:{}};/*!
 Leaflet.MarkerCluster.LayerSupport 2.0.1+649b3a9
 (c) 2015-2018 Boris Seang
 License MIT
 */var Ts=bo.exports,pr;function Ms(){return pr||(pr=1,function(y){(function(w,C){C(y.exports?wr():w.L)})(Ts,function(w,C){w.MarkerClusterGroup.LayerSupport=w.MarkerClusterGroup.extend({options:{singleAddRemoveBufferDuration:0},initialize:function(s){w.MarkerClusterGroup.prototype.initialize.call(this,s),this._featureGroup=new k,this._featureGroup.addEventParent(this),this._nonPointGroup=new k,this._nonPointGroup.addEventParent(this),this._layers={},this._proxyLayerGroups={},this._proxyLayerGroupsNeedRemoving={},this._singleAddRemoveBuffer=[]},checkIn:function(s){var f=this._toArray(s);return this._checkInGetSeparated(f),this},checkOut:function(s){var f,m,x=this._toArray(s),P=this._separateSingleFromGroupLayers(x,{groups:[],singles:[]}),M=P.groups,B=P.singles;for(f=0;f<B.length;f++)m=B[f],delete this._layers[w.stamp(m)],delete m._mcgLayerSupportGroup;for(this._originalRemoveLayers(B),f=0;f<M.length;f++)m=M[f],this._dismissProxyLayerGroup(m);return this},addLayers:function(s){var f,m,x,P=this._toArray(s),M=this._checkInGetSeparated(P),B=M.groups;for(this._originalAddLayers(M.singles),f=0;f<B.length;f++)m=B[f],x=w.stamp(m),this._proxyLayerGroups[x]=m,delete this._proxyLayerGroupsNeedRemoving[x],this._map&&this._map._originalAddLayer(m)},addLayer:function(s){return this._bufferSingleAddRemove(s,"addLayers"),this},_originalAddLayer:w.MarkerClusterGroup.prototype.addLayer,_originalAddLayers:w.MarkerClusterGroup.prototype.addLayers,removeLayers:function(s){var f,m,x=this._toArray(s),P=this._separateSingleFromGroupLayers(x,{groups:[],singles:[]}),M=P.groups,B=P.singles,F=0;for(this._originalRemoveLayers(B);F<M.length;F++)f=M[F],m=w.stamp(f),delete this._proxyLayerGroups[m],this._map?this._map._originalRemoveLayer(f):this._proxyLayerGroupsNeedRemoving[m]=f;return this},removeLayer:function(s){return this._bufferSingleAddRemove(s,"removeLayers"),this},_originalRemoveLayer:w.MarkerClusterGroup.prototype.removeLayer,_originalRemoveLayers:w.MarkerClusterGroup.prototype.removeLayers,onAdd:function(s){s._originalAddLayer=s._originalAddLayer||s.addLayer,s._originalRemoveLayer=s._originalRemoveLayer||s.removeLayer,w.extend(s,o);var f,m,x,P=this._removePreAddedLayers(s);this._originalOnAdd.call(this,s);for(f in this._proxyLayerGroups)m=this._proxyLayerGroups[f],s._originalAddLayer(m);for(f in this._proxyLayerGroupsNeedRemoving)m=this._proxyLayerGroupsNeedRemoving[f],s._originalRemoveLayer(m),delete this._proxyLayerGroupsNeedRemoving[f];for(x=0;x<P.length;x++)s.addLayer(P[x])},_originalOnAdd:w.MarkerClusterGroup.prototype.onAdd,_bufferSingleAddRemove:function(s,f){var m,x=this.options.singleAddRemoveBufferDuration;x>0?(this._singleAddRemoveBuffer.push({type:f,layer:s}),this._singleAddRemoveBufferTimeout||(m=w.bind(this._processSingleAddRemoveBuffer,this),this._singleAddRemoveBufferTimeout=setTimeout(m,x))):this[f](s)},_processSingleAddRemoveBuffer:function(){for(var s,f,m=this._singleAddRemoveBuffer,x=0,P=[];x<m.length;x++)s=m[x],f||(f=s.type),s.type===f?P.push(s.layer):(this[f](P),f=s.type,P=[s.layer]);this[f](P),m.length=0,clearTimeout(this._singleAddRemoveBufferTimeout),this._singleAddRemoveBufferTimeout=null},_checkInGetSeparated:function(s){var f,m,x=this._separateSingleFromGroupLayers(s,{groups:[],singles:[]}),P=x.groups,M=x.singles;for(f=0;f<P.length;f++)m=P[f],this._recruitLayerGroupAsProxy(m);for(f=0;f<M.length;f++)m=M[f],this._removeFromOtherGroupsOrMap(m),this._layers[w.stamp(m)]=m,m._mcgLayerSupportGroup=this;return x},_separateSingleFromGroupLayers:function(s,f){for(var m,x=f.groups,P=f.singles,M=w.Util.isArray,B=0;B<s.length;B++)m=s[B],m instanceof w.LayerGroup?(x.push(m),this._separateSingleFromGroupLayers(m.getLayers(),f)):M(m)?this._separateSingleFromGroupLayers(m,f):P.push(m);return f},_recruitLayerGroupAsProxy:function(s){var f=s._proxyMcgLayerSupportGroup;if(f){if(f===this)return;f.checkOut(s)}else this._removeFromOwnMap(s);s._proxyMcgLayerSupportGroup=this,s._originalAddLayer=s._originalAddLayer||s.addLayer,s._originalRemoveLayer=s._originalRemoveLayer||s.removeLayer,s._originalOnAdd=s._originalOnAdd||s.onAdd,s._originalOnRemove=s._originalOnRemove||s.onRemove,w.extend(s,a)},_dismissProxyLayerGroup:function(s){if(s._proxyMcgLayerSupportGroup!==C&&s._proxyMcgLayerSupportGroup===this){delete s._proxyMcgLayerSupportGroup,s.addLayer=s._originalAddLayer,s.removeLayer=s._originalRemoveLayer,s.onAdd=s._originalOnAdd,s.onRemove=s._originalOnRemove;var f=w.stamp(s);delete this._proxyLayerGroups[f],delete this._proxyLayerGroupsNeedRemoving[f],this._removeFromOwnMap(s)}},_removeFromOtherGroupsOrMap:function(s){var f=s._mcgLayerSupportGroup;if(f){if(f===this)return;f.checkOut(s)}else s.__parent?s.__parent._group.removeLayer(s):this._removeFromOwnMap(s)},_removeFromOwnMap:function(s){s._map&&s._map.removeLayer(s)},_removePreAddedLayers:function(s){var f,m=this._layers,x=[];for(var P in m)f=m[P],f._map&&(x.push(f),s._originalRemoveLayer(f));return x},_toArray:function(s){return w.Util.isArray(s)?s:[s]}});var k=w.FeatureGroup.extend({addLayer:function(s){if(this.hasLayer(s))return this;s.addEventParent(this);var f=w.stamp(s);return this._layers[f]=s,this._map&&this._map._originalAddLayer(s),this.fire("layeradd",{layer:s})},removeLayer:function(s){if(!this.hasLayer(s))return this;s in this._layers&&(s=this._layers[s]),s.removeEventParent(this);var f=w.stamp(s);return this._map&&this._layers[f]&&this._map._originalRemoveLayer(this._layers[f]),delete this._layers[f],this.fire("layerremove",{layer:s})},onAdd:function(s){this._map=s,this.eachLayer(s._originalAddLayer,s)},onRemove:function(s){this.eachLayer(s._originalRemoveLayer,s),this._map=null}}),a={addLayer:function(s){var f=this.getLayerId(s);return this._layers[f]=s,this._map?this._proxyMcgLayerSupportGroup.addLayer(s):this._proxyMcgLayerSupportGroup.checkIn(s),this},removeLayer:function(s){var f=s in this._layers?s:this.getLayerId(s);return this._proxyMcgLayerSupportGroup.removeLayer(s),delete this._layers[f],this},onAdd:function(){this._proxyMcgLayerSupportGroup.addLayers(this.getLayers())},onRemove:function(){this._proxyMcgLayerSupportGroup.removeLayers(this.getLayers())}},o={addLayer:function(s){return s._mcgLayerSupportGroup?s._mcgLayerSupportGroup._originalAddLayer(s):this._originalAddLayer(s)},removeLayer:function(s){return s._mcgLayerSupportGroup?s._mcgLayerSupportGroup._originalRemoveLayer(s):this._originalRemoveLayer(s)}};w.markerClusterGroup.layerSupport=function(s){return new w.MarkerClusterGroup.LayerSupport(s)}})}(bo)),bo.exports}Ms();const Ps=async y=>{let w={distances:[],times:[],origins:[],paths:[],distance_saguapac:[],time_saguapac:[],origin_saguapac:[],path_saguapac:[],costo:0,utilidad:0,factor_zona:0,chofer:0,precio:0,origen:0};try{const C=await fetch("/api/v1/contratar/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lat:y.getLatLng().lat.toFixed(6),lon:y.getLatLng().lng.toFixed(6)})});if(!C.ok)throw new Error("Failed to fetch routes");w=await C.json()}catch(C){console.error("Error fetching routes:",C)}return w};function Es(y){try{if(y.split(",").length===2){const[w,C]=y.split(",").map(k=>parseFloat(k.trim()));if(!isNaN(w)&&!isNaN(C))return[w,C]}if(y.includes("maps.google.com")||y.includes("google.com/maps")){if(y.indexOf("%2C")!==-1){const[w,C]=y.split("%2C"),k=parseFloat(w.split("?q=")[1]),a=parseFloat(C.split("&")[0]);return[k,a]}else if(y.includes("/@")){const w=y.split("/@")[1].split(",");return[parseFloat(w[0]),parseFloat(w[1])]}}return null}catch{return null}}async function Ss(y,w){return(await fetch("/api/v1/basecamion/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:y,coordinates:w})})).json()}async function Ds(y,w){return(await fetch(`/api/v1/basecamion/${y}/`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({available:w})})).json()}async function Os(y){return(await fetch(`/api/v1/basecamion/${y}/`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({deleted:!0})})).json()}const As=(y,w)=>{const C=document.getElementById(y),k=document.getElementById(w);if(!C||!k){console.error("Modal or handle elements not found");return}let a=!1,o=0,s=0;k.addEventListener("mousedown",f=>{a=!0;const m=C.getBoundingClientRect();o=f.clientX-m.left,s=f.clientY-m.top,document.body.style.userSelect="none"}),document.addEventListener("mousemove",f=>{a&&(C.style.position="fixed",C.style.margin="0",C.style.left=`${f.clientX-o}px`,C.style.top=`${f.clientY-s}px`)}),document.addEventListener("mouseup",()=>{a=!1,document.body.style.userSelect=""})},Is="/api/v1/clientes/";async function zs(y,w,C,k,a="COT",o="ADM",s=""){const f={name:y,tel1:w,cost:C,lat:k.getLatLng().lat.toFixed(6),lon:k.getLatLng().lng.toFixed(6),status:a,user:o,cod:s};return fetch(Is,{method:"POST",body:JSON.stringify(f),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json","User-Agent":"BE pzosSCZ"}}).then(m=>{if(!m.ok)throw console.log(m),new Error(`${m.statusText} - Status: ${m.status}`);return m.json()}).then(m=>m).catch(m=>{throw console.error("Error:",m),m}).finally(()=>{console.log("Data cleared after fetch.")})}const xo=document.getElementById("tbValores"),Co=document.getElementById("tbMenor"),ko=document.getElementById("tbFinal"),To=document.getElementById("tbPrecios"),Mr=document.getElementById("formName"),Mo=document.getElementById("formPhone"),Pr=document.getElementById("formCost"),Bs=document.getElementById("saveData");let sn="",an=[],Vi=null,_r;function Go(){for(;xo.firstChild;)xo.removeChild(xo.firstChild);for(;To.firstChild;)To.removeChild(To.firstChild);for(;Co.firstChild;)Co.removeChild(Co.firstChild);for(;ko.firstChild;)ko.removeChild(ko.firstChild);Mr.value="",Mo.value="",Pr.value=""}function Ns(y,w,C,k,a){w.forEach((o,s)=>{const f=document.createElement("tr"),m=document.createElement("td"),x=document.createElement("td"),P=document.createElement("td");m.textContent=o,m.style.color=a[s],x.textContent=C[s].toFixed(1),P.textContent=k[s].toFixed(0),f.appendChild(m),f.appendChild(x),f.appendChild(P),y.appendChild(f)})}const Rs=(y,w,C,k)=>{Vi=k,_r=C;const a=document.getElementById("modalPrecio");Go(),a.addEventListener("close",()=>{console.log("close"),Go()}),y.paths.forEach((V,wt)=>{const bt=Q.polyline(V,{color:w[wt%w.length],opacity:.95}).addTo(Vi);an.push(bt)}),y.path_saguapac.forEach(V=>{const wt=Q.polyline(V,{color:"black",opacity:.35}).addTo(Vi);an.push(wt)}),Ns(xo,y.origins,y.distances.map(V=>V/1e3),y.times.map(V=>V/60),w);const o=document.createElement("tr"),s=document.createElement("td"),f=document.createElement("td"),m=document.createElement("td");s.textContent=y.origins[y.origen],f.textContent=(y.distances[y.origen]/1e3).toFixed(1),m.textContent=y.factor_zona.toFixed(2),m.style.color=Math.abs(y.factor_zona-1)>.001?"yellow":"white",o.appendChild(s),o.appendChild(f),o.appendChild(m),Co.appendChild(o);const x=document.createElement("tr"),P=document.createElement("td"),M=document.createElement("td"),B=document.createElement("td");P.textContent=y.costo.toFixed(0),M.textContent=y.chofer.toFixed(0),B.textContent=y.utilidad.toFixed(0),x.appendChild(P),x.appendChild(M),x.appendChild(B),ko.appendChild(x);const F=document.createElement("tr"),j=document.createElement("td"),H=document.createElement("td"),ut=document.createElement("td");j.textContent=y.precio.toFixed(0),sn=(Math.round(y.precio/10)*10).toFixed(0),H.textContent=sn,H.style.color="yellow",H.classList.add("text-lg","font-medium"),ut.textContent=(Math.ceil(y.precio/5)*5*1.18).toFixed(0),F.appendChild(j),F.appendChild(H),F.appendChild(ut),To.appendChild(F),a.showModal(),As("draggableModal","modalHeader"),Pr.value=sn,setTimeout(()=>{Mo.focus()},100),Bs.onclick=async()=>{if(Mo.value.length<8){Vt("validaciÃ³n","map","El telÃ©fono debe tener al menos 8 dÃ­gitos.","top","error");return}if(sn===""||parseInt(sn)<300){Vt("validaciÃ³n","map","El precio no debe quedar en blanco o es un valor invÃ¡lido.","top","error");return}try{const V=await zs(Mr.value,Mo.value,parseInt(sn),_r);Vt("postData","map","Datos guardados con Ã©xito","top","success");const{groupEje:wt,groupCot:bt}=await Tr();window.mcgLayerSupportGroup&&(window.mcgLayerSupportGroup.checkIn(bt),wt.forEach(It=>{It&&It.removeFrom(Vi)}),bt.forEach(It=>{It&&It.addTo(Vi)})),a.close(),Go(),an&&an.length>0&&(an.forEach(It=>{It&&Vi&&Vi.removeLayer(It)}),an=[])}catch(V){Vt("postData","map",`${V}`,"top","error")}}};L.Control.SliderControl=L.Control.extend({options:{position:"topright",layers:null,timeAttribute:"time",isEpoch:!1,startTimeIdx:0,timeStrLength:19,maxValue:-1,minValue:0,showAllOnStart:!1,markers:null,range:!1,follow:!1,sameDate:!1,alwaysShowDate:!1,rezoom:null},initialize:function(y){L.Util.setOptions(this,y),this._layer=this.options.layer},extractTimestamp:function(y,w){return w.isEpoch&&(y=new Date(parseInt(y)).toString()),y.substr(w.startTimeIdx,w.startTimeIdx+w.timeStrLength)},setPosition:function(y){var w=this._map;return w&&w.removeControl(this),this.options.position=y,w&&w.addControl(this),this.startSlider(),this},onAdd:function(y){this.options.map=y;var w=L.DomUtil.create("div","slider",this._container);$(w).append('<div id="leaflet-slider" style="width:200px"><div class="ui-slider-handle"></div><div id="slider-timestamp" style="width:200px; margin-top:13px; background-color:#FFFFFF; text-align:center; border-radius:5px;"></div></div>'),$(w).mousedown(function(){y.dragging.disable()}),$(document).mouseup((function(){y.dragging.enable(),(this.options.range||!this.options.alwaysShowDate)&&$("#slider-timestamp").html("")}).bind(this));var C=this.options;if(this.options.markers=[],this._layer){var k=0;this._layer.eachLayer(function(a){C.markers[k]=a,++k}),C.maxValue=k-1,this.options=C}else console.log("Error: You have to specify a layer via new SliderControl({layer: your_layer});");return w},onRemove:function(y){for(var w=this.options.minValue;w<=this.options.maxValue;w++)y.removeLayer(this.options.markers[w]);$("#leaflet-slider").remove(),$(document).off("mouseup"),$(".slider").off("mousedown")},startSlider:function(){var y=this.options,w=this.extractTimestamp,C=y.minValue;y.showAllOnStart&&(C=y.maxValue,y.range?y.values=[y.minValue,y.maxValue]:y.value=y.maxValue),$("#leaflet-slider").slider({range:y.range,value:y.value,values:y.values,min:y.minValue,max:y.maxValue,sameDate:y.sameDate,step:1,slide:function(a,o){var s=y.map,f=L.featureGroup();if(y.markers[o.value]){y.markers[o.value].feature!==void 0?y.markers[o.value].feature.properties[y.timeAttribute]?y.markers[o.value]&&$("#slider-timestamp").html(w(y.markers[o.value].feature.properties[y.timeAttribute],y)):console.error("Time property "+y.timeAttribute+" not found in data"):y.markers[o.value].options[y.timeAttribute]?y.markers[o.value]&&$("#slider-timestamp").html(w(y.markers[o.value].options[y.timeAttribute],y)):console.error("Time property "+y.timeAttribute+" not found in data");var m;for(m=y.minValue;m<=y.maxValue;m++)y.markers[m]&&s.removeLayer(y.markers[m]);if(y.range)for(m=o.values[0];m<=o.values[1];m++)y.markers[m]&&(s.addLayer(y.markers[m]),f.addLayer(y.markers[m]));else if(y.follow)for(m=o.value-y.follow+1;m<=o.value;m++)y.markers[m]&&(s.addLayer(y.markers[m]),f.addLayer(y.markers[m]));else if(y.sameDate){var x;for(y.markers[o.value].feature!==void 0?x=y.markers[o.value].feature.properties.time:x=y.markers[o.value].options.time,m=y.minValue;m<=y.maxValue;m++)y.markers[m].options.time==x&&s.addLayer(y.markers[m])}else for(m=y.minValue;m<=o.value;m++)y.markers[m]&&(s.addLayer(y.markers[m]),f.addLayer(y.markers[m]))}y.rezoom&&s.fitBounds(f.getBounds(),{maxZoom:y.rezoom})}}),!y.range&&y.alwaysShowDate&&$("#slider-timestamp").html(w(y.markers[C].options[y.timeAttribute],y));for(var k=y.minValue;k<=C;k++)y.map.addLayer(y.markers[k])}});L.control.sliderControl=function(y){return new L.Control.SliderControl(y)};window.jQuery=Lr;window.$=Lr;let Ke,Uo,Po=[],mr;const Zs=["red","green","blue","cyan"],gr=document.getElementById("overlay"),Hs={},jo=["#B0B0B0","#FF5733","#286d31","#3357FF","#A633FF","#FF8333","#33FFD5","#D5FF33","#33A6FF","#5733FF","#787878","#FF33A6"],Pt=new Q.Map("map",{center:[-17.784071,-63.180522],zoom:12,maxZoom:20,zoomControl:!1}),Fs=Q.tileLayer("https://{s}.tile.osm.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}).addTo(Pt),Gs=Q.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{maxZoom:19,attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"});Pt.getContainer().style.cursor="crosshair";const Fn=document.getElementById("putMarker");Fn.disabled=!0;const Ti=document.getElementById("URLwhatsapp");Ti.addEventListener("input",y=>{Ti.value.length>=28?Fn.disabled=!1:Fn.disabled=!0});Q.control.custom({position:"topright",content:`<div class="ml-18">
                <button id="cotiza" class="btn btn-secondary btn-sm sombra">
                  COTIZA
                </button>
              </div>`,events:{click:async()=>{gr.classList.remove("invisible"),mr=await Ps(Ke),gr.classList.add("invisible"),Rs(mr,Zs,Ke,Pt)}}}).addTo(Pt);const Eo=document.getElementById("cotiza");Eo.disabled=!0;Fn.onclick=()=>{let y=0,w=0;try{if(Ti.value.indexOf("%2C")!=-1){let C=Ti.value.split("%2C"),k=C[0].split("?q="),a=C[1].split("&z=");y=parseFloat(k[1]),w=parseFloat(a[0])}if(Ti.value.indexOf(",")!=-1){let C=Ti.value.split(",");if(C.length==2){let k=C[0].split("?q=");k.length==1?y=parseFloat(C[0]):y=parseFloat(k[1]),w=parseFloat(C[1])}if(C.length==3){let k=C[0].split("/@");y=parseFloat(k[1]),w=parseFloat(C[1])}}Ti.value="",Ke?Pt.removeLayer(Ke):Eo.disabled=!1,Pt.flyTo([y,w],16),Ke=new Q.Marker([y,w],{icon:qo}).addTo(Pt),Fn.disabled=!0}catch{alert("Algo saliÃ³ mal"),Ti.value=""}};const Us=document.getElementById("BaseMarker"),Vo=document.getElementById("GuardarBaseMarker");let Hn=null;Us.addEventListener("click",()=>{const y=document.getElementById("coordinates");if(Hn=Es(y.value),!Hn){Vt("coordinates","map","Formato de coordenadas invÃ¡lido. Use lat,lon o un link de Google Maps.","top","error");return}const[w,C]=Hn,k=new Q.LatLng(w,C);Uo&&Pt.removeLayer(Uo),Uo=new Q.Marker(k,{icon:Kr}).addTo(Pt),Pt.flyTo(k,13),Vo.disabled=!1});Vo.disabled=!0;Vo.addEventListener("click",async()=>{const w=document.getElementById("nameCamion").value;if(w.length<3){Vt("name","map","El nombre debe tener al menos 3 caracteres","top","error");return}try{Hn?(await Ss(w,Hn),Vt("name","map","Base agregada exitosamente","top","success"),setTimeout(()=>{location.reload()},2500)):Vt("name","map","No se encontraron coordenadas para la base","top","error")}catch{Vt("name","map","Hubo un error al agregar la base","top","error")}});document.querySelectorAll(".locate-camion").forEach(y=>{y.addEventListener("click",w=>{const C=w.target.closest("tr");if(C){const k=C.querySelector(".camion-coords");if(k&&k.value)try{const a=JSON.parse(k.value);Pt.flyTo(a,13)}catch(a){console.error("Error parsing coordinates:",a)}}})});document.querySelectorAll(".checkbox-camion").forEach(y=>{y.addEventListener("change",w=>{const C=w.target.closest("tr");if(C){const k=C.querySelector(".checkbox-camion");if(k){const a=k.dataset.camionId||"",o=k.checked;try{Ds(a,o)}catch{Vt("camion","map","Hubo un error al actualizar el camion","top","error")}const s=Hs[a];s&&(o?s.addTo(Pt):s.removeFrom(Pt))}}})});document.querySelectorAll(".delete-camion").forEach(y=>{y.addEventListener("click",async w=>{var k;const C=w.target.closest("tr");if(C){const a=C.querySelector(".camion-id"),o=((k=C.querySelector("td"))==null?void 0:k.textContent)||"este camiÃ³n";if(a&&a.value&&confirm(`Â¿EstÃ¡ seguro que desea eliminar ${o}?`))try{await Os(a.value),Vt("camion","map","Camion eliminado exitosamente","top","success"),setTimeout(()=>{location.reload()},2500)}catch{Vt("camion","map","Hubo un error al eliminar el camion","top","error")}}})});function Wo(y){const w=document.querySelector("nav");w&&!w.contains(y.originalEvent.target)&&(Ke?Pt.removeLayer(Ke):Eo.disabled=!1,Ke=new Q.Marker(y.latlng,{icon:qo}).addTo(Pt),console.log("Lat: "+y.latlng.lat.toFixed(6)+", Lon: "+y.latlng.lng.toFixed(6)),Po.forEach(C=>Pt.removeLayer(C)),Po=[])}Pt.on("click",Wo);const js=new Yr(Xr);js.addTo(Pt);Pt.on("locationfound",function(y){const w=y.latlng.lat,C=y.latlng.lng;console.log("Lat: "+w+", Lon: "+C),Ke?Pt.removeLayer(Ke):Eo.disabled=!1,Ke=new Q.Marker(y.latlng,{icon:qo}).addTo(Pt),Po.forEach(k=>Pt.removeLayer(k)),Po=[]});Pt.on("locationerror",function(y){alert(y.message)});var Gn=new Q.FeatureGroup;Pt.addLayer(Gn);const qs=new Q.Control.Draw({edit:{featureGroup:Gn},draw:{polygon:{allowIntersection:!0,showArea:!0,drawError:{color:"#e1e100",message:"<strong>Â¡Oh no!</strong> no puedes dibujar eso!"},shapeOptions:{color:"#4e6afc"}},polyline:!1,rectangle:!1,circle:!1,marker:!1,circlemarker:!1}});Pt.addControl(qs);Pt.on(Q.Draw.Event.DRAWSTART,function(){Pt.off("click",Wo)});Pt.on(Q.Draw.Event.CREATED,function(y){const w=y.layer;Gn.clearLayers(),Gn.addLayer(w),Vs(w),Pt.on("click",Wo)});function Vs(y){if(y instanceof Q.Polygon){const C=y.getLatLngs()[0].map(o=>[Number(o.lat.toFixed(6)),Number(o.lng.toFixed(6))]),k=JSON.stringify(C),a=document.getElementById("polygon-coordinates");a.value=k,Vt("polygon-coordinates","map","Las coordenadas del polÃ­gono han sido capturadas.","top","success")}else Vt("polygon-coordinates","map","El tipo de capa no es un polÃ­gono.","top","error")}const Ws=document.getElementById("submit-coordinates"),vr=document.getElementById("polygon-coordinates");Ws.addEventListener("click",()=>{if(!vr){Vt("coordenadas","map","El Ã¡rea de texto para las coordenadas no se encontrÃ³.","top","error");return}try{const y=JSON.parse(vr.value);if(Array.isArray(y)&&y.every(w=>Array.isArray(w)&&w.length===2)){const w=y.map(k=>new Q.LatLng(k[0],k[1])),C=new Q.Polygon(w,{color:"blue"});Gn.addLayer(C),Pt.fitBounds(C.getBounds())}else Vt("coordenadas","map","Formato de coordenadas invÃ¡lido. AsegÃºrese de que las coordenadas estÃ©n en el formato correcto.","top","error")}catch{Vt("coordenadas","map","Error al parsear las coordenadas. AsegÃºrese de que las coordenadas estÃ©n en el formato JSON correcto.","top","error")}});const $s=document.getElementById("savePolygon");$s.addEventListener("submit",y=>{y.preventDefault();const w=y.target,C=document.getElementById("factor");let k=C.value.replace(",",".");if(console.log(k),isNaN(parseFloat(k)))return Vt("factor","map","Ingrese un valor numÃ©rico vÃ¡lido para el factor.","top","warning"),!1;C.value=k;const a=new FormData(w);return fetch(w.action,{method:w.method,body:a}).then(o=>{o.ok?(Vt("creaArea","map","Area agregada exitosamente","top","success"),setTimeout(()=>{location.reload()},3e3)):Vt("creaArea","map","Hubo un error al agregar el Ã¡rea","top","error")}).catch(o=>{Vt("creaArea","map","Hubo un error al agregar el Ã¡rea","top","error")}),!1});async function Ys(){return await fetch("/api/v1/areasfactor/").then(w=>w.json()).then(w=>w)}let yr=[],ln,pe;async function Xs(){try{(await Ys()).forEach((m,x)=>{const M=m.polygon.map(B=>new Q.LatLng(B[0],B[1]));yr.push({label:`<span style="color: ${jo[x%jo.length]}">   ${m.name} ${m.factor}</span>`,layer:new Q.Polygon(M,{color:jo[x]})})}),{groupEje:pe,groupCot:ln}=await Tr();var y={spiderLegPolylineOptions:{weight:0},spiderfyOnMaxZoom:!0,zoomToBoundsOnClick:!1,removeOutsideVisibleBounds:!0,showCoverageOnHover:!0,disableClusteringAtZoom:18,maxClusterRadius:50,spiderfyDistanceMultiplier:1,chunkedLoading:!0,chunkInterval:100,singleAddRemoveBufferDuration:200},w=Q.markerClusterGroup.layerSupport(y);w.addTo(Pt),w.checkIn(ln),w.checkIn(pe),pe.forEach(m=>{m.addTo(Pt)});var C={label:"<strong>Capas Base</strong>",children:[{label:"OpenStreetMap",layer:Fs},{label:"Esri World Imagery",layer:Gs}]},k={label:"<strong> Zonas / Clientes</strong>",selectAllCheckbox:"Un/select all",children:[{label:" Factor por zona",selectAllCheckbox:!0,children:yr},{label:" Ejecutados",selectAllCheckbox:"Un/select all",collapsed:!0,children:[{label:'<div class="puntos bg-precio300">&zwnj;</div>...300',layer:pe[0]},{label:'<div class="puntos bg-precio350">&zwnj;</div>Â Â Â 350',layer:pe[1]},{label:'<div class="puntos bg-precio400">&zwnj;</div>Â Â Â 400',layer:pe[2]},{label:'<div class="puntos bg-precio450">&zwnj;</div>Â Â Â 450',layer:pe[3]},{label:'<div class="puntos bg-precio500">&zwnj;</div>Â Â Â 500',layer:pe[4]},{label:'<div class="puntos bg-precio600">&zwnj;</div>Â Â Â 600',layer:pe[5]},{label:'<div class="puntos bg-precio700">&zwnj;</div>Â Â Â 700',layer:pe[6]},{label:'<div class="puntos bg-precio800">&zwnj;</div>Â Â Â 800',layer:pe[7]},{label:'<div class="puntos bg-precio900">&zwnj;</div>Â Â Â 900',layer:pe[8]},{label:'<div class="puntos bg-precio1000">&zwnj;</div>Â 1000...',layer:pe[9]},{label:'<div class="puntos bg-precioNegro">&zwnj;</div>Â Â L.N',layer:pe[10]}]},{label:" Cotizados",selectAllCheckbox:"Un/select all",collapsed:!0,children:[{label:"Administrador",layer:ln[0]},{label:"Cliente Confirma",layer:ln[1]},{label:"Cliente Cancela",layer:ln[2]}]}]};Q.control.layers.tree(C,k,{position:"bottomleft",collapsed:!1}).addTo(Pt);const o=pe.flatMap(m=>m.getLayers()),s=ln.flatMap(m=>m.getLayers()),f=[...o,...s];Un.onload=()=>{let m=new Q.LayerGroup(f);const x=Q.control.sliderControl({position:"topright",layer:m,timeAttribute:"time",isEpoch:!1,startTimeIdx:0,timeStrLength:19,maxValue:-1,minValue:0,showAllOnStart:!0,alwaysShowDate:!0,range:!0});Pt.addControl(x),x.startSlider()}}catch(a){console.error("Error al obtener las Ã¡reas:",a)}}Xs();Pt.whenReady(()=>{});const Un=document.createElement("script");Un.src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js";Un.integrity="sha256-lSjKY0/srUM9BE3dPm+c4fBo1dky2v27Gdjm2uoZaL0=";Un.crossOrigin="anonymous";const $o=document.createElement("link");$o.rel="stylesheet";$o.href="https://code.jquery.com/ui/1.13.2/themes/base/jquery-ui.min.css";document.head.appendChild($o);document.head.appendChild(Un);
